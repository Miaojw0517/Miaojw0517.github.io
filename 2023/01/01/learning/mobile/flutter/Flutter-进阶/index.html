<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Flutter_进阶 | 啤啤熊</title><meta name="keywords" content="Flutter"><meta name="author" content="啤啤熊"><meta name="copyright" content="啤啤熊"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Flutter 中的路由 Flutter中的路由通俗的讲就是页面跳转。在Flutter中通过Navigator组件管理路由导航.并提供了管理堆栈的方法。如: Navigator.push和Navigator.popFlutter中给我们提供了两种配置路由跳转的方式:   基本路由  命名路由   普通路由普通路由基本用法跳转12Navigator.push(context, MaterialPag"><meta property="og:type" content="article"><meta property="og:title" content="Flutter_进阶"><meta property="og:url" content="https://ppxiong.msirknightblog.cn/2023/01/01/learning/mobile/flutter/Flutter-%E8%BF%9B%E9%98%B6/index.html"><meta property="og:site_name" content="啤啤熊"><meta property="og:description" content="Flutter 中的路由 Flutter中的路由通俗的讲就是页面跳转。在Flutter中通过Navigator组件管理路由导航.并提供了管理堆栈的方法。如: Navigator.push和Navigator.popFlutter中给我们提供了两种配置路由跳转的方式:   基本路由  命名路由   普通路由普通路由基本用法跳转12Navigator.push(context, MaterialPag"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-40.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50"><meta property="article:published_time" content="2023-01-01T08:01:16.000Z"><meta property="article:modified_time" content="2023-06-05T13:03:31.271Z"><meta property="article:author" content="啤啤熊"><meta property="article:tag" content="Flutter"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-40.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50"><link rel="shortcut icon" href="https://www.msirknightblog.cn/static/images/site/avatar.jpg?imageMogr2/thumbnail/200x/blur/1x0/quality/75|imageslim"><link rel="canonical" href="https://ppxiong.msirknightblog.cn/2023/01/01/learning/mobile/flutter/Flutter-%E8%BF%9B%E9%98%B6/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://npm.elemecdn.com/@fortawesome/fontawesome-free@latest/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/@fancyapps/ui@latest/dist/fancybox.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:{appId:"72G1NZ2R6Z",apiKey:"f1ea06bf398a3faacaeeb2ce42db29ee",indexName:"firstIndex",hits:{per_page:6},languages:{input_placeholder:"搜索文章",hits_empty:"找不到您查询的内容：${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:void 0,translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},noticeOutdate:{limitDay:365,position:"top",messagePrev:"It has been",messageNext:"days since the last update, the content of the article may be outdated."},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:350},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!0,post:!0},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#4276c9",bgDark:"#203961",position:"top-right"},source:{justifiedGallery:{js:"https://npm.elemecdn.com/flickr-justified-gallery@latest/dist/fjGallery.min.js",css:"https://npm.elemecdn.com/flickr-justified-gallery@latest/dist/fjGallery.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Flutter_进阶",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-06-05 21:03:31"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,a){if(0!==a){const o=new Date;a=864e5*a,t={value:t,expiry:o.getTime()+a};localStorage.setItem(e,JSON.stringify(t))}},get:function(e){var t=localStorage.getItem(e);if(t){t=JSON.parse(t);const a=new Date;if(!(a.getTime()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=o=>new Promise((t,e)=>{const a=document.createElement("script");a.src=o,a.async=!0,a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};var e=saveToLocal.get("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,a=window.matchMedia("(prefers-color-scheme: light)").matches,o=window.matchMedia("(prefers-color-scheme: no-preference)").matches,c=!t&&!a&&!o;if(void 0===e){if(a)activateLightMode();else if(t)activateDarkMode();else if(o||c){const n=new Date;a=n.getHours();(a<=6||18<=a?activateDarkMode:activateLightMode)()}window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode:activateLightMode)()})}else("light"===e?activateLightMode:activateDarkMode)();t=saveToLocal.get("aside-status");void 0!==t&&("hide"===t?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="referrer" content="no-referrer"><link rel="stylesheet" href="/css/customer_style.css"><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/customer_butterfly.css"><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/rightMenu.css"><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/commentBarrage.css"><link rel="stylesheet" href="/css/essay_page.css"><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/cheesy_pick-up_lines.css"><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/stars.css"><link rel="stylesheet" href="https://at.alicdn.com/t/c/font_3970213_1fi3ffivzda.css"><style id="barragesColor"></style><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/swiper.min.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css"><link rel="stylesheet" href="https://npm.elemecdn.com/remixicon@2.5.0/fonts/remixicon.css"><link rel="stylesheet" href="https://www.msirknightblog.cn/static/font/iconfont.css"><svg aria-hidden="true" style="position:absolute;overflow:hidden;width:0;height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/cardlistpost.min.css"><style>#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags:before{content:"\A"}#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags>.article-meta__separator{display:none}</style><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload='this.media="all"'><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload='this.media="screen"'><meta name="generator" content="Hexo 6.2.0"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",()=>{preloader.endLoading()})</script><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/progress_bar.css"><script src="/"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/site/avatar.jpg?imageMogr2/thumbnail/200x/blur/1x0/quality/75|imageslim" onerror='onerror=null,src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">135</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 文库</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 我的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/talk/"><i class="fa-fw fas fa-video"></i><span> 动态</span></a></li><li><a class="site-page child" href="/wish-list/"><i class="fa-fw fa-fw fas fa-bars-staggered"></i><span> 清单</span></a></li><li><a class="site-page child" href="/photo-wall/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 友链</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></li><li><a class="site-page child" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-sharp fa-solid fa-folder-open"></i><span> 收藏</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/repository/"><i class="fa-fw fas fa-sharp fa-solid fa-layer-group"></i><span> 资源库</span></a></li><li><a class="site-page child" href="/common-lib/"><i class="fa-fw fas fa-sharp fa-solid fa-cube"></i><span> 开发常用库</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw fas fa-layer-group"></i><span> 统计</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="back-home"><div class="back-home-button" tabindex="-1"><i class="back-home-button-icon fas fa-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="/" title="前往博客主页" target="_blank" one-link-mark="yes"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/site/avatar.jpg"><span class="back-menu-item-text">我的博客</span></a><a class="back-menu-item" href="https://cloud.tencent.com/login?s_url=https%3A%2F%2Fconsole.cloud.tencent.com%2Fdomain%2Fall-domain" rel="external nofollow" title="前往腾讯云" target="_blank" one-link-mark="yes"><i class="back-menu-item-icon iconfont icon-yun"></i><span class="back-menu-item-text">腾讯云服务</span></a><a class="back-menu-item" href="https://portal.qiniu.com/kodo/bucket" rel="external nofollow" title="前往七牛云图床" target="_blank" one-link-mark="yes"><i class="back-menu-item-icon iconfont icon-yun"></i><span class="back-menu-item-text">七牛云图床</span></a><a class="back-menu-item" href="https://memos.msirknightblog.cn/explore" rel="external nofollow" title="前往Memos" target="_blank" one-link-mark="yes"><i class="back-menu-item-icon iconfont icon-dongtai"></i><span class="back-menu-item-text">Memos动态</span></a><a class="back-menu-item" href="http://82.157.255.243:81/" rel="external nofollow" title="Nginx Proxy Manager" target="_blank" one-link-mark="yes"><i class="back-menu-item-icon iconfont icon-daililiebiaoICO"></i><span class="back-menu-item-text">Nginx Proxy Manager</span></a></div></div></div></div></span><span id="blog_name"><a id="site-name" href="/" title="返回博客主页"><span>啤啤熊 </span></a></span><span id="page_name"><a id="page-name-text" title="回到顶部" onclick="btf.scrollToDest(0,500)"><span>啤啤熊</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 文库</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 我的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/talk/"><i class="fa-fw fas fa-video"></i><span> 动态</span></a></li><li><a class="site-page child" href="/wish-list/"><i class="fa-fw fa-fw fas fa-bars-staggered"></i><span> 清单</span></a></li><li><a class="site-page child" href="/photo-wall/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 友链</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></li><li><a class="site-page child" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-sharp fa-solid fa-folder-open"></i><span> 收藏</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/repository/"><i class="fa-fw fas fa-sharp fa-solid fa-layer-group"></i><span> 资源库</span></a></li><li><a class="site-page child" href="/common-lib/"><i class="fa-fw fas fa-sharp fa-solid fa-cube"></i><span> 开发常用库</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw fas fa-layer-group"></i><span> 统计</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div><div id="hotkey"><div id="search-button"><a class="site-page social-icon search" title="搜索"><i class="ri-search-eye-line"></i></a></div><div id="randompost-button"><a class="site-page" title="随机文章" onclick="toRandomPost()"><i class="ri-subway-fill"></i></a></div><div id="mode-button"><a class="site-page" title="浅色和深色模式转换" onclick="navFn.switchDarkMode()"><i class="ri-sun-fill"></i></a></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-top-cover" style="background-image:url(https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-40.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50)"></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-info"><h1 class="post-title">Flutter_进阶</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-01-01T08:01:16.000Z" title="发表于 2023-01-01 16:01:16">2023-01-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-05T13:03:31.271Z" title="更新于 2023-06-05 21:03:31">2023-06-05</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%A7%BB%E5%8A%A8%E7%AB%AF/">移动端</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">11.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>59分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="Flutter-中的路由"><a href="#Flutter-中的路由" class="headerlink" title="Flutter 中的路由"></a>Flutter 中的路由</h2><blockquote><p>Flutter中的路由通俗的讲就是页面跳转。在Flutter中通过<code>Navigator</code>组件管理<code>路由导航</code>.并提供了管理堆栈的方法。如: <code>Navigator.push</code>和<code>Navigator.popFlutter</code>中给我们提供了<code>两种配置路由跳转的方式</code>:</p><ol><li><code>基本路由</code></li><li><code>命名路由</code></li></ol></blockquote><h3 id="普通路由"><a href="#普通路由" class="headerlink" title="普通路由"></a>普通路由</h3><p><strong>普通路由基本用法</strong><br><code>跳转</code><br></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Navigator.push(context, MaterialPageRoute(builder: (context) =&gt; MyShoppingPage(id: <span class="string">&#x27;54234324123423&#x27;</span>)));</span><br><span class="line"><span class="comment">// Navigator.of(context).push(MaterialPageRoute(builder: (context) =&gt; const MyShoppingPage()));</span></span><br></pre></td></tr></table></figure><br><code>返回上一页</code><br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Navigator.pop(context);</span><br><span class="line"><span class="comment">// ir</span></span><br><span class="line">Navigator.of(context).pop();</span><br></pre></td></tr></table></figure><br><code>路由传参</code><p></p><blockquote><p>传参: 跳转路由 返回的是 部件<code>构造函数</code>，我们可以通过构造函数传参!</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ElevatedButton(</span><br><span class="line">      onPressed: () &#123; </span><br><span class="line">            Navigator.push(context, MaterialPageRoute(builder: (context) =&gt; MyShoppingPage(id: <span class="string">&#x27;54234324123423&#x27;</span>)));</span><br><span class="line">            <span class="comment">// Navigator.of(context).push(MaterialPageRoute(builder: (context) =&gt; const MyShoppingPage()));</span></span><br><span class="line">      &#125;,</span><br><span class="line">      child: <span class="keyword">const</span> Text(<span class="string">&#x27;商品页!&#x27;</span>),</span><br><span class="line">),</span><br></pre></td></tr></table></figure><p><code>有状态组件: 接参</code><br></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyShoppingPage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> id;</span><br><span class="line"></span><br><span class="line">  MyShoppingPage(&#123;<span class="keyword">super</span>.key, <span class="keyword">required</span> <span class="keyword">this</span>.id&#125;);</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">      <span class="built_in">print</span>(id);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><code>无状态组件: 接惨</code><br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 无状态组件 可以 通过  widget.id 来获取参数</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyShoppingPages</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> id;</span><br><span class="line">  <span class="keyword">const</span> MyShoppingPages(&#123;<span class="keyword">super</span>.key, <span class="keyword">required</span> <span class="keyword">this</span>.id&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyShoppingPages&gt; createState() =&gt; _MyShoppingPagesState();</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyShoppingPagesState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyShoppingPages</span>&gt; </span>&#123;</span><br><span class="line"><span class="comment">// 生命周期函数</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    <span class="built_in">print</span>(widget.id);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><span class="p red">注意:</span> <code>statefulWidget</code> 有状态组件中可以<code>widget.id</code> 方式来获取参数, <code>statelessWidget</code> 无状态组件中无法使用<code>widget.id</code>获取参数!<p></p><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">code</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p><code>main.dart</code></p><details class="folding-tag"><summary>main.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./route.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">void</span> main(<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; args) &#123;</span><br><span class="line">  <span class="keyword">return</span> runApp(<span class="keyword">const</span> MyApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          leading: IconButton(onPressed: (() &#123;</span><br><span class="line">          </span><br><span class="line">          &#125;), icon: <span class="keyword">const</span> Icon(Icons.menu)),</span><br><span class="line">          title: <span class="keyword">const</span> Text(<span class="string">&#x27;Route Demo&#x27;</span>),</span><br><span class="line">        ),</span><br><span class="line">        body: <span class="keyword">const</span> MyRouteApp()</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><p><code>route.dart</code></p><details class="folding-tag"><summary>route.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./pages/routePage/shopping.dart&#x27;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRouteApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyRouteApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Column(</span><br><span class="line">        mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">        <span class="comment">// crossAxisAlignment: CrossAxisAlignment.center,</span></span><br><span class="line">        children: [</span><br><span class="line">          ElevatedButton(</span><br><span class="line">            onPressed: () &#123; </span><br><span class="line">              Navigator.push(context, MaterialPageRoute(builder: (context) =&gt; MyShoppingPage(id: <span class="string">&#x27;54234324123423&#x27;</span>)));</span><br><span class="line">              <span class="comment">// Navigator.of(context).push(MaterialPageRoute(builder: (context) =&gt; const MyShoppingPage()));</span></span><br><span class="line">            &#125;,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">&#x27;商品页!&#x27;</span>),</span><br><span class="line">          ),</span><br><span class="line">          <span class="comment">// MaterialButton(onPressed: (() =&gt; &#123;&#125;), child: const Text(&#x27;MaterialButton!&#x27;),)</span></span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><p><code>shopping.dart</code></p><details class="folding-tag"><summary>shopping.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyShoppingPage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="built_in">String</span> id;</span><br><span class="line"></span><br><span class="line">  MyShoppingPage(&#123;<span class="keyword">super</span>.key, <span class="keyword">required</span> <span class="keyword">this</span>.id&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      floatingActionButton: FloatingActionButton(</span><br><span class="line">         onPressed: () &#123; </span><br><span class="line">            <span class="comment">// 返回到上一页</span></span><br><span class="line">            Navigator.pop(context);</span><br><span class="line">         &#125;,</span><br><span class="line">        child: Icon(Icons.home),</span><br><span class="line">      ),</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">&#x27;Shopping Page&#x27;</span>),</span><br><span class="line">        actions: [</span><br><span class="line">          IconButton(onPressed: (() &#123;</span><br><span class="line">          </span><br><span class="line">          &#125;), icon: <span class="keyword">const</span> Icon(Icons.more_horiz_outlined))</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">      body: Center(</span><br><span class="line">        child: Text(<span class="string">&#x27;this is shopping page id: <span class="subst">$&#123;id&#125;</span>!&#x27;</span>, style: Theme.of(context).textTheme.headline5,),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 无状态组件 可以 通过  widget.id 来获取参数</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyShoppingPages</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> id;</span><br><span class="line">  <span class="keyword">const</span> MyShoppingPages(&#123;<span class="keyword">super</span>.key, <span class="keyword">required</span> <span class="keyword">this</span>.id&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyShoppingPages&gt; createState() =&gt; _MyShoppingPagesState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyShoppingPagesState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyShoppingPages</span>&gt; </span>&#123;</span><br><span class="line">  <span class="comment">// 生命周期函数</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    <span class="built_in">print</span>(widget.id);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">&#x27;Shopping Page&#x27;</span>),</span><br><span class="line">        actions: [</span><br><span class="line">          IconButton(onPressed: (() &#123;</span><br><span class="line">          </span><br><span class="line">          &#125;), icon: <span class="keyword">const</span> Icon(Icons.more_horiz_outlined))</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">      body: Center(</span><br><span class="line">        child: Text(<span class="string">&#x27;this is shopping page id: <span class="subst">$&#123;widget.id&#125;</span>!&#x27;</span>, style: Theme.of(context).textTheme.headline5,),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="命名路由"><a href="#命名路由" class="headerlink" title="命名路由"></a>命名路由</h3><blockquote><p><code>命名路由</code>: 可以统一管理路由部件!，根据别名可进行路由跳转!</p></blockquote><p><code>配置方式</code></p><blockquote><p><span class="p red">注意:</span> <code>MyShoppingPage</code> 这里只定义了 一个 路由部件， <code>/searchPage</code> 这种的可自行定义对应路由部件 <code>searchPage</code>;</p></blockquote><details class="folding-tag"><summary>配置方式</summary><div class="content"><p>在<code>MaterialApp()</code> 下加入 <code>routes</code> 配置!<br></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">routes: &#123;</span><br><span class="line">  <span class="string">&#x27;/&#x27;</span>:(context) =&gt; MyShoppingPage(id: <span class="string">&#x27;12312412&#x27;</span>),</span><br><span class="line">  <span class="string">&#x27;/shopping&#x27;</span>:(context) =&gt; MyShoppingPage(id: <span class="string">&#x27;12312412&#x27;</span>),</span><br><span class="line">  <span class="string">&#x27;/searchPage&#x27;</span>:(context) =&gt; MyShoppingPage(id: <span class="string">&#x27;12312412&#x27;</span>),</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:device_preview/device_preview.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./route.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./pages/routePage/shopping.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">void</span> main(<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; args) &#123;</span><br><span class="line">  <span class="keyword">return</span> runApp(</span><br><span class="line">    DevicePreview(enabled: <span class="keyword">true</span> , builder: ((context) =&gt; <span class="keyword">const</span> MyApp()))</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      useInheritedMediaQuery: <span class="keyword">true</span>,</span><br><span class="line">      debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">      locale: DevicePreview.locale(context),</span><br><span class="line">      builder: DevicePreview.appBuilder,</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          leading: IconButton(onPressed: (() &#123;</span><br><span class="line">          </span><br><span class="line">          &#125;), icon: <span class="keyword">const</span> Icon(Icons.menu)),</span><br><span class="line">          title: <span class="keyword">const</span> Text(<span class="string">&#x27;Route Demo&#x27;</span>),</span><br><span class="line">        ),</span><br><span class="line">        body: <span class="keyword">const</span> MyRouteApp()</span><br><span class="line">      ),</span><br><span class="line">      routes: &#123;</span><br><span class="line">        <span class="string">&#x27;/&#x27;</span>:(context) =&gt; MyShoppingPage(id: <span class="string">&#x27;12312412&#x27;</span>),</span><br><span class="line">        <span class="string">&#x27;/shopping&#x27;</span>:(context) =&gt; MyShoppingPage(id: <span class="string">&#x27;12312412&#x27;</span>),</span><br><span class="line">        <span class="string">&#x27;/searchPage&#x27;</span>:(context) =&gt; MyShoppingPage(id: <span class="string">&#x27;12312412&#x27;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p></div></details><p><code>路由跳转</code><br></p><details class="folding-tag"><summary>路由跳转</summary><div class="content"><blockquote><p><code>Navigator.pushNamed</code> 通过此方法可以根据别名定义进行跳转!</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Navigator.pushNamed(context, <span class="string">&#x27;/shopping&#x27;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRouteMameApp</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyRouteMameApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyRouteMameApp&gt; createState() =&gt; _MyRouteMameAppState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyRouteMameAppState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyRouteMameApp</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: ElevatedButton(</span><br><span class="line">        onPressed: () =&gt; &#123;</span><br><span class="line">          Navigator.pushNamed(context, <span class="string">&#x27;/shopping&#x27;</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        child: <span class="keyword">const</span> Text(<span class="string">&#x27;商品页&#x27;</span>),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><p></p><p><code>命名路由传参</code></p><ol><li><p><code>定义 Map Route 对象!</code></p><details class="folding-tag"><summary>命名路由传参</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Map</span> routes = &#123;</span><br><span class="line">  <span class="string">&#x27;/shopping&#x27;</span>:(context) =&gt; MyShoppingPage(), <span class="comment">// 商品页</span></span><br><span class="line">  <span class="comment">// arguments 是命名参数 命名参数通过 &#123; ...  &#125; 获取</span></span><br><span class="line">  <span class="string">&#x27;/individualCenter&#x27;</span>:(context, &#123; arguments &#125;) =&gt; MyIndividualCenterPage( arguments: arguments ), <span class="comment">// 个人中心页</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></details></li><li><p>在<code>MaterialApp(onGenerateRoute: ( settings )&#123;&#125; )</code>配置<code>onGenerateRoute()</code>方法</p><details class="folding-tag"><summary>配置 `onGenerateRoute`</summary><div class="content"><blockquote><p><code>onGenerateRoute</code> <span class="p red">注意:</span>当路由发生跳转时，会触发!<br><code>onGenerateRoute</code> <code>路由拦截器 中间件，可以做权限判断啥的!</code></p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">onGenerateRoute:(RouteSettings settings) &#123;</span><br><span class="line">  <span class="comment">// &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(),</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String?</span> routeName = settings.name; <span class="comment">// /shopping</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">Function?</span> routeFunction = routes[routeName]; <span class="comment">// MyShoppingPage()</span></span><br><span class="line">  <span class="comment">// 找到对应的路由部件进行跳转</span></span><br><span class="line">  <span class="keyword">if</span> ( routeFunction != <span class="keyword">null</span> ) &#123;</span><br><span class="line">    <span class="comment">// 判断跳转路由是否携带参数</span></span><br><span class="line">    <span class="keyword">if</span> ( settings.arguments != <span class="keyword">null</span> ) &#123;</span><br><span class="line">      <span class="keyword">return</span> MaterialPageRoute(builder: (context) =&gt; routeFunction( context, arguments: settings.arguments ));</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="comment">// 返回路由对象</span></span><br><span class="line">    Route route = MaterialPageRoute(builder: (context) =&gt; routeFunction( context ));</span><br><span class="line">    <span class="keyword">return</span> route;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></div></details></li><li><p><code>实现路由``传参跳转</code></p><details class="folding-tag"><summary>传参跳转</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> Center(</span><br><span class="line">  child: Column(</span><br><span class="line">    children: [</span><br><span class="line">      <span class="comment">// 商品页 未带有参数</span></span><br><span class="line">      ElevatedButton(</span><br><span class="line">        onPressed: () =&gt; &#123;</span><br><span class="line">          Navigator.pushNamed(context, <span class="string">&#x27;/shopping&#x27;</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        child: <span class="keyword">const</span> Text(<span class="string">&#x27;商品页&#x27;</span>),</span><br><span class="line">      ),</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 个人中心页 带有参数</span></span><br><span class="line">      ElevatedButton(</span><br><span class="line">        onPressed: () =&gt; &#123;</span><br><span class="line">          Navigator.pushNamed(context, <span class="string">&#x27;/individualCenter&#x27;</span>, arguments: &#123;</span><br><span class="line">            <span class="string">&quot;source&quot;</span>: <span class="string">&quot;source routeName!&quot;</span>,</span><br><span class="line">            <span class="string">&quot;id&quot;</span>: <span class="string">&quot;592379217387128974&quot;</span></span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        child: <span class="keyword">const</span> Text(<span class="string">&#x27;个人中心页&#x27;</span>),</span><br><span class="line">      ),</span><br><span class="line">    ],</span><br><span class="line">  )</span><br><span class="line">);</span><br></pre></td></tr></table></figure></div></details></li><li><p><code>跳转目标路由``接参</code></p><details class="folding-tag"><summary>目标路由接参</summary><div class="content"><blockquote><p>这里以<code>个人中心页</code>演示:</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 个人中心</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyIndividualCenterPage</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 接受命名路由传参</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">Map?</span> arguments;</span><br><span class="line">  <span class="keyword">const</span> MyIndividualCenterPage(&#123;<span class="keyword">super</span>.key, <span class="keyword">this</span>.arguments&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyIndividualCenterPage&gt; createState() =&gt; _MyIndividualCenterPageState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyIndividualCenterPageState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyIndividualCenterPage</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;个人中心&#x27;</span>);</span><br><span class="line">    <span class="built_in">print</span>(widget.arguments);</span><br><span class="line">    <span class="comment">// arguments ? 不为空 的时候获取!  arguments参数是可空参数!</span></span><br><span class="line">    <span class="built_in">print</span>(widget.arguments?[<span class="string">&#x27;id&#x27;</span>]);</span><br><span class="line">    <span class="built_in">print</span>(widget.arguments?[<span class="string">&#x27;source&#x27;</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(title: <span class="keyword">const</span> Text(<span class="string">&#x27;个人中心&#x27;</span>),),</span><br><span class="line">      body: Center(</span><br><span class="line">        child: Text(<span class="string">&#x27;个人中心&#x27;</span>, style: Theme.of(context).textTheme.headline5),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details></li></ol><p><strong>完整代码</strong><br></p><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">code</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p><code>main.dart</code> 引入 <code>shopping.dart</code> 和 <code>individualCenter.dart</code></p><details class="folding-tag"><summary>main.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:device_preview/device_preview.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./routeName.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./pages/routePage/shopping.dart&#x27;</span>; <span class="comment">// 商品页</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./pages/routePage/individualCenter.dart&#x27;</span>; <span class="comment">// 个人中心页</span></span><br><span class="line"><span class="keyword">void</span> main(<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; args) &#123;</span><br><span class="line">  <span class="keyword">return</span> runApp(</span><br><span class="line">    DevicePreview(enabled: <span class="keyword">true</span> , builder: ((context) =&gt; MyApp()))</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Map</span> routes = &#123;</span><br><span class="line">    <span class="string">&#x27;/shopping&#x27;</span>:(context) =&gt; MyShoppingPage(), <span class="comment">// 商品页</span></span><br><span class="line">    <span class="string">&#x27;/individualCenter&#x27;</span>:(context, &#123; arguments &#125;) =&gt; MyIndividualCenterPage(arguments: arguments), <span class="comment">// 个人中心页</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      useInheritedMediaQuery: <span class="keyword">true</span>,</span><br><span class="line">      debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">      locale: DevicePreview.locale(context),</span><br><span class="line">      builder: DevicePreview.appBuilder,</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          leading: IconButton(onPressed: (() &#123;</span><br><span class="line">          </span><br><span class="line">          &#125;), icon: <span class="keyword">const</span> Icon(Icons.menu)),</span><br><span class="line">          title: <span class="keyword">const</span> Text(<span class="string">&#x27;Route Demo&#x27;</span>),</span><br><span class="line">        ),</span><br><span class="line">        body: <span class="keyword">const</span> MyRouteMameApp()</span><br><span class="line">      ),</span><br><span class="line">      <span class="comment">// routes: &#123;</span></span><br><span class="line">      <span class="comment">//   // &#x27;/&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;),</span></span><br><span class="line">      <span class="comment">//   &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;)</span></span><br><span class="line">      <span class="comment">// &#125;,</span></span><br><span class="line">      onGenerateRoute:(RouteSettings settings) &#123;</span><br><span class="line">        <span class="comment">// &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(),</span></span><br><span class="line">        <span class="keyword">final</span> <span class="built_in">String?</span> routeName = settings.name; <span class="comment">// /shopping</span></span><br><span class="line">        <span class="keyword">final</span> <span class="built_in">Function?</span> routeFunction = routes[routeName]; <span class="comment">// MyShoppingPage()</span></span><br><span class="line">        <span class="comment">// 找到对应的路由部件进行跳转</span></span><br><span class="line">        <span class="keyword">if</span> ( routeFunction != <span class="keyword">null</span> ) &#123;</span><br><span class="line">          <span class="comment">// 判断跳转路由是否携带参数</span></span><br><span class="line">          <span class="keyword">if</span> ( settings.arguments != <span class="keyword">null</span> ) &#123;</span><br><span class="line">            <span class="keyword">return</span> MaterialPageRoute(builder: (context) =&gt; routeFunction( context, arguments: settings.arguments ));</span><br><span class="line">          &#125; </span><br><span class="line">          <span class="comment">// 返回路由对象</span></span><br><span class="line">          Route route = MaterialPageRoute(builder: (context) =&gt; routeFunction( context ));</span><br><span class="line">          <span class="keyword">return</span> route;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><p><code>routeName.dart</code> <code>这个界面有两个按钮</code>: <code>商品页</code> <code>个人中心页</code>!</p><details class="folding-tag"><summary>routeName.dart</summary><div class="content"><p><code>传参</code><br></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Navigator.pushNamed(context, <span class="string">&#x27;/individualCenter&#x27;</span>, arguments: &#123;</span><br><span class="line">   <span class="string">&quot;source&quot;</span>: <span class="string">&quot;source routeName!&quot;</span>,</span><br><span class="line">   <span class="string">&quot;id&quot;</span>: <span class="string">&quot;592379217387128974&quot;</span></span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure><br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRouteMameApp</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyRouteMameApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyRouteMameApp&gt; createState() =&gt; _MyRouteMameAppState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyRouteMameAppState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyRouteMameApp</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Column(</span><br><span class="line">        children: [</span><br><span class="line">          <span class="comment">// 商品页</span></span><br><span class="line">          ElevatedButton(</span><br><span class="line">            onPressed: () =&gt; &#123;</span><br><span class="line">              Navigator.pushNamed(context, <span class="string">&#x27;/shopping&#x27;</span>)</span><br><span class="line">            &#125;,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">&#x27;商品页&#x27;</span>),</span><br><span class="line">          ),</span><br><span class="line">          <span class="comment">// 个人中心页</span></span><br><span class="line">          ElevatedButton(</span><br><span class="line">            onPressed: () =&gt; &#123;</span><br><span class="line">              Navigator.pushNamed(context, <span class="string">&#x27;/individualCenter&#x27;</span>, arguments: &#123;</span><br><span class="line">                <span class="string">&quot;source&quot;</span>: <span class="string">&quot;source routeName!&quot;</span>,</span><br><span class="line">                <span class="string">&quot;id&quot;</span>: <span class="string">&quot;592379217387128974&quot;</span></span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">&#x27;个人中心页&#x27;</span>),</span><br><span class="line">          ),</span><br><span class="line">        ],</span><br><span class="line">      )</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p></div></details><p><code>shopping.dart</code></p><details class="folding-tag"><summary>shopping.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyShoppingPage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="comment">// id 为可空 可传 可不传</span></span><br><span class="line">  <span class="built_in">String?</span> id;</span><br><span class="line"></span><br><span class="line">  MyShoppingPage(&#123;<span class="keyword">super</span>.key, <span class="keyword">this</span>.id&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      floatingActionButton: FloatingActionButton(</span><br><span class="line">         onPressed: () &#123; </span><br><span class="line">            <span class="comment">// 返回到上一页</span></span><br><span class="line">            Navigator.pop(context);</span><br><span class="line">         &#125;,</span><br><span class="line">        child: Icon(Icons.home),</span><br><span class="line">      ),</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">&#x27;Shopping Page&#x27;</span>),</span><br><span class="line">        actions: [</span><br><span class="line">          IconButton(onPressed: (() &#123;</span><br><span class="line">          </span><br><span class="line">          &#125;), icon: <span class="keyword">const</span> Icon(Icons.more_horiz_outlined))</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">      body: Center(</span><br><span class="line">        child: Text(<span class="string">&#x27;this is shopping page id: <span class="subst">$&#123;id&#125;</span>!&#x27;</span>, style: Theme.of(context).textTheme.headline5,),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><p><code>individualCenter.dart</code></p><details class="folding-tag"><summary>individualCenter.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 个人中心</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyIndividualCenterPage</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 接受命名路由传参</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">Map?</span> arguments;</span><br><span class="line">  <span class="keyword">const</span> MyIndividualCenterPage(&#123;<span class="keyword">super</span>.key, <span class="keyword">this</span>.arguments&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyIndividualCenterPage&gt; createState() =&gt; _MyIndividualCenterPageState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyIndividualCenterPageState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyIndividualCenterPage</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;个人中心&#x27;</span>);</span><br><span class="line">    <span class="built_in">print</span>(widget.arguments);</span><br><span class="line">    <span class="comment">// arguments ? 不为空 的时候获取!  arguments参数是可空参数!</span></span><br><span class="line">    <span class="built_in">print</span>(widget.arguments?[<span class="string">&#x27;id&#x27;</span>]);</span><br><span class="line">    <span class="built_in">print</span>(widget.arguments?[<span class="string">&#x27;source&#x27;</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(title: <span class="keyword">const</span> Text(<span class="string">&#x27;个人中心&#x27;</span>),),</span><br><span class="line">      body: Center(</span><br><span class="line">        child: Text(<span class="string">&#x27;个人中心&#x27;</span>, style: Theme.of(context).textTheme.headline5),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p></p><p><code>routes [路由封装]</code></p><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">main.dartt</button></li><li class="tab"><button type="button" data-href="#-2">lib/routes/routes.dart</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p><code>initialRoute</code>: <code>主要功能主要是控制app启动的时候进入的是哪个页面。</code></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:device_preview/device_preview.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./routeName.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./routes/routes.dart&#x27;</span>;</span><br><span class="line"><span class="comment">// import &#x27;./pages/routePage/shopping.dart&#x27;;</span></span><br><span class="line"><span class="comment">// import &#x27;./pages/routePage/individualCenter.dart&#x27;;</span></span><br><span class="line"><span class="keyword">void</span> main(<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; args) &#123;</span><br><span class="line">  <span class="keyword">return</span> runApp(</span><br><span class="line">    DevicePreview(enabled: <span class="keyword">true</span> , builder: ((context) =&gt; MyApp()))</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/*  Map routes = &#123;</span></span><br><span class="line"><span class="comment">    &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(), // 商品页</span></span><br><span class="line"><span class="comment">    &#x27;/individualCenter&#x27;:(context, &#123; arguments &#125;) =&gt; MyIndividualCenterPage(arguments: arguments), // 个人中心页</span></span><br><span class="line"><span class="comment">  &#125;; */</span></span><br><span class="line"></span><br><span class="line">  MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      useInheritedMediaQuery: <span class="keyword">true</span>,</span><br><span class="line">      debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">      locale: DevicePreview.locale(context),</span><br><span class="line">      builder: DevicePreview.appBuilder,</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          leading: IconButton(onPressed: (() &#123;</span><br><span class="line">          </span><br><span class="line">          &#125;), icon: <span class="keyword">const</span> Icon(Icons.menu)),</span><br><span class="line">          title: <span class="keyword">const</span> Text(<span class="string">&#x27;Route Demo&#x27;</span>),</span><br><span class="line">        ),</span><br><span class="line">        body: <span class="keyword">const</span> MyRouteMameApp()</span><br><span class="line">      ),</span><br><span class="line">      <span class="comment">// routes: &#123;</span></span><br><span class="line">      <span class="comment">//   // &#x27;/&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;),</span></span><br><span class="line">      <span class="comment">//   &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;)</span></span><br><span class="line">      <span class="comment">// &#125;,</span></span><br><span class="line">      initialRoute: <span class="string">&#x27;/&#x27;</span>, <span class="comment">// 默认加载的路由</span></span><br><span class="line">      onGenerateRoute: onGenerateRoute</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><blockquote><p>创建 <code>lib/routes/routes.dart</code> 引入 <code>shopping.dart</code> <code>individualCenter.dart</code></p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;../pages/routePage/shopping.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;../pages/routePage/individualCenter.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Map</span> routes = &#123;</span><br><span class="line">  <span class="string">&#x27;/shopping&#x27;</span>:(context) =&gt; MyShoppingPage(), <span class="comment">// 商品页</span></span><br><span class="line">  <span class="string">&#x27;/individualCenter&#x27;</span>:(context, &#123; arguments &#125;) =&gt; MyIndividualCenterPage(arguments: arguments), <span class="comment">// 个人中心页</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 配置 onGenerateRoute</span></span><br><span class="line"><span class="keyword">var</span> onGenerateRoute = (RouteSettings settings) &#123;</span><br><span class="line">  <span class="comment">// &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(),</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String?</span> routeName = settings.name; <span class="comment">// /shopping</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">Function?</span> routeFunction = routes[routeName]; <span class="comment">// MyShoppingPage()</span></span><br><span class="line">  <span class="comment">// 找到对应的路由部件进行跳转</span></span><br><span class="line">  <span class="keyword">if</span> ( routeFunction != <span class="keyword">null</span> ) &#123;</span><br><span class="line">    <span class="comment">// 判断跳转路由是否携带参数</span></span><br><span class="line">    <span class="keyword">if</span> ( settings.arguments != <span class="keyword">null</span> ) &#123;</span><br><span class="line">      <span class="keyword">return</span> MaterialPageRoute(builder: (context) =&gt; routeFunction( context, arguments: settings.arguments ));</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="comment">// 返回路由对象</span></span><br><span class="line">    Route route = MaterialPageRoute(builder: (context) =&gt; routeFunction( context ));</span><br><span class="line">    <span class="keyword">return</span> route;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="返回上个路由"><a href="#返回上个路由" class="headerlink" title="返回上个路由"></a>返回上个路由</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Navigator.of(context).pop();</span><br></pre></td></tr></table></figure><h3 id="默认路由"><a href="#默认路由" class="headerlink" title="默认路由"></a>默认路由</h3><blockquote><p>在 <code>MaterialApp( initialRoute : &#39;/&#39;)</code> 下配置</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">initialRoute: <span class="string">&#x27;/&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="路由替换"><a href="#路由替换" class="headerlink" title="路由替换"></a>路由替换</h3><blockquote><p>比如我们从<code>用户中心</code>页面跳转到了<code>registerFirst</code>页面，然后从<code>registerFirst</code>页面通过<code>pushReplacementNamed</code>跳转到了<code>registerSecond</code>页面。这个时候当我们点击<code>registerSecond</code>的<code>返回按钮</code>的时候它会<code>直接返回到用户中心</code>。<br><code>registerFirst</code> 将当前的路由 替换成 <code>registerSecond</code> 路由！</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Navigator.of(context).pushreplacementNamed(<span class="string">&#x27;/registerSecond&#x27;</span>);</span><br></pre></td></tr></table></figure><h3 id="返回到跟路由"><a href="#返回到跟路由" class="headerlink" title="返回到跟路由"></a>返回到跟路由</h3><blockquote><p>比如我们从<code>用户中心</code>跳转到<code>registerFirst</code>页面，然后从<code>registerFirst</code>页面跳转到<code>registerSecond</code>页面，然后从<code>registerSecond</code>跳转到了<code>registerThird</code>页面。这个时候我们想的是<code>registerThird</code>注册成功后<code>返回到用户中心</code>。这个时候就用到了返回到根路由的方法。</p></blockquote><h2 id="Flutter-中的弹窗"><a href="#Flutter-中的弹窗" class="headerlink" title="Flutter 中的弹窗"></a>Flutter 中的弹窗</h2><blockquote><p>在 Flutter中 弹窗是通过 <code>showDialog()</code>来定义的，该 <code>widget</code> 可以返回 <code>AlertDialog</code> <code>SimpleAlertDialog</code> <code>showModalBottomSheet</code> 部件!</p></blockquote><div class="table-container"><table><thead><tr><th>属性</th><th>描述</th><th>参数是否必须</th></tr></thead><tbody><tr><td><code>context</code></td><td>一般为当前路由的context</td><td><code>required</code></td></tr><tr><td><code>barrierDismissible</code></td><td>控制弹窗点击空白区域是否可以关闭弹窗,默认为<code>true</code></td><td><code>no required</code></td></tr><tr><td><code>child</code></td><td>根据需求自定义的<code>Widget</code></td><td><code>no required</code></td></tr><tr><td><code>builder</code></td><td>这个参数是一个返回<code>widget</code> 的回调函数,<code>child</code> 和 <code>builder</code> 只能使用一个</td><td><code>required</code></td></tr><tr><td><code>useRootNavigator</code></td><td>默认为true,用于确定是否将弹窗推送到“context”最远的Navigator,true 为推送到最远,用于处理多个Navigator的情况,一般保持默认就好了</td><td><code>no required</code></td></tr><tr><td><code>routeSettings</code></td><td>包含弹窗路由的配置信息，如路由的名称和传递的参数</td><td><code>no required</code></td></tr></tbody></table></div><h3 id="新建dialog-dart"><a href="#新建dialog-dart" class="headerlink" title="新建dialog.dart"></a>新建<code>dialog.dart</code></h3><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">dialog.dart</button></li><li class="tab"><button type="button" data-href="#-2">AlertDialog</button></li><li class="tab"><button type="button" data-href="#-3">SimpleDialog</button></li><li class="tab"><button type="button" data-href="#-4">ShowModalBottomSheet</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><details class="folding-tag"><summary>dialog</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDialogDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyDialogDemo(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyDialogDemo&gt; createState() =&gt; _MyDialogDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyDialogDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyDialogDemo</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">void</span> alertDialogFn() <span class="keyword">async</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="keyword">await</span> showDialog(</span><br><span class="line">      <span class="comment">// 点击背景是否消失</span></span><br><span class="line">      barrierDismissible: <span class="keyword">true</span>,</span><br><span class="line">      context: context, builder: ((context) &#123;</span><br><span class="line">      <span class="keyword">return</span> AlertDialog(</span><br><span class="line">        title:  <span class="keyword">const</span> Text(<span class="string">&#x27;提示信息:&#x27;</span>),</span><br><span class="line">        content: <span class="keyword">const</span> Text(<span class="string">&#x27;确定要删除吗?&#x27;</span>),</span><br><span class="line">        actions: [</span><br><span class="line">          TextButton(onPressed: ()&#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">            <span class="comment">// 关闭 dialog 窗口 也可以向外卖呢传递参数</span></span><br><span class="line">            Navigator.of(context).pop(<span class="keyword">true</span>); </span><br><span class="line">          &#125;, child: <span class="keyword">const</span> Text(<span class="string">&#x27;确定&#x27;</span>)),</span><br><span class="line">          TextButton(onPressed: ()&#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;cacel&#x27;</span>);</span><br><span class="line">            <span class="comment">// 关闭 dialog 窗口 也可以向外卖呢传递参数</span></span><br><span class="line">            Navigator.of(context).pop(<span class="keyword">false</span>); </span><br><span class="line">          &#125;, child: <span class="keyword">const</span> Text(<span class="string">&#x27;取消&#x27;</span>))</span><br><span class="line">        ],</span><br><span class="line">      );</span><br><span class="line">    &#125;));</span><br><span class="line">    <span class="built_in">print</span>(result);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> simpleDialogOptionFn() <span class="keyword">async</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="keyword">await</span> showDialog(</span><br><span class="line">      <span class="comment">// 点击背景是否消失</span></span><br><span class="line">      barrierDismissible: <span class="keyword">true</span>,</span><br><span class="line">      context: context, builder: ((context) &#123;</span><br><span class="line">      <span class="keyword">return</span> SimpleDialog(</span><br><span class="line">        title: Text(<span class="string">&#x27;请选择语言:&#x27;</span>),</span><br><span class="line">        children: [</span><br><span class="line">          SimpleDialogOption(</span><br><span class="line">            onPressed: () &#123;</span><br><span class="line">              <span class="built_in">print</span>(<span class="string">&#x27;中文&#x27;</span>);</span><br><span class="line">              <span class="comment">// Navigator.of(context).pop(&#x27;中文&#x27;);</span></span><br><span class="line">              Navigator.pop(context, <span class="string">&#x27;中文&#x27;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">&#x27;中文&#x27;</span>, textAlign: TextAlign.center,),</span><br><span class="line">          ),</span><br><span class="line">          Divider(),</span><br><span class="line">          SimpleDialogOption(</span><br><span class="line">            onPressed: () &#123;</span><br><span class="line">              <span class="built_in">print</span>(<span class="string">&#x27;日语&#x27;</span>);</span><br><span class="line">              <span class="comment">// Navigator.of(context).pop(&#x27;日语&#x27;);</span></span><br><span class="line">              Navigator.pop(context, <span class="string">&#x27;日语&#x27;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">&#x27;日语&#x27;</span>, textAlign: TextAlign.center,),</span><br><span class="line">          )</span><br><span class="line">        ],</span><br><span class="line">      );</span><br><span class="line">    &#125;));</span><br><span class="line">    <span class="built_in">print</span>(result);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> showModelBottomSheetFn() <span class="keyword">async</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="keyword">await</span> showModalBottomSheet(</span><br><span class="line">      isDismissible: <span class="keyword">true</span>,</span><br><span class="line">      </span><br><span class="line">      context: context, builder: (context) &#123;</span><br><span class="line">      <span class="keyword">return</span> SizedBox(</span><br><span class="line">        height: <span class="number">240</span>,</span><br><span class="line">        child: Column(</span><br><span class="line">          mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">          crossAxisAlignment: CrossAxisAlignment.center,</span><br><span class="line">          children: [</span><br><span class="line">            ListTile(</span><br><span class="line">              title: <span class="keyword">const</span>  Text(<span class="string">&#x27;分享&#x27;</span>, textAlign: TextAlign.center),</span><br><span class="line">              <span class="comment">// 点击触发 onLongPress 长按触发</span></span><br><span class="line">              onTap: () &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;分享&#x27;</span>);</span><br><span class="line">                Navigator.pop(context, <span class="string">&#x27;分享&#x27;</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">            ),</span><br><span class="line">            <span class="keyword">const</span> Divider(),</span><br><span class="line">            ListTile(</span><br><span class="line">              title: <span class="keyword">const</span>  Text(<span class="string">&#x27;其他&#x27;</span>, textAlign: TextAlign.center),</span><br><span class="line">              <span class="comment">// 点击触发 onLongPress 长按触发</span></span><br><span class="line">              onTap: () &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;其他&#x27;</span>);</span><br><span class="line">                Navigator.pop(context, <span class="string">&#x27;其他&#x27;</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">            ),</span><br><span class="line">            <span class="keyword">const</span> Divider(),</span><br><span class="line">            ListTile(</span><br><span class="line">              title: <span class="keyword">const</span>  Text(<span class="string">&#x27;取消&#x27;</span>, textAlign: TextAlign.center),</span><br><span class="line">              <span class="comment">// 点击触发 onLongPress 长按触发</span></span><br><span class="line">              onTap: () &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;取消&#x27;</span>);</span><br><span class="line">                Navigator.pop(context, <span class="string">&#x27;取消&#x27;</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">            ),</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Column(</span><br><span class="line">        mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">        children: [</span><br><span class="line">          <span class="comment">// 普通弹窗</span></span><br><span class="line">          ElevatedButton(onPressed: alertDialogFn, child: <span class="keyword">const</span> Text(<span class="string">&#x27;AlertDialog&#x27;</span>)),</span><br><span class="line">          <span class="keyword">const</span> SizedBox(height: <span class="number">20</span>),</span><br><span class="line">          <span class="comment">// 可选弹窗</span></span><br><span class="line">          ElevatedButton(onPressed: simpleDialogOptionFn, child: <span class="keyword">const</span> Text(<span class="string">&#x27;SimpleDialogOption&#x27;</span>)),</span><br><span class="line">          <span class="keyword">const</span> SizedBox(height: <span class="number">20</span>),</span><br><span class="line">          <span class="comment">// 底部弹窗</span></span><br><span class="line">          ElevatedButton(onPressed: showModelBottomSheetFn, child: <span class="keyword">const</span> Text(<span class="string">&#x27;ShowModelBottomSheet&#x27;</span>)),</span><br><span class="line">          <span class="keyword">const</span> SizedBox(height: <span class="number">20</span>),</span><br><span class="line">          <span class="comment">// toast</span></span><br><span class="line">          ElevatedButton(onPressed: () &#123;</span><br><span class="line">            Fluttertoast.showToast(</span><br><span class="line">              msg: <span class="string">&quot;This is Top Short Toast&quot;</span>,</span><br><span class="line">              toastLength: Toast.LENGTH_SHORT,</span><br><span class="line">              gravity: ToastGravity.TOP,</span><br><span class="line">              timeInSecForIosWeb: <span class="number">1</span>,</span><br><span class="line">              backgroundColor: Colors.black87,</span><br><span class="line">              textColor: Colors.white,</span><br><span class="line">              fontSize: <span class="number">16.0</span></span><br><span class="line">            );</span><br><span class="line">          &#125;, child: <span class="keyword">const</span> Text(<span class="string">&#x27;Toast&#x27;</span>)),</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><details class="folding-tag"><summary>main</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:device_preview/device_preview.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./dialog.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">void</span> main(<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; args) &#123;</span><br><span class="line">  <span class="keyword">return</span> runApp(</span><br><span class="line">    DevicePreview(enabled: <span class="keyword">true</span> , builder: ((context) =&gt; MyApp()))</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/*  Map routes = &#123;</span></span><br><span class="line"><span class="comment">    &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(), // 商品页</span></span><br><span class="line"><span class="comment">    &#x27;/individualCenter&#x27;:(context, &#123; arguments &#125;) =&gt; MyIndividualCenterPage(arguments: arguments), // 个人中心页</span></span><br><span class="line"><span class="comment">  &#125;; */</span></span><br><span class="line"></span><br><span class="line">  MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      useInheritedMediaQuery: <span class="keyword">true</span>,</span><br><span class="line">      debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">      locale: DevicePreview.locale(context),</span><br><span class="line">      builder: DevicePreview.appBuilder,</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          leading: IconButton(onPressed: (() &#123;</span><br><span class="line">          </span><br><span class="line">          &#125;), icon: <span class="keyword">const</span> Icon(Icons.menu)),</span><br><span class="line">          title: <span class="keyword">const</span> Text(<span class="string">&#x27;Route Demo&#x27;</span>),</span><br><span class="line">        ),</span><br><span class="line">        body: <span class="keyword">const</span> MyDialogDemo()</span><br><span class="line">      ),</span><br><span class="line">      <span class="comment">// routes: &#123;</span></span><br><span class="line">      <span class="comment">//   // &#x27;/&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;),</span></span><br><span class="line">      <span class="comment">//   &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;)</span></span><br><span class="line">      <span class="comment">// &#125;,</span></span><br><span class="line">      initialRoute: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      <span class="comment">// onGenerateRoute: onGenerateRoute</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/alertDialog.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/simpleDialog.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/bottomDialog.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="AlertDialog确认框"><a href="#AlertDialog确认框" class="headerlink" title="AlertDialog确认框"></a>AlertDialog确认框</h3><p><code>普通弹窗</code><br></p><details class="folding-tag"><summary>AlertDialog</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> alertDialogFn() <span class="keyword">async</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> result = <span class="keyword">await</span> showDialog(</span><br><span class="line">    <span class="comment">// 点击背景是否消失</span></span><br><span class="line">    barrierDismissible: <span class="keyword">true</span>,</span><br><span class="line">    context: context, builder: ((context) &#123;</span><br><span class="line">    <span class="keyword">return</span> AlertDialog(</span><br><span class="line">      title:  <span class="keyword">const</span> Text(<span class="string">&#x27;提示信息:&#x27;</span>),</span><br><span class="line">      content: <span class="keyword">const</span> Text(<span class="string">&#x27;确定要删除吗?&#x27;</span>),</span><br><span class="line">      actions: [</span><br><span class="line">        TextButton(onPressed: ()&#123;</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">          <span class="comment">// 关闭 dialog 窗口 也可以向外卖呢传递参数</span></span><br><span class="line">          Navigator.of(context).pop(<span class="keyword">true</span>); </span><br><span class="line">        &#125;, child: <span class="keyword">const</span> Text(<span class="string">&#x27;确定&#x27;</span>)),</span><br><span class="line">        TextButton(onPressed: ()&#123;</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">&#x27;cacel&#x27;</span>);</span><br><span class="line">          <span class="comment">// 关闭 dialog 窗口 也可以向外卖呢传递参数</span></span><br><span class="line">          Navigator.of(context).pop(<span class="keyword">false</span>); </span><br><span class="line">        &#125;, child: <span class="keyword">const</span> Text(<span class="string">&#x27;取消&#x27;</span>))</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;));</span><br><span class="line">  <span class="built_in">print</span>(result); <span class="comment">// true / false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><p></p><h3 id="SimpleDialog信息选择框"><a href="#SimpleDialog信息选择框" class="headerlink" title="SimpleDialog信息选择框"></a>SimpleDialog信息选择框</h3><p><code>可选弹窗</code><br></p><details class="folding-tag"><summary>SimpleDialog</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> simpleDialogOptionFn() <span class="keyword">async</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="keyword">await</span> showDialog(</span><br><span class="line">      <span class="comment">// 点击背景是否消失</span></span><br><span class="line">      barrierDismissible: <span class="keyword">true</span>,</span><br><span class="line">      context: context, builder: ((context) &#123;</span><br><span class="line">      <span class="keyword">return</span> SimpleDialog(</span><br><span class="line">        title: Text(<span class="string">&#x27;请选择语言:&#x27;</span>),</span><br><span class="line">        children: [</span><br><span class="line">          SimpleDialogOption(</span><br><span class="line">            onPressed: () &#123;</span><br><span class="line">              <span class="built_in">print</span>(<span class="string">&#x27;中文&#x27;</span>);</span><br><span class="line">              <span class="comment">// Navigator.of(context).pop(&#x27;中文&#x27;);</span></span><br><span class="line">              Navigator.pop(context, <span class="string">&#x27;中文&#x27;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">&#x27;中文&#x27;</span>, textAlign: TextAlign.center,),</span><br><span class="line">          ),</span><br><span class="line">          Divider(),</span><br><span class="line">          SimpleDialogOption(</span><br><span class="line">            onPressed: () &#123;</span><br><span class="line">              <span class="built_in">print</span>(<span class="string">&#x27;日语&#x27;</span>);</span><br><span class="line">              <span class="comment">// Navigator.of(context).pop(&#x27;日语&#x27;);</span></span><br><span class="line">              Navigator.pop(context, <span class="string">&#x27;日语&#x27;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">&#x27;日语&#x27;</span>, textAlign: TextAlign.center,),</span><br><span class="line">          )</span><br><span class="line">        ],</span><br><span class="line">      );</span><br><span class="line">    &#125;));</span><br><span class="line">    <span class="built_in">print</span>(result);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></div></details><p></p><h3 id="ShowModalBottomSheet底部弹框"><a href="#ShowModalBottomSheet底部弹框" class="headerlink" title="ShowModalBottomSheet底部弹框"></a>ShowModalBottomSheet底部弹框</h3><p><code>底部弹窗</code></p><details class="folding-tag"><summary>ShowModalBottomSheet</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> showModelBottomSheetFn() <span class="keyword">async</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="keyword">await</span> showModalBottomSheet(</span><br><span class="line">      context: context, builder: (context) &#123;</span><br><span class="line">      <span class="keyword">return</span> SizedBox(</span><br><span class="line">        height: <span class="number">240</span>,</span><br><span class="line">        child: Column(</span><br><span class="line">          mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">          crossAxisAlignment: CrossAxisAlignment.center,</span><br><span class="line">          children: [</span><br><span class="line">            ListTile(</span><br><span class="line">              title: <span class="keyword">const</span>  Text(<span class="string">&#x27;分享&#x27;</span>, textAlign: TextAlign.center),</span><br><span class="line">              <span class="comment">// 点击触发 onLongPress 长按触发</span></span><br><span class="line">              onTap: () &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;分享&#x27;</span>);</span><br><span class="line">                Navigator.pop(context, <span class="string">&#x27;分享&#x27;</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">            ),</span><br><span class="line">            <span class="keyword">const</span> Divider(),</span><br><span class="line">            ListTile(</span><br><span class="line">              title: <span class="keyword">const</span>  Text(<span class="string">&#x27;其他&#x27;</span>, textAlign: TextAlign.center),</span><br><span class="line">              <span class="comment">// 点击触发 onLongPress 长按触发</span></span><br><span class="line">              onTap: () &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;其他&#x27;</span>);</span><br><span class="line">                Navigator.pop(context, <span class="string">&#x27;其他&#x27;</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">            ),</span><br><span class="line">            <span class="keyword">const</span> Divider(),</span><br><span class="line">            ListTile(</span><br><span class="line">              title: <span class="keyword">const</span>  Text(<span class="string">&#x27;取消&#x27;</span>, textAlign: TextAlign.center),</span><br><span class="line">              <span class="comment">// 点击触发 onLongPress 长按触发</span></span><br><span class="line">              onTap: () &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;取消&#x27;</span>);</span><br><span class="line">                Navigator.pop(context, <span class="string">&#x27;取消&#x27;</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">            ),</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></div></details><h3 id="ShowToast浮动弹窗"><a href="#ShowToast浮动弹窗" class="headerlink" title="ShowToast浮动弹窗"></a>ShowToast浮动弹窗</h3><blockquote><p><code>Toast</code> 官方没有 相关 <code>widget</code> 需要从 <a target="_blank" rel="noopener" href="https://pub.flutter-io.cn/packages/fluttertoast/install">fluttertoast</a> 这个地址下载第三方插件!</p></blockquote><p><code>安装</code><br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter pub add fluttertoast</span><br></pre></td></tr></table></figure><br><code>引入</code><br><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:fluttertoast/fluttertoast.dart&#x27;</span>;</span><br></pre></td></tr></table></figure><p></p><details class="folding-tag"><summary>toast</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Fluttertoast.showToast(</span><br><span class="line">  msg: <span class="string">&quot;This is Top Short Toast&quot;</span>,</span><br><span class="line">  toastLength: Toast.LENGTH_SHORT,</span><br><span class="line">  <span class="comment">// 显示位置</span></span><br><span class="line">  gravity: ToastGravity.TOP,</span><br><span class="line">  timeInSecForIosWeb: <span class="number">1</span>,</span><br><span class="line">  backgroundColor: Colors.black87,</span><br><span class="line">  textColor: Colors.white,</span><br><span class="line">  fontSize: <span class="number">16.0</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></div></details><h3 id="自定义弹窗"><a href="#自定义弹窗" class="headerlink" title="自定义弹窗"></a>自定义弹窗</h3><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">result</button></li><li class="tab"><button type="button" data-href="#-2">code</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/customer_dialog.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><ol><li><p>新建 <code>myDialog.dart</code></p><details class="folding-tag"><summary>myDialog.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="comment">// 继承 Dialog</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDialog</span> <span class="keyword">extends</span> <span class="title">Dialog</span></span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> title;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> content;</span><br><span class="line">  <span class="comment">// 可空类型的 参数</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">Function</span>()? onTap;</span><br><span class="line">  <span class="keyword">const</span> MyDialog(&#123;</span><br><span class="line"></span><br><span class="line">    Key? key, </span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">this</span>.title,</span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">this</span>.content,</span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">this</span>.onTap</span><br><span class="line"></span><br><span class="line">  &#125;) : <span class="keyword">super</span>(key: key);</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement build</span></span><br><span class="line">    <span class="keyword">return</span> Material(</span><br><span class="line">      <span class="comment">// 设置透明度</span></span><br><span class="line">      type: MaterialType.transparency,</span><br><span class="line">      child: Padding(</span><br><span class="line">        padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">15</span>),</span><br><span class="line">        child: Center(</span><br><span class="line">          child: Container(</span><br><span class="line">            width: <span class="number">400</span>,</span><br><span class="line">            height: <span class="number">300</span>,</span><br><span class="line">            decoration: BoxDecoration(</span><br><span class="line">                color: Colors.white,</span><br><span class="line">                borderRadius: BorderRadius.circular(<span class="number">15</span>),</span><br><span class="line">                boxShadow: <span class="keyword">const</span> [</span><br><span class="line">                  BoxShadow(</span><br><span class="line">                    color: Colors.black45,  <span class="comment">// 阴影的颜色</span></span><br><span class="line">                    offset: Offset(<span class="number">2.0</span>, <span class="number">2.0</span>), <span class="comment">// 阴影的偏移(水平 垂直)</span></span><br><span class="line">                    blurRadius: <span class="number">10.0</span>, <span class="comment">// 阴影的模糊度</span></span><br><span class="line">                  )</span><br><span class="line">                ]</span><br><span class="line">            ),</span><br><span class="line">            child: Column(</span><br><span class="line">              children: [</span><br><span class="line">                Padding(</span><br><span class="line">                  padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">15</span>),</span><br><span class="line">                  child: Stack(</span><br><span class="line">                    children: [</span><br><span class="line">                      Align(</span><br><span class="line">                        alignment: Alignment.centerLeft,</span><br><span class="line">                        child: Text(title, style: Theme.of(context).textTheme.headline6),</span><br><span class="line">                      ),</span><br><span class="line">                      Align(</span><br><span class="line">                        alignment: Alignment.centerRight,</span><br><span class="line">                        child: InkWell(</span><br><span class="line">                          child: <span class="keyword">const</span> Icon(Icons.close),</span><br><span class="line">                          onTap: onTap,</span><br><span class="line">                        ),</span><br><span class="line">                      ),</span><br><span class="line">                    ],</span><br><span class="line">                  ),</span><br><span class="line">                ),</span><br><span class="line">                <span class="keyword">const</span> Divider(),</span><br><span class="line">                Padding(</span><br><span class="line">                  padding: EdgeInsets.all(<span class="number">15</span>),</span><br><span class="line">                  child: Container(</span><br><span class="line">                    width: <span class="built_in">double</span>.infinity,</span><br><span class="line">                    padding: EdgeInsets.all(<span class="number">15</span>),</span><br><span class="line">                    child: Text(content),</span><br><span class="line">                  ),</span><br><span class="line">                )</span><br><span class="line">              ],</span><br><span class="line">            )</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details></li><li><p>在<code>dialog.dart</code>中引入<code>myDialog.dart</code></p><details class="folding-tag"><summary>dialog.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./widget/myDialog.dart&#x27;</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDialogDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyDialogDemo(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyDialogDemo&gt; createState() =&gt; _MyDialogDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyDialogDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyDialogDemo</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">void</span> alertDialogFn() <span class="keyword">async</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="keyword">await</span> showDialog(</span><br><span class="line">      <span class="comment">// 点击背景是否消失</span></span><br><span class="line">      barrierDismissible: <span class="keyword">true</span>,</span><br><span class="line">      context: context, builder: ((context) &#123;</span><br><span class="line">      <span class="keyword">return</span> AlertDialog(</span><br><span class="line">        title:  <span class="keyword">const</span> Text(<span class="string">&#x27;提示信息:&#x27;</span>),</span><br><span class="line">        content: <span class="keyword">const</span> Text(<span class="string">&#x27;确定要删除吗?&#x27;</span>),</span><br><span class="line">        actions: [</span><br><span class="line">          TextButton(onPressed: ()&#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;ok&#x27;</span>);</span><br><span class="line">            <span class="comment">// 关闭 dialog 窗口 也可以向外卖呢传递参数</span></span><br><span class="line">            Navigator.of(context).pop(<span class="keyword">true</span>); </span><br><span class="line">          &#125;, child: <span class="keyword">const</span> Text(<span class="string">&#x27;确定&#x27;</span>)),</span><br><span class="line">          TextButton(onPressed: ()&#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;cacel&#x27;</span>);</span><br><span class="line">            <span class="comment">// 关闭 dialog 窗口 也可以向外卖呢传递参数</span></span><br><span class="line">            Navigator.of(context).pop(<span class="keyword">false</span>); </span><br><span class="line">          &#125;, child: <span class="keyword">const</span> Text(<span class="string">&#x27;取消&#x27;</span>))</span><br><span class="line">        ],</span><br><span class="line">      );</span><br><span class="line">    &#125;));</span><br><span class="line">    <span class="built_in">print</span>(result);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> simpleDialogOptionFn() <span class="keyword">async</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="keyword">await</span> showDialog(</span><br><span class="line">      <span class="comment">// 点击背景是否消失</span></span><br><span class="line">      barrierDismissible: <span class="keyword">true</span>,</span><br><span class="line">      context: context, builder: ((context) &#123;</span><br><span class="line">      <span class="keyword">return</span> SimpleDialog(</span><br><span class="line">        title: Text(<span class="string">&#x27;请选择语言:&#x27;</span>),</span><br><span class="line">        children: [</span><br><span class="line">          SimpleDialogOption(</span><br><span class="line">            onPressed: () &#123;</span><br><span class="line">              <span class="built_in">print</span>(<span class="string">&#x27;中文&#x27;</span>);</span><br><span class="line">              <span class="comment">// Navigator.of(context).pop(&#x27;中文&#x27;);</span></span><br><span class="line">              Navigator.pop(context, <span class="string">&#x27;中文&#x27;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">&#x27;中文&#x27;</span>, textAlign: TextAlign.center,),</span><br><span class="line">          ),</span><br><span class="line">          Divider(),</span><br><span class="line">          SimpleDialogOption(</span><br><span class="line">            onPressed: () &#123;</span><br><span class="line">              <span class="built_in">print</span>(<span class="string">&#x27;日语&#x27;</span>);</span><br><span class="line">              <span class="comment">// Navigator.of(context).pop(&#x27;日语&#x27;);</span></span><br><span class="line">              Navigator.pop(context, <span class="string">&#x27;日语&#x27;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">&#x27;日语&#x27;</span>, textAlign: TextAlign.center,),</span><br><span class="line">          )</span><br><span class="line">        ],</span><br><span class="line">      );</span><br><span class="line">    &#125;));</span><br><span class="line">    <span class="built_in">print</span>(result);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> showModelBottomSheetFn() <span class="keyword">async</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="keyword">await</span> showModalBottomSheet(</span><br><span class="line">      isDismissible: <span class="keyword">true</span>,</span><br><span class="line">      </span><br><span class="line">      context: context, builder: (context) &#123;</span><br><span class="line">      <span class="keyword">return</span> SizedBox(</span><br><span class="line">        height: <span class="number">240</span>,</span><br><span class="line">        child: Column(</span><br><span class="line">          mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">          crossAxisAlignment: CrossAxisAlignment.center,</span><br><span class="line">          children: [</span><br><span class="line">            ListTile(</span><br><span class="line">              title: <span class="keyword">const</span>  Text(<span class="string">&#x27;分享&#x27;</span>, textAlign: TextAlign.center),</span><br><span class="line">              <span class="comment">// 点击触发 onLongPress 长按触发</span></span><br><span class="line">              onTap: () &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;分享&#x27;</span>);</span><br><span class="line">                Navigator.pop(context, <span class="string">&#x27;分享&#x27;</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">            ),</span><br><span class="line">            <span class="keyword">const</span> Divider(),</span><br><span class="line">            ListTile(</span><br><span class="line">              title: <span class="keyword">const</span>  Text(<span class="string">&#x27;其他&#x27;</span>, textAlign: TextAlign.center),</span><br><span class="line">              <span class="comment">// 点击触发 onLongPress 长按触发</span></span><br><span class="line">              onTap: () &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;其他&#x27;</span>);</span><br><span class="line">                Navigator.pop(context, <span class="string">&#x27;其他&#x27;</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">            ),</span><br><span class="line">            <span class="keyword">const</span> Divider(),</span><br><span class="line">            ListTile(</span><br><span class="line">              title: <span class="keyword">const</span>  Text(<span class="string">&#x27;取消&#x27;</span>, textAlign: TextAlign.center),</span><br><span class="line">              <span class="comment">// 点击触发 onLongPress 长按触发</span></span><br><span class="line">              onTap: () &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;取消&#x27;</span>);</span><br><span class="line">                Navigator.pop(context, <span class="string">&#x27;取消&#x27;</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">            ),</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      );</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 自定义 Dialog</span></span><br><span class="line">  <span class="keyword">void</span> showMyDialog() <span class="keyword">async</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> reuslt = <span class="keyword">await</span> showDialog(</span><br><span class="line">      <span class="comment">// 点击背景是否消失</span></span><br><span class="line">      barrierDismissible: <span class="keyword">false</span>,</span><br><span class="line">      context: context, builder: (context) &#123;</span><br><span class="line">      <span class="keyword">return</span> MyDialog(</span><br><span class="line">        title: <span class="string">&#x27;提示:&#x27;</span>,</span><br><span class="line">        content: <span class="string">&#x27;My Customer Dialog!&#x27;</span>,</span><br><span class="line">        onTap: () &#123;</span><br><span class="line">          <span class="comment">// 关闭弹窗</span></span><br><span class="line">          Navigator.pop(context, <span class="string">&#x27;close&#x27;</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">      );</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;reuslt&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Column(</span><br><span class="line">        mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">        children: [</span><br><span class="line">          <span class="comment">// 普通弹窗</span></span><br><span class="line">          ElevatedButton(onPressed: alertDialogFn, child: <span class="keyword">const</span> Text(<span class="string">&#x27;AlertDialog&#x27;</span>)),</span><br><span class="line">          <span class="keyword">const</span> SizedBox(height: <span class="number">20</span>),</span><br><span class="line">          <span class="comment">// 可选弹窗</span></span><br><span class="line">          ElevatedButton(onPressed: simpleDialogOptionFn, child: <span class="keyword">const</span> Text(<span class="string">&#x27;SimpleDialogOption&#x27;</span>)),</span><br><span class="line">          <span class="keyword">const</span> SizedBox(height: <span class="number">20</span>),</span><br><span class="line">          <span class="comment">// 底部弹窗</span></span><br><span class="line">          ElevatedButton(onPressed: showModelBottomSheetFn, child: <span class="keyword">const</span> Text(<span class="string">&#x27;ShowModelBottomSheet&#x27;</span>)),</span><br><span class="line">          <span class="keyword">const</span> SizedBox(height: <span class="number">20</span>),</span><br><span class="line">          <span class="comment">// toast</span></span><br><span class="line">          ElevatedButton(onPressed: () &#123;</span><br><span class="line">            Fluttertoast.showToast(</span><br><span class="line">              msg: <span class="string">&quot;This is Top Short Toast&quot;</span>,</span><br><span class="line">              toastLength: Toast.LENGTH_SHORT,</span><br><span class="line">              gravity: ToastGravity.TOP_LEFT,</span><br><span class="line">              timeInSecForIosWeb: <span class="number">1</span>,</span><br><span class="line">              backgroundColor: Colors.black87,</span><br><span class="line">              textColor: Colors.white,</span><br><span class="line">              fontSize: <span class="number">16.0</span></span><br><span class="line">          );</span><br><span class="line">          &#125;, child: <span class="keyword">const</span> Text(<span class="string">&#x27;Toast&#x27;</span>)),</span><br><span class="line">          <span class="comment">// 自定义弹窗</span></span><br><span class="line">          ElevatedButton(onPressed: showMyDialog, child: <span class="keyword">const</span> Text(<span class="string">&#x27;自定义Dialog&#x27;</span>))</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details></li><li><p>在<code>main.dart</code> 中引入 <code>dialog.dart</code></p><details class="folding-tag"><summary>main.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:device_preview/device_preview.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./dialog.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">void</span> main(<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; args) &#123;</span><br><span class="line">  <span class="keyword">return</span> runApp(</span><br><span class="line">    DevicePreview(enabled: <span class="keyword">true</span> , builder: ((context) =&gt; MyApp()))</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/*  Map routes = &#123;</span></span><br><span class="line"><span class="comment">    &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(), // 商品页</span></span><br><span class="line"><span class="comment">    &#x27;/individualCenter&#x27;:(context, &#123; arguments &#125;) =&gt; MyIndividualCenterPage(arguments: arguments), // 个人中心页</span></span><br><span class="line"><span class="comment">  &#125;; */</span></span><br><span class="line"></span><br><span class="line">  MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      useInheritedMediaQuery: <span class="keyword">true</span>,</span><br><span class="line">      debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">      locale: DevicePreview.locale(context),</span><br><span class="line">      builder: DevicePreview.appBuilder,</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          leading: IconButton(onPressed: (() &#123;</span><br><span class="line">          </span><br><span class="line">          &#125;), icon: <span class="keyword">const</span> Icon(Icons.menu)),</span><br><span class="line">          title: <span class="keyword">const</span> Text(<span class="string">&#x27;Dialog Demo&#x27;</span>),</span><br><span class="line">        ),</span><br><span class="line">        body: <span class="keyword">const</span> MyDialogDemo()</span><br><span class="line">      ),</span><br><span class="line">      <span class="comment">// routes: &#123;</span></span><br><span class="line">      <span class="comment">//   // &#x27;/&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;),</span></span><br><span class="line">      <span class="comment">//   &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;)</span></span><br><span class="line">      <span class="comment">// &#125;,</span></span><br><span class="line">      initialRoute: <span class="string">&#x27;/&#x27;</span>, <span class="comment">// 默认打开的路由</span></span><br><span class="line">      <span class="comment">// onGenerateRoute: onGenerateRoute</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="PageView滑动组件"><a href="#PageView滑动组件" class="headerlink" title="PageView滑动组件"></a>PageView滑动组件</h2><blockquote><p><code>PageView</code> 组件 可以实现屏幕滑动效果，类似于抖音，可上下滑动 左右滑动切换屏幕!</p></blockquote><div class="table-container"><table><thead><tr><th>属性</th><th>描述</th></tr></thead><tbody><tr><td><code>scrollDirection</code></td><td><code>Axis.horizonta</code> 水平方向 <code>Axis.vertical</code> 垂直方向</td></tr><tr><td><code>children</code></td><td>多个子页面</td></tr><tr><td><code>allowImplicitScrolling</code></td><td>缓存当前页面的前后两页</td></tr><tr><td><code>onPageChanged</code></td><td><code>page</code> 改变的时候触发</td></tr></tbody></table></div><h3 id="PageView"><a href="#PageView" class="headerlink" title="PageView"></a>PageView</h3><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">code</button></li><li class="tab"><button type="button" data-href="#-2">result</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p><code>pageView.dart</code><br></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPageViewDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyPageViewDemo(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyPageViewDemo&gt; createState() =&gt; _MyPageViewDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyPageViewDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyPageViewDemo</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> PageView(</span><br><span class="line">      <span class="comment">// 上下滑动 vertical 左右滑动 horizonta</span></span><br><span class="line">      scrollDirection: Axis.vertical,</span><br><span class="line">      children: [</span><br><span class="line">        Center(</span><br><span class="line">          child: Text(<span class="string">&#x27;第1屏&#x27;</span>, style: Theme.of(context).textTheme.headline2,)</span><br><span class="line">        ),</span><br><span class="line">        Center(</span><br><span class="line">          child: Text(<span class="string">&#x27;第2屏&#x27;</span>, style: Theme.of(context).textTheme.headline2,)</span><br><span class="line">        ),</span><br><span class="line">        Center(</span><br><span class="line">          child: Text(<span class="string">&#x27;第3屏&#x27;</span>, style: Theme.of(context).textTheme.headline2,)</span><br><span class="line">        ),</span><br><span class="line">        Center(</span><br><span class="line">          child: Text(<span class="string">&#x27;第4屏&#x27;</span>, style: Theme.of(context).textTheme.headline2,)</span><br><span class="line">        ),</span><br><span class="line">        Center(</span><br><span class="line">          child: Text(<span class="string">&#x27;第5屏&#x27;</span>, style: Theme.of(context).textTheme.headline2,)</span><br><span class="line">        ),</span><br><span class="line">        Center(</span><br><span class="line">          child: Text(<span class="string">&#x27;第6屏&#x27;</span>, style: Theme.of(context).textTheme.headline2,)</span><br><span class="line">        ),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><code>main.dart</code><br></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:device_preview/device_preview.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./pageView.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">void</span> main(<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; args) &#123;</span><br><span class="line">  <span class="keyword">return</span> runApp(</span><br><span class="line">    DevicePreview(enabled: <span class="keyword">true</span> , builder: ((context) =&gt; MyApp()))</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/*  Map routes = &#123;</span></span><br><span class="line"><span class="comment">    &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(), // 商品页</span></span><br><span class="line"><span class="comment">    &#x27;/individualCenter&#x27;:(context, &#123; arguments &#125;) =&gt; MyIndividualCenterPage(arguments: arguments), // 个人中心页</span></span><br><span class="line"><span class="comment">  &#125;; */</span></span><br><span class="line"></span><br><span class="line">  MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      useInheritedMediaQuery: <span class="keyword">true</span>,</span><br><span class="line">      debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">      locale: DevicePreview.locale(context),</span><br><span class="line">      builder: DevicePreview.appBuilder,</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          leading: IconButton(onPressed: (() &#123;</span><br><span class="line">          </span><br><span class="line">          &#125;), icon: <span class="keyword">const</span> Icon(Icons.menu)),</span><br><span class="line">          title: <span class="keyword">const</span> Text(<span class="string">&#x27;PageView Demo&#x27;</span>),</span><br><span class="line">        ),</span><br><span class="line">        body: <span class="keyword">const</span> MyPageViewDemo()</span><br><span class="line">      ),</span><br><span class="line">      <span class="comment">// routes: &#123;</span></span><br><span class="line">      <span class="comment">//   // &#x27;/&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;),</span></span><br><span class="line">      <span class="comment">//   &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;)</span></span><br><span class="line">      <span class="comment">// &#125;,</span></span><br><span class="line">      initialRoute: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      <span class="comment">// onGenerateRoute: onGenerateRoute</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/pageView.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="PageViewBuilder"><a href="#PageViewBuilder" class="headerlink" title="PageViewBuilder"></a>PageViewBuilder</h3><blockquote><p>最终结果与 <code>PageView</code> 一致!</p></blockquote><details class="folding-tag"><summary>pageViewBuilder.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPageViewBuilderDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyPageViewBuilderDemo(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyPageViewBuilderDemo&gt; createState() =&gt; _MyPageViewBuilderDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyPageViewBuilderDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyPageViewBuilderDemo</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> PageView.builder(</span><br><span class="line">      <span class="comment">// 上下滚动</span></span><br><span class="line">      scrollDirection: Axis.vertical,</span><br><span class="line">      itemCount: <span class="number">10</span>,</span><br><span class="line">      itemBuilder: (context, index) &#123;</span><br><span class="line">        <span class="keyword">return</span> Center(</span><br><span class="line">          child: Text(<span class="string">&quot;第<span class="subst">$&#123;index+<span class="number">1</span>&#125;</span>屏&quot;</span>, style: Theme.of(context).textTheme.headline3,),</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><h3 id="PageView轮播图"><a href="#PageView轮播图" class="headerlink" title="PageView轮播图"></a>PageView轮播图</h3><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">code</button></li><li class="tab"><button type="button" data-href="#-2">result</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p><code>listData.dart</code></p><details class="folding-tag"><summary>listData</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">List</span> resData = [</span><br><span class="line">  &#123;</span><br><span class="line">   <span class="string">&quot;title&quot;</span>: <span class="string">&quot;title_1&quot;</span>,</span><br><span class="line">   <span class="string">&quot;author&quot;</span>: <span class="string">&quot;author_1&quot;</span> ,</span><br><span class="line">   <span class="string">&quot;imageUrl&quot;</span>: <span class="string">&quot;https://img3.mukewang.com/szimg/6380338b09edb25005400304.png&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">   <span class="string">&quot;title&quot;</span>: <span class="string">&quot;title_2&quot;</span>,</span><br><span class="line">   <span class="string">&quot;author&quot;</span>: <span class="string">&quot;author_2&quot;</span> ,</span><br><span class="line">   <span class="string">&quot;imageUrl&quot;</span>: <span class="string">&quot;https://img3.mukewang.com/szimg/60dea91109143a3005400304.png&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">   <span class="string">&quot;title&quot;</span>: <span class="string">&quot;title_3&quot;</span>,</span><br><span class="line">   <span class="string">&quot;author&quot;</span>: <span class="string">&quot;author_3&quot;</span> ,</span><br><span class="line">   <span class="string">&quot;imageUrl&quot;</span>: <span class="string">&quot;https://img3.mukewang.com/szimg/6380338b09edb25005400304.png&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">   <span class="string">&quot;title&quot;</span>: <span class="string">&quot;title_4&quot;</span>,</span><br><span class="line">   <span class="string">&quot;author&quot;</span>: <span class="string">&quot;author_4&quot;</span> ,</span><br><span class="line">   <span class="string">&quot;imageUrl&quot;</span>: <span class="string">&quot;https://img2.mukewang.com/szimg/63a26398099ff25405400304.png&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">   <span class="string">&quot;title&quot;</span>: <span class="string">&quot;title_5&quot;</span>,</span><br><span class="line">   <span class="string">&quot;author&quot;</span>: <span class="string">&quot;author_5&quot;</span> ,</span><br><span class="line">   <span class="string">&quot;imageUrl&quot;</span>: <span class="string">&quot;https://img1.mukewang.com/szimg/639989a5081b677f05400304.jpg&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">   <span class="string">&quot;title&quot;</span>: <span class="string">&quot;title_6&quot;</span>,</span><br><span class="line">   <span class="string">&quot;author&quot;</span>: <span class="string">&quot;author_6&quot;</span> ,</span><br><span class="line">   <span class="string">&quot;imageUrl&quot;</span>: <span class="string">&quot;https://img4.mukewang.com/szimg/632d59840927c04b05400304.png&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure></div></details><p><code>pageViewSwiper.dart</code></p><details class="folding-tag"><summary>pageViewSwiper</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./data/listData.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPageViewSwiperDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyPageViewSwiperDemo(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyPageViewSwiperDemo&gt; createState() =&gt; _MyPageViewSwiperDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyPageViewSwiperDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyPageViewSwiperDemo</span>&gt; </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">int</span> currentIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// 层叠组件</span></span><br><span class="line">    <span class="keyword">return</span> Stack(</span><br><span class="line">      children: [</span><br><span class="line">        <span class="comment">// 设置宽高盒子</span></span><br><span class="line">        SizedBox(</span><br><span class="line">          width: <span class="built_in">double</span>.infinity,</span><br><span class="line">          height: <span class="number">200</span>,</span><br><span class="line">          <span class="comment">// 滑动视图组件</span></span><br><span class="line">          child: PageView.builder(</span><br><span class="line">            onPageChanged: (value) &#123;</span><br><span class="line">              setState(() &#123;</span><br><span class="line">                currentIndex = currentIndex == <span class="number">0</span> ? resData.length : value % resData.length;</span><br><span class="line">                <span class="built_in">print</span>(currentIndex);</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;,</span><br><span class="line">            itemCount: <span class="number">1000</span>,</span><br><span class="line">            itemBuilder: (context, index) &#123;</span><br><span class="line">              <span class="comment">/* </span></span><br><span class="line"><span class="comment">                index: 1000</span></span><br><span class="line"><span class="comment">                resData.length: 4</span></span><br><span class="line"><span class="comment">                index % 4</span></span><br><span class="line"><span class="comment">                result [0 % 4] 0 || [1 % 4] 1 || [2 % 4] 2 || [3 % 4] 3 || [4 % 4] 0</span></span><br><span class="line"><span class="comment">                该算法结果 index % 4 无限 </span></span><br><span class="line"><span class="comment">                0 1 2 3 , 0 1 2 3...</span></span><br><span class="line"><span class="comment">              */</span></span><br><span class="line">              <span class="keyword">return</span> Container(</span><br><span class="line">                width: <span class="built_in">double</span>.infinity,</span><br><span class="line">                height: <span class="number">200</span>,</span><br><span class="line">                child: Image.network(resData[index%resData.length][<span class="string">&#x27;imageUrl&#x27;</span>], fit: BoxFit.cover,),</span><br><span class="line">              );</span><br><span class="line">            &#125;</span><br><span class="line">          )</span><br><span class="line">        ),</span><br><span class="line">        Positioned(</span><br><span class="line">          left: <span class="number">0</span>,</span><br><span class="line">          right: <span class="number">0</span>,</span><br><span class="line">          bottom: <span class="number">3</span>,</span><br><span class="line">          child: Row(</span><br><span class="line">              mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">              children: <span class="built_in">List</span>.generate(resData.length, (index) =&gt; </span><br><span class="line">                Container(</span><br><span class="line">                  width: <span class="number">10</span>,</span><br><span class="line">                  height: <span class="number">10</span>,</span><br><span class="line">                  margin: EdgeInsets.all(<span class="number">5</span>),</span><br><span class="line">                  decoration: BoxDecoration(</span><br><span class="line">                    shape: BoxShape.circle,</span><br><span class="line">                    color: currentIndex == index ? Colors.blue : Colors.grey</span><br><span class="line">                  ),</span><br><span class="line">                )</span><br><span class="line">            ).toList(),</span><br><span class="line">          )</span><br><span class="line">        )</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><p><code>main.dart</code></p><details class="folding-tag"><summary>main.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:device_preview/device_preview.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./pageViewSwiper.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">void</span> main(<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; args) &#123;</span><br><span class="line">  <span class="keyword">return</span> runApp(</span><br><span class="line">    DevicePreview(enabled: <span class="keyword">true</span> , builder: ((context) =&gt; MyApp()))</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/*  Map routes = &#123;</span></span><br><span class="line"><span class="comment">    &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(), // 商品页</span></span><br><span class="line"><span class="comment">    &#x27;/individualCenter&#x27;:(context, &#123; arguments &#125;) =&gt; MyIndividualCenterPage(arguments: arguments), // 个人中心页</span></span><br><span class="line"><span class="comment">  &#125;; */</span></span><br><span class="line"></span><br><span class="line">  MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      useInheritedMediaQuery: <span class="keyword">true</span>,</span><br><span class="line">      debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">      locale: DevicePreview.locale(context),</span><br><span class="line">      builder: DevicePreview.appBuilder,</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          leading: IconButton(onPressed: (() &#123;</span><br><span class="line">          </span><br><span class="line">          &#125;), icon: <span class="keyword">const</span> Icon(Icons.menu)),</span><br><span class="line">          title: <span class="keyword">const</span> Text(<span class="string">&#x27;PageViewBuilder Demo&#x27;</span>),</span><br><span class="line">        ),</span><br><span class="line">        body: <span class="keyword">const</span> MyPageViewSwiperDemo()</span><br><span class="line">      ),</span><br><span class="line">      <span class="comment">// routes: &#123;</span></span><br><span class="line">      <span class="comment">//   // &#x27;/&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;),</span></span><br><span class="line">      <span class="comment">//   &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;)</span></span><br><span class="line">      <span class="comment">// &#125;,</span></span><br><span class="line">      initialRoute: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      <span class="comment">// onGenerateRoute: onGenerateRoute</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/pageViewSwiper.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="实现自动轮播"><a href="#实现自动轮播" class="headerlink" title="实现自动轮播"></a>实现自动轮播</h4><blockquote><p><code>PageController</code> 和 <code>Timer</code> 实现自动轮播!<br><code>with AutomaticKeepAliveClientMixin</code> 这个可以帮助我们实现<code>页面缓存</code>!<br>通过 继承 <code>AutomaticKeepAliveClientMixin</code> 该类后可以通过以下方式来设置页面是否缓存!</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@override</span></span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> implement wantKeepAlive</span></span><br><span class="line">  <span class="built_in">bool</span> <span class="keyword">get</span> wantKeepAlive =&gt; <span class="keyword">true</span>; <span class="comment">//返回 true 表示缓存该页面!</span></span><br></pre></td></tr></table></figure><p class="p red">注意: PageView 缓存的话，页面比较多的情况下，缓存会耗费内存，一般在界面少的情况下缓存才是需要的!</p><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">code</button></li><li class="tab"><button type="button" data-href="#-2">result</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p><strong><code>swiper.dart</code></strong></p><details class="folding-tag"><summary>swiper.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:async&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:developer&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;../../data/listData.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MySwiperDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MySwiperDemo(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MySwiperDemo&gt; createState() =&gt; _MySwiperDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MySwiperDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MySwiperDemo</span>&gt; <span class="title">with</span> <span class="title">AutomaticKeepAliveClientMixin</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">int</span> currentIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">late</span> PageController _pageController;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">late</span> Timer _timer;</span><br><span class="line"></span><br><span class="line">  Widget pageViewBuilder(context, index) &#123;</span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      width: <span class="built_in">double</span>.infinity,</span><br><span class="line">      height: <span class="number">200.0</span>,</span><br><span class="line">      </span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">        borderRadius: BorderRadius.circular(<span class="number">15</span>),</span><br><span class="line">        image: DecorationImage(</span><br><span class="line">          image: NetworkImage(resData[currentIndex % resData.length][<span class="string">&#x27;imageUrl&#x27;</span>]),</span><br><span class="line">          fit: BoxFit.cover,</span><br><span class="line">        )</span><br><span class="line">      )</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// debugger(when: true, message: &#x27;初始化了&#x27;);</span></span><br><span class="line">    <span class="comment">// 页面控制器</span></span><br><span class="line">    _pageController = PageController(initialPage: <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 定时器 每隔 5 秒执行</span></span><br><span class="line">    _timer = Timer.periodic( <span class="keyword">const</span> <span class="built_in">Duration</span>(seconds: <span class="number">5</span>), (timer) &#123;</span><br><span class="line">        <span class="comment">// int currentPageIndex = (currentIndex + 1) % resData.length;</span></span><br><span class="line">        setState(() &#123;</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">&#x27;currentIndex <span class="subst">$&#123;currentIndex&#125;</span>&#x27;</span>);</span><br><span class="line">           _pageController.animateToPage(</span><br><span class="line">              <span class="comment">// 当前页</span></span><br><span class="line">              (currentIndex++),</span><br><span class="line">              <span class="comment">// 滚动时长 minutes 分钟  milliseconds 毫秒</span></span><br><span class="line">              duration: <span class="keyword">const</span> <span class="built_in">Duration</span>(milliseconds: <span class="number">200</span>), </span><br><span class="line">              <span class="comment">// 动画形式</span></span><br><span class="line">              curve: Curves.linear</span><br><span class="line">            );</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">     &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 生命周期  结束</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> dispose() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement dispose</span></span><br><span class="line">    <span class="keyword">super</span>.dispose();</span><br><span class="line">    <span class="comment">// 销毁 避免内存占用</span></span><br><span class="line">    _pageController.dispose();</span><br><span class="line">    _timer.cancel();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Padding(</span><br><span class="line">      padding: EdgeInsets.all(<span class="number">10.0</span>),</span><br><span class="line">      child: Stack(</span><br><span class="line">        children: [</span><br><span class="line">            Container(</span><br><span class="line">              width: <span class="built_in">double</span>.infinity,</span><br><span class="line">              height: <span class="number">200.0</span>,</span><br><span class="line">              child: PageView.builder(</span><br><span class="line">                onPageChanged: (value) &#123;</span><br><span class="line">                  setState(() &#123;</span><br><span class="line">                    currentIndex = value % resData.length;</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&#x27;setState <span class="subst">$&#123;currentIndex&#125;</span> <span class="subst">$&#123;value&#125;</span> <span class="subst">$&#123;resData.length&#125;</span> <span class="subst">$&#123;resData.length&#125;</span>&#x27;</span>);</span><br><span class="line">                  &#125;);</span><br><span class="line">                &#125;,</span><br><span class="line">                controller: _pageController,</span><br><span class="line">                itemCount: <span class="number">1000</span>,</span><br><span class="line">                itemBuilder: pageViewBuilder</span><br><span class="line">              ),</span><br><span class="line">            ),</span><br><span class="line">            Positioned(</span><br><span class="line">              left: <span class="number">0</span>,</span><br><span class="line">              right: <span class="number">0</span>,</span><br><span class="line">              bottom: <span class="number">15</span>,</span><br><span class="line">              child: Row(</span><br><span class="line">                mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">                children: <span class="built_in">List</span>.generate(resData.length, (index)=&gt; </span><br><span class="line">                  Container(</span><br><span class="line">                    width: <span class="number">10.0</span>,</span><br><span class="line">                    height: <span class="number">10.0</span>,</span><br><span class="line">                    margin: EdgeInsets.only(right: <span class="number">8.0</span>),</span><br><span class="line">                    decoration: BoxDecoration(</span><br><span class="line">                      borderRadius: BorderRadius.circular(<span class="number">50</span>),</span><br><span class="line">                      color: currentIndex % resData.length == index ? Colors.lightBlue : Colors.white30</span><br><span class="line">                    ),</span><br><span class="line">                  )</span><br><span class="line">                ).toList(),</span><br><span class="line">              )</span><br><span class="line">            )</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> implement wantKeepAlive</span></span><br><span class="line">  <span class="built_in">bool</span> <span class="keyword">get</span> wantKeepAlive =&gt; <span class="keyword">true</span>; <span class="comment">//返回 true 表示缓存该页面!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><p><strong><code>main.dart</code></strong></p><details class="folding-tag"><summary>main.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:device_preview/device_preview.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./demo/page-view/swiper.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">void</span> main(<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; args) &#123;</span><br><span class="line">  <span class="keyword">return</span> runApp(</span><br><span class="line">    DevicePreview(enabled: <span class="keyword">true</span> , builder: ((context) =&gt; MyApp()))</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/*  Map routes = &#123;</span></span><br><span class="line"><span class="comment">    &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(), // 商品页</span></span><br><span class="line"><span class="comment">    &#x27;/individualCenter&#x27;:(context, &#123; arguments &#125;) =&gt; MyIndividualCenterPage(arguments: arguments), // 个人中心页</span></span><br><span class="line"><span class="comment">  &#125;; */</span></span><br><span class="line"></span><br><span class="line">  MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      useInheritedMediaQuery: <span class="keyword">true</span>,</span><br><span class="line">      debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">      locale: DevicePreview.locale(context),</span><br><span class="line">      builder: DevicePreview.appBuilder,</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          leading: IconButton(onPressed: (() &#123;</span><br><span class="line">          </span><br><span class="line">          &#125;), icon: <span class="keyword">const</span> Icon(Icons.menu)),</span><br><span class="line">          title: <span class="keyword">const</span> Text(<span class="string">&#x27;AutoPageView Demo&#x27;</span>),</span><br><span class="line">        ),</span><br><span class="line">        body: ListView(</span><br><span class="line">          children: <span class="keyword">const</span> [</span><br><span class="line">            MySwiperDemo()</span><br><span class="line">          ],</span><br><span class="line">        )</span><br><span class="line">      ),</span><br><span class="line">      <span class="comment">// routes: &#123;</span></span><br><span class="line">      <span class="comment">//   // &#x27;/&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;),</span></span><br><span class="line">      <span class="comment">//   &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;)</span></span><br><span class="line">      <span class="comment">// &#125;,</span></span><br><span class="line">      initialRoute: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      <span class="comment">// onGenerateRoute: onGenerateRoute</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/swiper_auto_play.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="Flutter-Key-获取-子Widget-状态-和方法"><a href="#Flutter-Key-获取-子Widget-状态-和方法" class="headerlink" title="Flutter Key 获取 子Widget 状态 和方法"></a>Flutter Key 获取 子Widget 状态 和方法</h2><blockquote><p>我们平时一定接触过很多的 <code>Widget</code>,比如 <code>Container、Row、Column</code> 等，它们在我们绘制界面的过程中发挥着重要的作用。但是不知道你有没有注意到，在几乎每个 <code>Widget</code> 的构造函数中，都有一个共同的参数，它们通常在参数列表的第一个，那就是 <code>Key</code>。</p><p>在Flutter中，<code>Key是不能重复使用的</code>，所以<code>Key</code>一般用来做准一标识。组件在更新的时候，其状态的保存主要是通过判断<code>组件的类型</code>或者<code>key</code>值是否一致。因此，当各组件的类型不同的时候，类型已经足够用来区分不同的组件了，此时我们可以不必使用<code>key</code>。但是如果同时存在多个同一类型的控件的时候，此时类型已经无法作为区分的条件了，我们就需要使用到<code>key</code>。</p></blockquote><p><strong>没有 Key 会发生什么奇怪现象?</strong></p><blockquote><p><code>key</code> 代表该组件的唯一值, 如果 在开发过程中，使用的</p><ol><li><code>组件类型是一致</code>的，比如<code>有个children:[Box(1),Box(2)...]</code>这样的组件，在没有<code>key</code>的情况下，<code>数据</code>和<code>视图</code>更新会不同步的!</li><li>另一种，<code>组件类型不一致</code>，比如<code>有个children:[Center(1),Box(2)...]</code>，会<code>导致数据状态的丢失</code>!</li></ol></blockquote><p><strong>组件顺序改变</strong></p><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">demo_img1</button></li><li class="tab"><button type="button" data-href="#-2">demo_img2</button></li><li class="tab"><button type="button" data-href="#-3">demo_img3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/widget_key.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/flutter_key_1.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/flutter_key_2.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>上面截图，通过随机刷新按钮，排序 <code>Box()</code>组件! 在没有<code>key</code>的情况下，刷新排序，<code>界面变化的就只能是组件样式在变化，其内部数据状态是不会有所改变的!</code></p><p><strong>不同组件引起状态丢失</strong><br></p><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">demo_img1</button></li><li class="tab"><button type="button" data-href="#-2">demo_img2</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/widget_key.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/flutter_key_3.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p></p><h3 id="局部Key-localKey"><a href="#局部Key-localKey" class="headerlink" title="局部Key(localKey)"></a>局部Key(localKey)</h3><blockquote><p>局部 key 中有三种方式可表示: <code>ValueKey</code> <code>ObjectKey</code> <code>UniqueKey</code></p></blockquote><h4 id="ValueKey"><a href="#ValueKey" class="headerlink" title="ValueKey"></a><code>ValueKey</code></h4><blockquote><p>参数 是 任意<code>String</code>类型!</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Box(key: ValueKey(<span class="string">&#x27;any&#x27;</span>))</span><br></pre></td></tr></table></figure><h4 id="ObjectKey"><a href="#ObjectKey" class="headerlink" title="ObjectKey"></a><code>ObjectKey</code></h4><blockquote><p>参数 是 任意<code>Object</code>类型! 也可以组件 <code>widget</code> 类型!</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Box(key: ObjectKey(Box()))</span><br></pre></td></tr></table></figure><h4 id="UniqueKey"><a href="#UniqueKey" class="headerlink" title="UniqueKey"></a><code>UniqueKey</code></h4><blockquote><p>不用传用参数，会自动生成唯一的 <code>key</code></p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Box(key: UniqueKey())</span><br></pre></td></tr></table></figure><h4 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a><code>Demo</code></h4><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">code</button></li><li class="tab"><button type="button" data-href="#-2">result</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><details class="folding-tag"><summary>WidgetKey</summary><div class="content"><p><code>WidgetKey.dart</code><br></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WidgetKeyDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> WidgetKeyDemo(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;WidgetKeyDemo&gt; createState() =&gt; _WidgetKeyDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_WidgetKeyDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">WidgetKeyDemo</span>&gt; </span>&#123;</span><br><span class="line">  <span class="comment">// ValueKey 值不能重复</span></span><br><span class="line">  <span class="comment">/* List&lt;Widget&gt; boxList = [</span></span><br><span class="line"><span class="comment">    Box(color: Colors.black12, key: ValueKey(&#x27;1&#x27;),),</span></span><br><span class="line"><span class="comment">    // SizedBox(height: 15),</span></span><br><span class="line"><span class="comment">    Box(color: Colors.blue, key: ValueKey(&#x27;2&#x27;)),</span></span><br><span class="line"><span class="comment">    // SizedBox(height: 15),</span></span><br><span class="line"><span class="comment">    Box(color: Colors.deepOrange, key: ValueKey(&#x27;3&#x27;)),</span></span><br><span class="line"><span class="comment">  ]; */</span></span><br><span class="line">  <span class="comment">// UniqueKey</span></span><br><span class="line">  <span class="comment">/* List&lt;Widget&gt; boxList = [</span></span><br><span class="line"><span class="comment">    Box(color: Colors.black12, key: UniqueKey(),),</span></span><br><span class="line"><span class="comment">    // SizedBox(height: 15),</span></span><br><span class="line"><span class="comment">    Box(color: Colors.blue, key: UniqueKey()),</span></span><br><span class="line"><span class="comment">    // SizedBox(height: 15),</span></span><br><span class="line"><span class="comment">    Box(color: Colors.deepOrange, key: UniqueKey()),</span></span><br><span class="line"><span class="comment">  ]; */</span></span><br><span class="line">  <span class="comment">// ObjectKey 对象实例不能重复</span></span><br><span class="line">  <span class="built_in">List</span>&lt;Widget&gt; boxList = [</span><br><span class="line">    Box(color: Colors.black12, key: ObjectKey(Box(color: Colors.black12)),),</span><br><span class="line">    <span class="comment">// SizedBox(height: 15),</span></span><br><span class="line">    Box(color: Colors.blue, key: ObjectKey(Box(color: Colors.blue))),</span><br><span class="line">    <span class="comment">// SizedBox(height: 15),</span></span><br><span class="line">    Box(color: Colors.deepOrange, key: ObjectKey(Box(color: Colors.deepOrange))),</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      padding: EdgeInsets.all(<span class="number">10</span>),</span><br><span class="line">      child: Stack(</span><br><span class="line">        children: [</span><br><span class="line">          Center(</span><br><span class="line">            child: Column(</span><br><span class="line">              mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">              crossAxisAlignment: CrossAxisAlignment.center,</span><br><span class="line">              children: boxList</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">          Positioned(</span><br><span class="line">            bottom: <span class="number">10</span>,</span><br><span class="line">            right: <span class="number">10</span>, <span class="comment">//child&#x27;s bottom and right will be 10 pixels from each other.</span></span><br><span class="line">            child: ElevatedButton.icon(onPressed: ()&#123;</span><br><span class="line">              setState(() &#123;</span><br><span class="line">                boxList.shuffle();</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;, label: Text(<span class="string">&#x27;Refresh&#x27;</span>), icon: <span class="keyword">const</span> Icon(Icons.refresh)),</span><br><span class="line">          )</span><br><span class="line">        ],</span><br><span class="line">      )</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Box</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> Color color;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> Box(&#123;<span class="keyword">super</span>.key, <span class="keyword">required</span> <span class="keyword">this</span>.color, &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;Box&gt; createState() =&gt; _BoxState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_BoxState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">Box</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">int</span> _count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      width: <span class="number">100</span>,</span><br><span class="line">      height: <span class="number">100</span>,</span><br><span class="line">      child: ElevatedButton(child: Text(<span class="string">&#x27;<span class="subst">$&#123;_count&#125;</span>&#x27;</span>, style: Theme.of(context).textTheme.headlineMedium,), onPressed: () &#123;</span><br><span class="line">        setState(() &#123;</span><br><span class="line">          _count++;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;, style: ButtonStyle(backgroundColor: MaterialStateProperty.all(widget.color)),),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p></div></details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/widgetkeydemo.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="全局Key-GlobalKey"><a href="#全局Key-GlobalKey" class="headerlink" title="全局Key(GlobalKey)"></a>全局Key(GlobalKey)</h3><h4 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h4><blockquote><p>全局 <code>key</code> 中有两种方式可表示: <code>GlobalKey</code> <code>GlobalObjectKey</code><br>全局 <code>key</code> 和 局部 <code>key</code> 的差异:<br>全局 <code>key</code>: 可以保证数据状态下不会丢失，不仅 组件状态改变的情况下 或者 组件类型不一致的情况下，都可以保证数据不丢失的可用性!<br>局部 <code>key</code>: 可以保证数据状态下不丢失，但仅仅只是组件状态改变下，不同的是 当组件类型不一致的时候无法保证数据丢失的可能性!</p></blockquote><p><code>local key</code>的问题:</p><blockquote><p>手机竖屏状态下使用了<code>columns widget</code><br>手机横屏状态下使用了<code>rows widget</code><br>由于 <code>widget</code> 不一致 导致 <code>状态</code>丢失问题!</p></blockquote><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">竖屏状态下</button></li><li class="tab"><button type="button" data-href="#-2">横屏状态下</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/flutter_key_1.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/horizontalscreen.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p><code>global key</code> 的使用</p><details class="folding-tag"><summary>Global key</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WidgetKeyDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> WidgetKeyDemo(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;WidgetKeyDemo&gt; createState() =&gt; _WidgetKeyDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_WidgetKeyDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">WidgetKeyDemo</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">List</span>&lt;Widget&gt; boxList = [];</span><br><span class="line">  <span class="keyword">final</span> GlobalKey globalKey1 = <span class="keyword">new</span> GlobalKey();</span><br><span class="line">  <span class="keyword">final</span> GlobalKey globalKey2 = <span class="keyword">new</span> GlobalKey();</span><br><span class="line">  <span class="keyword">final</span> GlobalKey globalKey3 = <span class="keyword">new</span> GlobalKey();</span><br><span class="line">  <span class="comment">// ValueKey 值不能重复</span></span><br><span class="line">  <span class="comment">/* List&lt;Widget&gt; boxList = [</span></span><br><span class="line"><span class="comment">    Box(color: Colors.black12, key: ValueKey(&#x27;1&#x27;),),</span></span><br><span class="line"><span class="comment">    // SizedBox(height: 15),</span></span><br><span class="line"><span class="comment">    Box(color: Colors.blue, key: ValueKey(&#x27;2&#x27;)),</span></span><br><span class="line"><span class="comment">    // SizedBox(height: 15),</span></span><br><span class="line"><span class="comment">    Box(color: Colors.deepOrange, key: ValueKey(&#x27;3&#x27;)),</span></span><br><span class="line"><span class="comment">  ]; */</span></span><br><span class="line">  <span class="comment">// UniqueKey</span></span><br><span class="line">  <span class="comment">/* List&lt;Widget&gt; boxList = [</span></span><br><span class="line"><span class="comment">    Box(color: Colors.black12, key: UniqueKey(),),</span></span><br><span class="line"><span class="comment">    // SizedBox(height: 15),</span></span><br><span class="line"><span class="comment">    Box(color: Colors.blue, key: UniqueKey()),</span></span><br><span class="line"><span class="comment">    // SizedBox(height: 15),</span></span><br><span class="line"><span class="comment">    Box(color: Colors.deepOrange, key: UniqueKey()),</span></span><br><span class="line"><span class="comment">  ]; */</span></span><br><span class="line">  <span class="comment">// ObjectKey 对象实例不能重复</span></span><br><span class="line">  <span class="comment">/* List&lt;Widget&gt; boxList = [</span></span><br><span class="line"><span class="comment">    Box(color: Colors.black12, key: ObjectKey(Box(color: Colors.black12)),),</span></span><br><span class="line"><span class="comment">    // SizedBox(height: 15),</span></span><br><span class="line"><span class="comment">    Box(color: Colors.blue, key: ObjectKey(Box(color: Colors.blue))),</span></span><br><span class="line"><span class="comment">    // SizedBox(height: 15),</span></span><br><span class="line"><span class="comment">    Box(color: Colors.deepOrange, key: ObjectKey(Box(color: Colors.deepOrange))),</span></span><br><span class="line"><span class="comment">  ]; */</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// globkey 要放在初始化函数内</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line"></span><br><span class="line">    boxList = [</span><br><span class="line">      Box(color: Colors.black12, key: globalKey1),</span><br><span class="line">      <span class="comment">// SizedBox(height: 15),</span></span><br><span class="line">      Box(color: Colors.blue, key: globalKey2),</span><br><span class="line">      <span class="comment">// SizedBox(height: 15),</span></span><br><span class="line">      Box(color: Colors.deepOrange, key: globalKey3),</span><br><span class="line">    ];</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// MediaQuery.of(context).orientation == Orientation.portrait  判断手机 是否为竖屏模式</span></span><br><span class="line">    <span class="built_in">print</span>(MediaQuery.of(context).orientation);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      padding: EdgeInsets.all(<span class="number">10</span>),</span><br><span class="line">      child: Stack(</span><br><span class="line">        children: [</span><br><span class="line">          Center(</span><br><span class="line">            child: MediaQuery.of(context).orientation == Orientation.portrait ? Column(</span><br><span class="line">              mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">              children: boxList</span><br><span class="line">            ) : Row(</span><br><span class="line">               mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">               children: boxList</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">          Positioned(</span><br><span class="line">            bottom: <span class="number">10</span>,</span><br><span class="line">            right: <span class="number">10</span>, <span class="comment">//child&#x27;s bottom and right will be 10 pixels from each other.</span></span><br><span class="line">            child: ElevatedButton.icon(onPressed: ()&#123;</span><br><span class="line">              setState(() &#123;</span><br><span class="line">                boxList.shuffle();</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;, label: Text(<span class="string">&#x27;Refresh&#x27;</span>), icon: <span class="keyword">const</span> Icon(Icons.refresh)),</span><br><span class="line">          )</span><br><span class="line">        ],</span><br><span class="line">      )</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Box</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> Color color;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> Box(&#123;<span class="keyword">super</span>.key, <span class="keyword">required</span> <span class="keyword">this</span>.color, &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;Box&gt; createState() =&gt; _BoxState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_BoxState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">Box</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">int</span> _count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      width: <span class="number">100</span>,</span><br><span class="line">      height: <span class="number">100</span>,</span><br><span class="line">      child: ElevatedButton(child: Text(<span class="string">&#x27;<span class="subst">$&#123;_count&#125;</span>&#x27;</span>, style: Theme.of(context).textTheme.headlineMedium,), onPressed: () &#123;</span><br><span class="line">        setState(() &#123;</span><br><span class="line">          _count++;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;, style: ButtonStyle(backgroundColor: MaterialStateProperty.all(widget.color)),),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><h4 id="GlobalKey-获取子组件"><a href="#GlobalKey-获取子组件" class="headerlink" title="GlobalKey 获取子组件"></a>GlobalKey 获取子组件</h4><blockquote><p><code>globalKey.currentState</code> 可以获取子组件的态，执行子组件的方法,<br><code>globalKey.currentWidget</code>可以获取子组件的属性，<br><code>_globalKey.currentContext.findRenderObject()</code>可以获取渲染的属性</p></blockquote><ol><li><code>globalKey.currentState</code><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> widgetKeyDemoState = globalKey1.currentState <span class="keyword">as</span> _BoxState</span><br></pre></td></tr></table></figure></li><li><code>globalKey.currentWidget</code><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> widgetKeyDemoState = globalKey1.currentWidget <span class="keyword">as</span> Box</span><br></pre></td></tr></table></figure></li><li><code>_globalKey.currentContext.findRenderObject()</code><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> renderObject = _globalKey.currentContext.findRenderObject() <span class="keyword">as</span> RenderBox;</span><br></pre></td></tr></table></figure></li></ol><h2 id="AnimatedList-动画列表"><a href="#AnimatedList-动画列表" class="headerlink" title="AnimatedList 动画列表"></a>AnimatedList 动画列表</h2><blockquote><p><code>AnimatedList</code> 和 <code>ListView</code> 的功能大体相似，不同的是，<code>AnimatedList</code> 可以在列表中插入或删除节点时执行一个动画，在需要添加或删除列表项的场景中会提高用户体验。<br><code>AnimatedList</code> 是一个 <code>StatefulWidget</code>，它对应的 <code>State</code> 类型为 <code>AnimatedListState</code>，添加和删除元素的方法位于 <code>AnimatedListState</code> 中:</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> insertItem(<span class="built_in">int</span> index, [ <span class="built_in">Duration</span> duration = _kDuration &#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> removeItem(<span class="built_in">int</span> index, AnimatedListRemoveditemBuilder builder, &#123; Durationduration = _kDuration &#125;) ;</span><br></pre></td></tr></table></figure><p><strong>案例</strong><br></p><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">result</button></li><li class="tab"><button type="button" data-href="#-2">code</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/animatedList.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><details class="folding-tag"><summary>code</summary><div class="content"><p><strong><code>animatedList.dart</code></strong></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:async&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="comment">// AnimatedListDemo List</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnimatedListDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> AnimatedListDemo(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;AnimatedListDemo&gt; createState() =&gt; _AnimatedListDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_AnimatedListDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">AnimatedListDemo</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> GlobalKey&lt;AnimatedListState&gt; _scaffoldKey = GlobalKey&lt;AnimatedListState&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; _listData = [<span class="string">&#x27;第一条数据&#x27;</span>, <span class="string">&#x27;第二条数据&#x27;</span>];</span><br><span class="line"></span><br><span class="line">  <span class="built_in">bool</span> isCanDel = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">  Widget _listTile(<span class="built_in">int</span> index) &#123; </span><br><span class="line">     <span class="keyword">return</span> ListTile(</span><br><span class="line">       title: Text(_listData[index]),</span><br><span class="line">       trailing: IconButton(</span><br><span class="line">        onPressed: ()&#123;</span><br><span class="line">         _deleteItem(index);</span><br><span class="line">        &#125;,</span><br><span class="line">        icon: <span class="keyword">const</span> Icon(Icons.delete),</span><br><span class="line">       ),</span><br><span class="line">     );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  _deleteItem(<span class="built_in">int</span> index) &#123;</span><br><span class="line">    <span class="keyword">if</span> ( isCanDel == <span class="keyword">true</span> ) &#123;</span><br><span class="line">      isCanDel = <span class="keyword">false</span>;</span><br><span class="line">      <span class="keyword">var</span> removeItem = _listTile(index);</span><br><span class="line">      _listData.removeAt(index);</span><br><span class="line">      _scaffoldKey.currentState!.removeItem(index, (context, animation)  &#123;</span><br><span class="line">        <span class="comment">// ScaleTransition</span></span><br><span class="line">        <span class="keyword">return</span> FadeTransition(</span><br><span class="line">          opacity: animation,</span><br><span class="line">          child: removeItem</span><br><span class="line">        );</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">// 处理 快速点击删除 引起异常问题 待动画执行完后执行下一个删除!</span></span><br><span class="line">      Timer.periodic(<span class="built_in">Duration</span>(milliseconds: <span class="number">500</span>), (timer) &#123; </span><br><span class="line">        isCanDel = <span class="keyword">true</span>;</span><br><span class="line">        timer.cancel();</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Stack(</span><br><span class="line">      children: [</span><br><span class="line">        AnimatedList(</span><br><span class="line">          key: _scaffoldKey,</span><br><span class="line">          initialItemCount: _listData.length,</span><br><span class="line">          itemBuilder: (context, index, animation) &#123;</span><br><span class="line">            <span class="comment">// animation 从 0 到 1</span></span><br><span class="line">            <span class="comment">// FadeTransition 隐藏和显示动画</span></span><br><span class="line">            <span class="comment">// ScaleTransition 缩放动画</span></span><br><span class="line">            <span class="comment">/* return FadeTransition(</span></span><br><span class="line"><span class="comment">              opacity: animation,</span></span><br><span class="line"><span class="comment">              child: _listTile(index),</span></span><br><span class="line"><span class="comment">            ); */</span></span><br><span class="line">            <span class="keyword">return</span> ScaleTransition(</span><br><span class="line">              scale: animation,</span><br><span class="line">              child: _listTile(index),</span><br><span class="line">            );</span><br><span class="line">          &#125;</span><br><span class="line">        ),</span><br><span class="line">        Positioned(</span><br><span class="line">          bottom: <span class="number">45</span>, <span class="comment">// Offset(0, 460), // Offset(0, 460), // Offset(0,</span></span><br><span class="line">          right: <span class="number">35</span>, <span class="comment">// Offset(0, 460), // Offset(0, 460), // Offset(0</span></span><br><span class="line"></span><br><span class="line">          child: IconButton(</span><br><span class="line">            onPressed: ()&#123;</span><br><span class="line">              _listData.add(<span class="string">&#x27;我是新增数据&#x27;</span>);</span><br><span class="line">              <span class="comment">// currentState 可能会为空 需要 加 非空断言</span></span><br><span class="line">              _scaffoldKey.currentState!.insertItem(_listData.length - <span class="number">1</span>);</span><br><span class="line">            &#125;, </span><br><span class="line">            icon: <span class="keyword">const</span> Icon(Icons.add),</span><br><span class="line">            style: ButtonStyle(</span><br><span class="line">              backgroundColor: MaterialStateProperty.all(Colors.blueAccent),</span><br><span class="line">              elevation: MaterialStateProperty.all(<span class="number">4</span>)</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        )</span><br><span class="line">      ],</span><br><span class="line">      </span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong><code>main.dart</code></strong></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:device_preview/device_preview.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;animateList.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">void</span> main(<span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; args) &#123;</span><br><span class="line">  <span class="keyword">return</span> runApp(</span><br><span class="line">    DevicePreview(enabled: <span class="keyword">true</span> , builder: ((context) =&gt; MyApp()))</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/*  Map routes = &#123;</span></span><br><span class="line"><span class="comment">    &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(), // 商品页</span></span><br><span class="line"><span class="comment">    &#x27;/individualCenter&#x27;:(context, &#123; arguments &#125;) =&gt; MyIndividualCenterPage(arguments: arguments), // 个人中心页</span></span><br><span class="line"><span class="comment">  &#125;; */</span></span><br><span class="line"></span><br><span class="line">  MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      useInheritedMediaQuery: <span class="keyword">true</span>,</span><br><span class="line">      debugShowCheckedModeBanner: <span class="keyword">false</span>,</span><br><span class="line">      locale: DevicePreview.locale(context),</span><br><span class="line">      builder: DevicePreview.appBuilder,</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          leading: IconButton(onPressed: (() &#123;</span><br><span class="line">          </span><br><span class="line">          &#125;), icon: <span class="keyword">const</span> Icon(Icons.menu)),</span><br><span class="line">          title: <span class="keyword">const</span> Text(<span class="string">&#x27;AnimatedList Demo&#x27;</span>),</span><br><span class="line">        ),</span><br><span class="line">        body: AnimatedListDemo()</span><br><span class="line">      ),</span><br><span class="line">      <span class="comment">// routes: &#123;</span></span><br><span class="line">      <span class="comment">//   // &#x27;/&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;),</span></span><br><span class="line">      <span class="comment">//   &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(id: &#x27;12312412&#x27;)</span></span><br><span class="line">      <span class="comment">// &#125;,</span></span><br><span class="line">      initialRoute: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">      <span class="comment">// onGenerateRoute: onGenerateRoute</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p></p><h2 id="动画组件"><a href="#动画组件" class="headerlink" title="动画组件"></a>动画组件</h2><h3 id="动画原理"><a href="#动画原理" class="headerlink" title="动画原理"></a>动画原理</h3><blockquote><p>在任何系统的UI框架中，动画实现的原理都是相同的，即: 在一段时间内，快速地多次改变UI外观，由于人眼会产生视觉暂留，所以最终看到的就是一个“连续”的动画，这和电影的原理是一样的。我们将UI的一次改变称为一个动画帧，对应一次屏幕刷新，而决定动画流畅度的一个重要指标就是帧率FPS (Frame Per Second) ，即每秒的动画数。很明显，率越高则动画就会越流畅!一般情况下对于人眼来说，动画帧率超过16 FPS，就基本能看了，超过 32 FPS就会感觉相对平滑，而超过 32FPS，大多数人基本上就感受不到差别了。由于动画的每一帧都是要改变UI输出，所以在一个时间段内连续的改变UI输出是比较耗资源的，对设备的软硬件系统要求都较高，所以在UI系统中，动画的平均帧率是重要的性能指标，而在Flutter中，理想情况下是可以实现 60FPS 的，这和原生应用能达到的帧率是基本是持平的。</p><p><code>FLutter</code>中的动画主要分为: <code>隐式动画</code>、<code>显式动画</code>、<code>自定义隐式动画</code>、<code>自定义显式动画</code>、和 <code>Hero</code> 动画</p></blockquote><h3 id="隐式动画"><a href="#隐式动画" class="headerlink" title="隐式动画"></a>隐式动画</h3><blockquote><p>通过几行代码就可以实现隐式动画，由于隐式动画背后的实现原理和繁琐的操作细节都被隐去了，所以叫隐式动画，<br>FLutter中提供的 <code>AnimatedContainer、AnimatedPadding</code>、<code>AnimatedPositioned</code>、<code>AnimatedOpacity</code>、<code>AnimatedDefaultTextStyle</code>、<code>AnimatedSwitcher</code>都属于<code>隐式动画</code>。<br>隐式动画中可以通过 <code>duration</code> 配置动画时长、可以通过 <code>curve</code> (曲线)来配置动画过程</p></blockquote><h4 id="AnimatedContainer"><a href="#AnimatedContainer" class="headerlink" title="AnimatedContainer"></a>AnimatedContainer</h4><blockquote><p><code>Container</code>容器发生改变的时候产生动画!</p></blockquote><details class="folding-tag"><summary>code</summary><div class="content"><p><code>animatedContainer.dart</code><br></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnimatedContainerDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> AnimatedContainerDemo(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;AnimatedContainerDemo&gt; createState() =&gt; _AnimatedContainerDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_AnimatedContainerDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">AnimatedContainerDemo</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">double</span> _width = <span class="number">120</span>;</span><br><span class="line">  <span class="built_in">double</span> _height = <span class="number">120</span>;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      body: Center(</span><br><span class="line">        child: AnimatedContainer(</span><br><span class="line">          <span class="comment">// 设置动画效果 默认 linear</span></span><br><span class="line">          curve: Curves.easeInCirc,</span><br><span class="line">          width: _width,</span><br><span class="line">          height: _height,</span><br><span class="line">          <span class="comment">// color: Colors.lightBlue,</span></span><br><span class="line">          duration: <span class="keyword">const</span> <span class="built_in">Duration</span>(seconds: <span class="number">1</span>, milliseconds: <span class="number">500</span>),</span><br><span class="line">          decoration: <span class="keyword">const</span> BoxDecoration(</span><br><span class="line">            color: Colors.lightBlue,</span><br><span class="line">            borderRadius: BorderRadius.all(Radius.circular(<span class="number">25</span>)),</span><br><span class="line">            boxShadow: [</span><br><span class="line">              BoxShadow(</span><br><span class="line">                color: Colors.black,</span><br><span class="line">                offset: Offset(<span class="number">0</span>, <span class="number">0</span>), </span><br><span class="line">                blurRadius: <span class="number">15</span>,</span><br><span class="line"></span><br><span class="line">              )</span><br><span class="line">            ]</span><br><span class="line">          ),</span><br><span class="line">          child: <span class="keyword">const</span> Center(</span><br><span class="line">            child: Text(</span><br><span class="line">              <span class="string">&#x27;AnimatedContainer&#x27;</span>,</span><br><span class="line">              style: TextStyle(</span><br><span class="line">                color: Colors.white,</span><br><span class="line">                fontWeight: FontWeight.bold</span><br><span class="line">              ),</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      floatingActionButton: FloatingActionButton(</span><br><span class="line">        onPressed: () =&gt; &#123;</span><br><span class="line">          setState(() &#123;</span><br><span class="line">            _width+=<span class="number">20.0</span>;</span><br><span class="line">            _height+=<span class="number">20.0</span>;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        child: <span class="keyword">const</span> Icon(Icons.add),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p></div></details><h4 id="AnimatedPadding"><a href="#AnimatedPadding" class="headerlink" title="AnimatedPadding"></a>AnimatedPadding</h4><blockquote><p><code>Padding</code>边距发生改变的时候产生动画!</p></blockquote><h4 id="AnimatedPositioned"><a href="#AnimatedPositioned" class="headerlink" title="AnimatedPositioned"></a>AnimatedPositioned</h4><blockquote><p><code>Positioned</code> 定位发生改变的时候产生动画!</p></blockquote><h4 id="AnimatedOpacity"><a href="#AnimatedOpacity" class="headerlink" title="AnimatedOpacity"></a>AnimatedOpacity</h4><blockquote><p><code>Opacity</code> 透明度发生变化的时候产生动画</p></blockquote><h4 id="AnimatedDefaultTextStyle"><a href="#AnimatedDefaultTextStyle" class="headerlink" title="AnimatedDefaultTextStyle"></a>AnimatedDefaultTextStyle</h4><blockquote><p><code>TextStyle</code> 文本样式发生变化的时候产生动画</p></blockquote><h4 id="AnimatedSwitcher"><a href="#AnimatedSwitcher" class="headerlink" title="AnimatedSwitcher"></a>AnimatedSwitcher</h4><blockquote><p><code>sub widget</code>子组件 发生变化的时候产生动画</p></blockquote><details class="folding-tag"><summary>code</summary><div class="content"><p><code>animatedSwitcherDemo.dart</code><br></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 子组件发生变化的时候产生动画</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnimatedSwitcherDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> AnimatedSwitcherDemo(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;AnimatedSwitcherDemo&gt; createState() =&gt; _AnimatedSwitcherDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_AnimatedSwitcherDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">AnimatedSwitcherDemo</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">bool</span> flag = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      body: Center(</span><br><span class="line">        child: Container(</span><br><span class="line">          width: <span class="number">150</span>,</span><br><span class="line">          height: <span class="number">150</span>,</span><br><span class="line">          decoration: BoxDecoration(</span><br><span class="line">            color: Colors.blue[<span class="number">400</span>],</span><br><span class="line">            borderRadius: <span class="keyword">const</span> BorderRadius.all(Radius.circular(<span class="number">20</span>)),</span><br><span class="line">            shape: BoxShape.rectangle,</span><br><span class="line">            boxShadow: <span class="keyword">const</span> [</span><br><span class="line">              BoxShadow(</span><br><span class="line">                color: Colors.black38,</span><br><span class="line">                offset: Offset(<span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line">                blurRadius: <span class="number">3.0</span>,</span><br><span class="line">              )</span><br><span class="line">            ]</span><br><span class="line">          ),</span><br><span class="line">          child: AnimatedSwitcher(</span><br><span class="line">            <span class="comment">// 自定义动画</span></span><br><span class="line">            transitionBuilder: (child, animation) &#123;</span><br><span class="line">              <span class="comment">// 缩放</span></span><br><span class="line">              <span class="keyword">return</span> ScaleTransition(</span><br><span class="line">                scale: animation,</span><br><span class="line">                <span class="comment">// 显示隐藏</span></span><br><span class="line">                child: FadeTransition(opacity: animation, child: child,),</span><br><span class="line">              );</span><br><span class="line">            &#125;,</span><br><span class="line">            duration: <span class="keyword">const</span> <span class="built_in">Duration</span>(milliseconds: <span class="number">800</span>),</span><br><span class="line">            child: !flag ? <span class="keyword">const</span> CircularProgressIndicator(</span><br><span class="line">              color: Colors.white, <span class="comment">// Colors.blue[400]  // Colors.grey[100]  // Colors.grey[200]  // Colors</span></span><br><span class="line">            ) : Image.network(<span class="string">&#x27;https://img3.mukewang.com/szimg/60dea91109143a3005400304.png&#x27;</span>,fit: BoxFit.fill,),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      floatingActionButton: FloatingActionButton(</span><br><span class="line">        onPressed: ()&#123;</span><br><span class="line">          setState(() &#123;</span><br><span class="line">            flag = !flag;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        child: <span class="keyword">const</span> Icon(Icons.transcribe)</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p></div></details><h3 id="显示动画"><a href="#显示动画" class="headerlink" title="显示动画"></a>显示动画</h3><blockquote><p>常见的显式动画有<code>RotationTransition</code>、<code>FadeTransition</code>、<code>ScaleTransition</code>、<code>SlideTransition</code>、<code>Animatedlcon</code>。在显示动画中开发者需要创建一个<code>AnimationController</code>，通过<code>AnimationController</code>控制动画的<code>开始</code>、<code>暂停</code>、<code>重置</code>、<code>跳转</code>、<code>倒播</code>等。</p></blockquote><h4 id="AnimationController"><a href="#AnimationController" class="headerlink" title="AnimationController"></a><code>AnimationController</code></h4><blockquote><p>控制动画的<code>开始、暂停、重置、跳转、倒播</code>的方法和动画自动播放的方法，以及控制动画的时间!</p></blockquote><div class="table-container"><table><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td><code>forward()</code></td><td><code>执行一次</code></td></tr><tr><td><code>stop()</code></td><td><code>停止</code></td></tr><tr><td><code>reset()</code></td><td><code>重置</code></td></tr><tr><td><code>repeat()</code></td><td><code>重复</code></td></tr><tr><td><code>reverse()</code></td><td><code>翻转</code></td></tr><tr><td><code>drive()</code></td><td><code>drive(Tween(begin: 0.5, end: 1.2))</code> 配置运动参数</td></tr></tbody></table></div><h4 id="RotationTransition"><a href="#RotationTransition" class="headerlink" title="RotationTransition"></a><code>RotationTransition</code></h4><blockquote><p>旋转动画</p></blockquote><details class="folding-tag"><summary>rotationTransitionDemo.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RotationTransitionDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> RotationTransitionDemo(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;RotationTransitionDemo&gt; createState() =&gt; _RotationTransitionDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_RotationTransitionDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">RotationTransitionDemo</span>&gt; <span class="title">with</span> <span class="title">SingleTickerProviderStateMixin</span> </span>&#123;</span><br><span class="line">  <span class="keyword">late</span> AnimationController _animationController;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    _animationController = AnimationController(</span><br><span class="line">      <span class="comment">//Vsync 机制可以理解为是显卡与显示器的通信桥梁，显卡在渲染每一帧之前会等待垂直同步信号，只有显示器完成了一次刷新时，发出垂直同步信号，显卡才会渲染下一帧，确保刷新率和帧率保持同步，以达到供需平衡的效果，防止卡顿现象。</span></span><br><span class="line">      vsync: <span class="keyword">this</span>,</span><br><span class="line">      <span class="comment">// 设置动画值 0 - 1 运动区间</span></span><br><span class="line">      <span class="comment">// lowerBound: 0.5, </span></span><br><span class="line">      <span class="comment">// upperBound: 1, </span></span><br><span class="line">      duration: <span class="keyword">const</span> <span class="built_in">Duration</span>(seconds: <span class="number">1</span>)</span><br><span class="line">    )..repeat(reverse: <span class="keyword">true</span>); <span class="comment">// repeat 反复执行</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Column(</span><br><span class="line">      crossAxisAlignment: CrossAxisAlignment.center,</span><br><span class="line">      children: [</span><br><span class="line">        Container(</span><br><span class="line">          padding: <span class="keyword">const</span> EdgeInsets.only(top: <span class="number">25</span>),</span><br><span class="line">          child: RotationTransition(</span><br><span class="line">            turns: _animationController,</span><br><span class="line">            child: <span class="keyword">const</span>  FlutterLogo(size: <span class="number">70</span>,),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        <span class="keyword">const</span> SizedBox(height: <span class="number">20</span>),</span><br><span class="line">        Row(</span><br><span class="line">          mainAxisAlignment: MainAxisAlignment.spaceEvenly,</span><br><span class="line">          children: [</span><br><span class="line">            ElevatedButton(onPressed: ()&#123;</span><br><span class="line">              <span class="comment">// 顺时针执行一次</span></span><br><span class="line">              _animationController.forward();</span><br><span class="line">            &#125;, child: <span class="keyword">const</span> Text(<span class="string">&#x27;forward&#x27;</span>)),</span><br><span class="line">            ElevatedButton(onPressed: ()&#123;</span><br><span class="line">              <span class="comment">// 重复执行</span></span><br><span class="line">              _animationController.repeat();</span><br><span class="line">            &#125;, child: <span class="keyword">const</span> Text(<span class="string">&#x27;repeat&#x27;</span>)),</span><br><span class="line">            ElevatedButton(onPressed: ()&#123;</span><br><span class="line">              <span class="comment">// 停止执行</span></span><br><span class="line">              _animationController.stop();</span><br><span class="line">            &#125;, child: <span class="keyword">const</span> Text(<span class="string">&#x27;stop&#x27;</span>)),</span><br><span class="line">            ElevatedButton(onPressed: ()&#123;</span><br><span class="line">              <span class="comment">// 重置widget状态</span></span><br><span class="line">              _animationController.reset();</span><br><span class="line">            &#125;, child: <span class="keyword">const</span> Text(<span class="string">&#x27;reset&#x27;</span>)),</span><br><span class="line">            ElevatedButton(onPressed: ()&#123;</span><br><span class="line">              <span class="comment">// 翻转</span></span><br><span class="line">              _animationController.reverse();</span><br><span class="line">            &#125;, child: <span class="keyword">const</span> Text(<span class="string">&#x27;reverse&#x27;</span>))</span><br><span class="line">          ],</span><br><span class="line">        )</span><br><span class="line">      ] <span class="comment">// &lt;----- [SCAFOLD] [START] [END] [DEMO] [START] [END]</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><h4 id="FadeTransition"><a href="#FadeTransition" class="headerlink" title="FadeTransition"></a><code>FadeTransition</code></h4><blockquote><p>透明度动画</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">  padding: <span class="keyword">const</span> EdgeInsets.only(top: <span class="number">25</span>),</span><br><span class="line">  child: FadeTransition(</span><br><span class="line">    opacity: _animationController,</span><br><span class="line">    child: <span class="keyword">const</span>  FlutterLogo(size: <span class="number">70</span>,),</span><br><span class="line">  ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure><h4 id="ScaleTransition"><a href="#ScaleTransition" class="headerlink" title="ScaleTransition"></a><code>ScaleTransition</code></h4><blockquote><p>缩放动画</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">  padding: <span class="keyword">const</span> EdgeInsets.only(top: <span class="number">25</span>),</span><br><span class="line">  child: ScaleTransition(</span><br><span class="line">    scale: _animationController,</span><br><span class="line">    child: <span class="keyword">const</span>  FlutterLogo(size: <span class="number">70</span>,),</span><br><span class="line">  ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure><h4 id="SlideTransition"><a href="#SlideTransition" class="headerlink" title="SlideTransition"></a><code>SlideTransition</code></h4><blockquote><p>位移动画</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">  padding: <span class="keyword">const</span> EdgeInsets.only(top: <span class="number">25</span>),</span><br><span class="line">  child: SlideTransition(</span><br><span class="line">    <span class="comment">// Offset(0, 0)  x,  y  0.5 widget 宽度的 0.5 倍</span></span><br><span class="line">    position: _animationController.drive(</span><br><span class="line">      Tween(</span><br><span class="line">        begin: <span class="keyword">const</span> Offset(<span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">        end: <span class="keyword">const</span> Offset(<span class="number">0.5</span>, <span class="number">0</span>)</span><br><span class="line">      ).chain(CurveTween(curve: Curves.bounceInOut)) <span class="comment">// 设置动画效果</span></span><br><span class="line">      <span class="comment">// 20% 开始 80% 结束</span></span><br><span class="line">      .chain(CurveTween(curve: <span class="keyword">const</span> Interval(<span class="number">0.2</span>, <span class="number">0.8</span>))) <span class="comment">// 设置动画 每一次执行间隔为20-80%的时间间隔，也可以自定义间隔动画。</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="comment">// or .animate()</span></span><br><span class="line">    <span class="comment">// position: Tween(begin: const Offset(0, 0), end: const Offset(0.5, 0)).animate(_animationController),</span></span><br><span class="line">    child: <span class="keyword">const</span>  FlutterLogo(size: <span class="number">70</span>,),</span><br><span class="line">  ),</span><br><span class="line">),</span><br></pre></td></tr></table></figure><h4 id="Animatedlcon"><a href="#Animatedlcon" class="headerlink" title="Animatedlcon"></a><code>Animatedlcon</code></h4><blockquote><p>图标 <code>Icon</code> 动画</p></blockquote><details class="folding-tag"><summary>animatedIcon</summary><div class="content"><p><code>MyAnimatedIconDemo.dart</code></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyAnimatedIconDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyAnimatedIconDemo(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyAnimatedIconDemo&gt; createState() =&gt; _MyAnimatedIconDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyAnimatedIconDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyAnimatedIconDemo</span>&gt; <span class="title">with</span> <span class="title">SingleTickerProviderStateMixin</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">late</span> AnimationController _controller;</span><br><span class="line">  <span class="built_in">bool</span> flag = <span class="keyword">false</span>;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    _controller = AnimationController(vsync: <span class="keyword">this</span>, duration: <span class="keyword">const</span> <span class="built_in">Duration</span>(milliseconds: <span class="number">300</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      body: Center(</span><br><span class="line">        child: Column(</span><br><span class="line">          mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">          children: [</span><br><span class="line">            AnimatedIcon(icon: AnimatedIcons.arrow_menu, progress: _controller, size: <span class="number">40</span>,),</span><br><span class="line">            SizedBox(height: <span class="number">40</span>,),</span><br><span class="line">            AnimatedIcon(icon: AnimatedIcons.home_menu, progress: _controller, size: <span class="number">40</span>,),</span><br><span class="line">            SizedBox(height: <span class="number">40</span>,),</span><br><span class="line">            AnimatedIcon(icon: AnimatedIcons.search_ellipsis, progress: _controller, size: <span class="number">40</span>,),</span><br><span class="line">          ],</span><br><span class="line">        )</span><br><span class="line">      ),</span><br><span class="line">      floatingActionButton: FloatingActionButton(onPressed: ()&#123;</span><br><span class="line">        flag ? _controller.forward() : _controller.reverse();</span><br><span class="line">        flag = !flag;</span><br><span class="line">        <span class="comment">// _controller.reverse();</span></span><br><span class="line">        <span class="comment">// _controller.repeat();</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;floatingActionButton&#x27;</span>);</span><br><span class="line">      &#125;,child: <span class="keyword">const</span> Icon(Icons.refresh),),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><h3 id="自定义交错式动画"><a href="#自定义交错式动画" class="headerlink" title="自定义交错式动画"></a>自定义交错式动画</h3><blockquote><p>从 <code>search icon</code> 切换到 <code>close icon</code>, 在从 <code>close icon</code> 切换到 <code>search icon</code>!</p><h4 id="ScaleTransition-1"><a href="#ScaleTransition-1" class="headerlink" title="ScaleTransition"></a><code>ScaleTransition</code></h4><details class="folding-tag"><summary>staggered.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:ffi&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StaggeredAnimatedDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> StaggeredAnimatedDemo(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;StaggeredAnimatedDemo&gt; createState() =&gt; _StaggeredAnimatedDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_StaggeredAnimatedDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">StaggeredAnimatedDemo</span>&gt; <span class="title">with</span> <span class="title">SingleTickerProviderStateMixin</span> </span>&#123;</span><br><span class="line">  <span class="keyword">late</span> AnimationController _animationController; <span class="comment">// Animation controller for the animation. 描述如何在Widget中使用AnimationController。Animation controller是一个持</span></span><br><span class="line">  </span><br><span class="line">  <span class="built_in">bool</span> flag = <span class="keyword">false</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    _animationController = AnimationController(vsync: <span class="keyword">this</span>, duration: <span class="keyword">const</span> <span class="built_in">Duration</span>(milliseconds: <span class="number">500</span>)); <span class="comment">// Animation controller for the animation. 描述如何在Widget中使用AnimationController。Animation</span></span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      body: Center(</span><br><span class="line">        child: Stack(</span><br><span class="line">          <span class="comment">// 设置动画过程</span></span><br><span class="line">          children: [</span><br><span class="line">            <span class="comment">// 0-0.5秒 search消失0.5到1秒的时候让 close显示</span></span><br><span class="line">            ScaleTransition(</span><br><span class="line">              scale: _animationController.drive(Tween(begin: <span class="number">0.0</span>, end: <span class="number">1.0</span>).chain(CurveTween(curve: <span class="keyword">const</span> Interval(<span class="number">0.5</span>, <span class="number">1.0</span>)))),</span><br><span class="line">              child: <span class="keyword">const</span> Icon(Icons.close, size: <span class="number">40</span>,),</span><br><span class="line">            ),</span><br><span class="line">            <span class="comment">// 0.0, 0.5 秒 search消失的时候让 close显示 发送消息 发送消息成功 睡1秒钟 让 close 显示</span></span><br><span class="line">            ScaleTransition(</span><br><span class="line">              scale: _animationController.drive(Tween(begin: <span class="number">1.0</span>, end: <span class="number">0.0</span>).chain(CurveTween(curve: <span class="keyword">const</span> Interval(<span class="number">0.0</span>, <span class="number">0.5</span>)))),</span><br><span class="line">              child: <span class="keyword">const</span> Icon(Icons.search, size: <span class="number">40</span>,),</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      floatingActionButton: FloatingActionButton(</span><br><span class="line">        onPressed: () &#123;</span><br><span class="line">          <span class="comment">// 执行动画 为 true 的时候  图标 正向缩放到消失，到 0.5 的时候 close 图标会从反方向放大显示!</span></span><br><span class="line">          flag ? _animationController.forward() : _animationController.reverse();</span><br><span class="line">          flag = !flag;</span><br><span class="line">          <span class="built_in">print</span>(flag);</span><br><span class="line">        &#125;,</span><br><span class="line">        child: <span class="keyword">const</span> Icon(Icons.add)</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details></blockquote><h4 id="Slidertransition"><a href="#Slidertransition" class="headerlink" title="Slidertransition"></a><code>Slidertransition</code></h4><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">result</button></li><li class="tab"><button type="button" data-href="#-2">代码</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/SlideTransitionDemo.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SlideTransitionDemo</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> SlideTransitionDemo(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;SlideTransitionDemo&gt; createState() =&gt; _SlideTransitionDemoState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_SlideTransitionDemoState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">SlideTransitionDemo</span>&gt; <span class="title">with</span> <span class="title">SingleTickerProviderStateMixin</span> </span>&#123;</span><br><span class="line">  <span class="keyword">late</span> AnimationController _controller;</span><br><span class="line">  <span class="built_in">bool</span> flag = <span class="keyword">false</span>;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    _controller = AnimationController(vsync: <span class="keyword">this</span>, duration: <span class="keyword">const</span> <span class="built_in">Duration</span>(seconds: <span class="number">1</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      body: Center(</span><br><span class="line">        child: Padding(</span><br><span class="line">          padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">35.4</span>),</span><br><span class="line">          child: Column(</span><br><span class="line">            mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">            children: [</span><br><span class="line">              <span class="comment">/* SlideTransition(</span></span><br><span class="line"><span class="comment">                position: _controller.drive(Tween(begin: const Offset(0.0, 0.0), end: const Offset(0.5, 0.0)).chain(CurveTween(curve: const Interval(0.0, 0.3)))), </span></span><br><span class="line"><span class="comment">                child: Container(</span></span><br><span class="line"><span class="comment">                  width: 150,</span></span><br><span class="line"><span class="comment">                  height: 40,</span></span><br><span class="line"><span class="comment">                  decoration: BoxDecoration(</span></span><br><span class="line"><span class="comment">                    color: Colors.blue[300]</span></span><br><span class="line"><span class="comment">                  ),</span></span><br><span class="line"><span class="comment">                ),</span></span><br><span class="line"><span class="comment">              ),</span></span><br><span class="line"><span class="comment">              </span></span><br><span class="line"><span class="comment">              SlideTransition(</span></span><br><span class="line"><span class="comment">                position: _controller.drive(Tween(begin: const Offset(0.0, 0.0), end: const Offset(0.5, 0.0)).chain(CurveTween(curve: const Interval(0.3, 0.7)))), </span></span><br><span class="line"><span class="comment">                child: Container(</span></span><br><span class="line"><span class="comment">                  width: 150,</span></span><br><span class="line"><span class="comment">                  height: 40,</span></span><br><span class="line"><span class="comment">                  decoration: BoxDecoration(</span></span><br><span class="line"><span class="comment">                    color: Colors.blue[500]</span></span><br><span class="line"><span class="comment">                  ),</span></span><br><span class="line"><span class="comment">                ),</span></span><br><span class="line"><span class="comment">              ),</span></span><br><span class="line"><span class="comment">              SlideTransition(</span></span><br><span class="line"><span class="comment">                position: _controller.drive(Tween(begin: const Offset(0.0, 0.0), end: const Offset(0.5, 0.0)).chain(CurveTween(curve: const Interval(0.5, 1.0)))), </span></span><br><span class="line"><span class="comment">                child: Container(</span></span><br><span class="line"><span class="comment">                  width: 150,</span></span><br><span class="line"><span class="comment">                  height: 40,</span></span><br><span class="line"><span class="comment">                  decoration: BoxDecoration(</span></span><br><span class="line"><span class="comment">                    color: Colors.blue[700]</span></span><br><span class="line"><span class="comment">                  ),</span></span><br><span class="line"><span class="comment">                ),</span></span><br><span class="line"><span class="comment">              ), */</span></span><br><span class="line">              SlideTransitionBox(controller: _controller, begin: <span class="number">0.0</span>, end: <span class="number">0.3</span>, color: Colors.blue[<span class="number">300</span>],),</span><br><span class="line">              SlideTransitionBox(controller: _controller, begin: <span class="number">0.3</span>, end: <span class="number">0.7</span>, color: Colors.blue[<span class="number">500</span>],),</span><br><span class="line">              SlideTransitionBox(controller: _controller, begin: <span class="number">0.5</span>, end: <span class="number">1.0</span>, color: Colors.blue[<span class="number">700</span>],),</span><br><span class="line">            ]</span><br><span class="line">          ),</span><br><span class="line">        )</span><br><span class="line">      ),</span><br><span class="line">      floatingActionButton: FloatingActionButton(  onPressed: () &#123;</span><br><span class="line">       flag ?  _controller.forward() : _controller.reverse();</span><br><span class="line">       flag = !flag;</span><br><span class="line">      &#125;, child: <span class="keyword">const</span> Icon(Icons.refresh),)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SlideTransitionBox</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> AnimationController controller;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">double</span> begin;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">double</span> end;</span><br><span class="line">  <span class="keyword">final</span> Color? color;</span><br><span class="line">  <span class="comment">// final double? begin;</span></span><br><span class="line">  <span class="comment">// 这种带有 ? 表达式 表示 该参数为可空类型，可传可不传，如果没有 ? 表达式，则这个参数 要么 为 required ，要么给默认值!</span></span><br><span class="line">  <span class="keyword">const</span> SlideTransitionBox(&#123;<span class="keyword">super</span>.key, <span class="keyword">required</span> <span class="keyword">this</span>.controller, <span class="keyword">this</span>.begin = <span class="number">0.0</span>, <span class="keyword">this</span>.end = <span class="number">1.0</span>, <span class="keyword">this</span>.color &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> SlideTransition(</span><br><span class="line">      position: controller.drive(Tween(begin: <span class="keyword">const</span> Offset(<span class="number">0.0</span>, <span class="number">0.0</span>), end: <span class="keyword">const</span> Offset(<span class="number">0.5</span>, <span class="number">0.0</span>)).chain(CurveTween(curve: Interval(begin, end)))), </span><br><span class="line">      child: Container(</span><br><span class="line">        width: <span class="number">150</span>,</span><br><span class="line">        height: <span class="number">40</span>,</span><br><span class="line">        decoration: BoxDecoration(</span><br><span class="line">          color: color</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="Hero动画"><a href="#Hero动画" class="headerlink" title="Hero动画"></a>Hero动画</h3><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">route</button></li><li class="tab"><button type="button" data-href="#-2">code</button></li><li class="tab"><button type="button" data-href="#-3">result</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p><code>Route</code></p><details class="folding-tag"><summary>route.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;../pages/routePage/shopping.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;../pages/routePage/individualCenter.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;../animated/hero/gridViewList.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;../animated/hero/viewDetail.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Map</span> routes = &#123;</span><br><span class="line">  <span class="comment">// &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(), // 商品页</span></span><br><span class="line">  <span class="comment">// &#x27;/individualCenter&#x27;:(context, &#123; arguments &#125;) =&gt; MyIndividualCenterPage(arguments: arguments), // 个人中心页</span></span><br><span class="line">  <span class="string">&#x27;/gridViewList&#x27;</span>: (context) =&gt; <span class="keyword">const</span>  MyGridViewListPage(), <span class="comment">// 游戏中心页面的列表页面, 不要加载数据</span></span><br><span class="line">  <span class="string">&#x27;/viewDetail&#x27;</span>: 	(context, &#123; arguments &#125;) =&gt; ViewDetailPage(arguments: arguments), <span class="comment">//游戏中心页面的列表页</span></span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 配置 onGenerateRoute</span></span><br><span class="line"><span class="keyword">var</span> onGenerateRoute = (RouteSettings settings) &#123;</span><br><span class="line">  <span class="comment">// &#x27;/shopping&#x27;:(context) =&gt; MyShoppingPage(),</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String?</span> routeName = settings.name; <span class="comment">// /shopping</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">Function?</span> routeFunction = routes[routeName]; <span class="comment">// MyShoppingPage()</span></span><br><span class="line">  <span class="comment">// 找到对应的路由部件进行跳转</span></span><br><span class="line">  <span class="keyword">if</span> ( routeFunction != <span class="keyword">null</span> ) &#123;</span><br><span class="line">    <span class="comment">// 判断跳转路由是否携带参数</span></span><br><span class="line">    <span class="keyword">if</span> ( settings.arguments != <span class="keyword">null</span> ) &#123;</span><br><span class="line">      <span class="keyword">return</span> MaterialPageRoute(builder: (context) =&gt; routeFunction( context, arguments: settings.arguments ));</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="comment">// 返回路由对象</span></span><br><span class="line">    Route route = MaterialPageRoute(builder: (context) =&gt; routeFunction( context ));</span><br><span class="line">    <span class="keyword">return</span> route;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p><code>gridViewList.dart</code></p><details class="folding-tag"><summary>gridViewList.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;../../data/listData.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyGridViewListPage</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyGridViewListPage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyGridViewListPage&gt; createState() =&gt; _MyGridViewListPageState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyGridViewListPageState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyGridViewListPage</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">&#x27;GridViewListPage&#x27;</span>),</span><br><span class="line">      ),</span><br><span class="line">      body: Padding(</span><br><span class="line">        padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">6.0</span>),</span><br><span class="line">        child: GridView.builder(</span><br><span class="line">            itemCount: resData.length,</span><br><span class="line">            gridDelegate: <span class="keyword">const</span> SliverGridDelegateWithFixedCrossAxisCount(</span><br><span class="line">              crossAxisCount: <span class="number">2</span>, <span class="comment">//每行有两个项。 （或者使用 SliverGridDelegate 也可以的话</span></span><br><span class="line">            ), </span><br><span class="line">            itemBuilder: (context, index)&#123;</span><br><span class="line">              <span class="keyword">return</span> InkWell(</span><br><span class="line">                onTap: () &#123;</span><br><span class="line">                  <span class="built_in">print</span>(<span class="string">&#x27;InkWell&#x27;</span>);</span><br><span class="line">                  Navigator.pushNamed(</span><br><span class="line">                    context, <span class="string">&#x27;/viewDetail&#x27;</span>,</span><br><span class="line">                    arguments: &#123;</span><br><span class="line">                      <span class="string">&quot;detail&quot;</span>: resData[index],</span><br><span class="line">                      <span class="string">&quot;photoList&quot;</span>: resData,</span><br><span class="line">                      <span class="string">&quot;initalIndex&quot;</span>: index</span><br><span class="line">                    &#125;</span><br><span class="line">                  );</span><br><span class="line">                &#125;,</span><br><span class="line">                child: Card(</span><br><span class="line">                  <span class="comment">// 设置圆角</span></span><br><span class="line">                  shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(<span class="number">8</span>)),</span><br><span class="line">                  <span class="comment">// 阴影</span></span><br><span class="line">                  elevation: <span class="number">20.0</span>,</span><br><span class="line">                  <span class="comment">// 修剪 隐藏  card 超出部分的内容</span></span><br><span class="line">                  clipBehavior: Clip.antiAlias,</span><br><span class="line">                  child: Column(</span><br><span class="line">                    <span class="comment">// 主轴对齐</span></span><br><span class="line">                    <span class="comment">// mainAxisAlignment: MainAxisAlignment.start,</span></span><br><span class="line">                    <span class="comment">// 横轴对齐</span></span><br><span class="line">                    crossAxisAlignment: CrossAxisAlignment.start,</span><br><span class="line">                    children: [</span><br><span class="line">                      AspectRatio(</span><br><span class="line">                        aspectRatio: <span class="number">5</span> / <span class="number">3</span>,</span><br><span class="line">                        <span class="comment">// tag 是唯一值</span></span><br><span class="line">                        child: Hero(tag: resData[index][<span class="string">&#x27;author&#x27;</span>], child: Image.network(resData[index][<span class="string">&#x27;imageUrl&#x27;</span>], fit: BoxFit.cover,)),</span><br><span class="line">                      ),</span><br><span class="line"></span><br><span class="line">                      Padding(</span><br><span class="line">                        padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">4</span>),</span><br><span class="line">                        child: Column(</span><br><span class="line">                          crossAxisAlignment: CrossAxisAlignment.start,</span><br><span class="line">                          children: [</span><br><span class="line">                            Text(</span><br><span class="line">                              resData[index][<span class="string">&#x27;title&#x27;</span>], </span><br><span class="line">                              maxLines: <span class="number">1</span>,</span><br><span class="line">                              textAlign: TextAlign.left,</span><br><span class="line">                              style: <span class="keyword">const</span> TextStyle(</span><br><span class="line">                                fontSize: <span class="number">14.0</span>,</span><br><span class="line">                                fontWeight: FontWeight.bold,</span><br><span class="line">                                overflow: TextOverflow.ellipsis,</span><br><span class="line">                              )</span><br><span class="line">                            ),</span><br><span class="line">                            <span class="keyword">const</span> SizedBox(height: <span class="number">5</span>,),</span><br><span class="line">                            Text(</span><br><span class="line">                              resData[index][<span class="string">&#x27;subtitle&#x27;</span>],</span><br><span class="line">                              <span class="comment">// 设置显示的行数</span></span><br><span class="line">                              maxLines: <span class="number">2</span>,</span><br><span class="line">                              style: <span class="keyword">const</span> TextStyle(</span><br><span class="line">                                fontSize: <span class="number">12.0</span>,</span><br><span class="line">                                color: Colors.black45,</span><br><span class="line">                                <span class="comment">// 文字溢出方案 省略</span></span><br><span class="line">                                overflow: TextOverflow.ellipsis,</span><br><span class="line">                              )</span><br><span class="line">                            ),</span><br><span class="line">                          ],</span><br><span class="line">                        ),</span><br><span class="line">                      ),</span><br><span class="line">                    ],</span><br><span class="line">                  ),</span><br><span class="line">                )</span><br><span class="line">              );</span><br><span class="line">            &#125;</span><br><span class="line">          )</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details><p><code>viewDetail.dart</code></p><details class="folding-tag"><summary>viewDetail.dart</summary><div class="content"><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:photo_view/photo_view.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:photo_view/photo_view_gallery.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewDetailPage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">Map</span> arguments;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">const</span> ViewDetailPage(&#123;<span class="keyword">super</span>.key, <span class="keyword">required</span> <span class="keyword">this</span>.arguments&#125;);</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="built_in">int</span> initalIndex = arguments[<span class="string">&#x27;initalIndex&#x27;</span>];</span><br><span class="line">    <span class="built_in">List</span> photoList = arguments[<span class="string">&#x27;photoList&#x27;</span>];</span><br><span class="line">    <span class="built_in">int</span> currentPage = initalIndex + <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// 手势事件</span></span><br><span class="line">    <span class="keyword">return</span> GestureDetector(</span><br><span class="line">      onTap: () &#123;</span><br><span class="line">        Navigator.pop(context);</span><br><span class="line">      &#125;,</span><br><span class="line">      child: Scaffold(</span><br><span class="line">        backgroundColor: Colors.black,</span><br><span class="line">        body: Stack(</span><br><span class="line">          children: [</span><br><span class="line">            Center(</span><br><span class="line"></span><br><span class="line">              <span class="comment">// hero 放大 缩放</span></span><br><span class="line">              <span class="comment">// child: Hero(tag: arguments[&#x27;detail&#x27;][&#x27;author&#x27;], child: Image.network(arguments[&#x27;detail&#x27;][&#x27;imageUrl&#x27;])) ,</span></span><br><span class="line"></span><br><span class="line">              <span class="comment">// photo_view 单张图片预览</span></span><br><span class="line">              <span class="comment">/* child: PhotoView(</span></span><br><span class="line"><span class="comment">                imageProvider: NetworkImage(arguments[&#x27;detail&#x27;][&#x27;imageUrl&#x27;])</span></span><br><span class="line"><span class="comment">              ), */</span></span><br><span class="line"></span><br><span class="line">              <span class="comment">// photo_view 多张预览</span></span><br><span class="line">              child: PhotoViewGallery.builder(</span><br><span class="line">                <span class="comment">// 配置初始化的图片 就是默认当前点击展示的图片</span></span><br><span class="line">                pageController: PageController(initialPage: initalIndex),</span><br><span class="line">                onPageChanged: (index)&#123;</span><br><span class="line">                  initalIndex = index;</span><br><span class="line">                &#125;,</span><br><span class="line">                itemCount: photoList.length,</span><br><span class="line">                builder: (context, index) &#123;</span><br><span class="line">                    <span class="keyword">return</span> PhotoViewGalleryPageOptions(imageProvider: NetworkImage(photoList[index][<span class="string">&#x27;imageUrl&#x27;</span>]));</span><br><span class="line">                &#125;</span><br><span class="line">              ),</span><br><span class="line">            ),</span><br><span class="line"></span><br><span class="line">            Positioned(</span><br><span class="line">              left: <span class="number">0</span>,</span><br><span class="line">              right: <span class="number">0</span>,</span><br><span class="line">              bottom: <span class="number">12</span>,</span><br><span class="line">              child: Align(</span><br><span class="line">                alignment: Alignment.center,</span><br><span class="line">                child: Text(</span><br><span class="line">                  <span class="string">&#x27;<span class="subst">$&#123;currentPage&#125;</span>/<span class="subst">$&#123;photoList.length&#125;</span>&#x27;</span>, </span><br><span class="line">                  style: TextStyle(fontSize: <span class="number">14</span>, fontWeight: FontWeight.bold, color: Colors.white60),</span><br><span class="line">                ),</span><br><span class="line">              )</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        )</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/flutter/hero_demo.jpg"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Flutter/">Flutter</a></div><div class="post_share"><div class="addthis_inline_share_toolbox"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=null" async></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/images/wechat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/wechat.png" alt="微信"></a><div class="post-qr-code-desc">微信</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/12/26/learning/mobile/flutter/flutter_%E7%BB%84%E4%BB%B6/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-20.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" onerror='onerror=null,src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">flutter_组件</div></div></a></div><div class="next-post pull-right"><a href="/2023/01/29/tools/nodejs/depcheck/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-28.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" onerror='onerror=null,src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">package依赖包检测工具</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/08/24/demo/flutter/flutter%E5%B0%81%E8%A3%85%E4%B8%80%E4%B8%AASelectTree/" title="flutter封装一个SelectTree"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-33.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-24</div><div class="title">flutter封装一个SelectTree</div></div></a></div><div><a href="/2023/08/02/inductive/flutter/Flutter-%E8%AE%BE%E7%BD%AEApp%E5%BA%94%E7%94%A8%E5%9B%BE%E6%A0%87/" title="Flutter 设置App应用图标"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-9.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-02</div><div class="title">Flutter 设置App应用图标</div></div></a></div><div><a href="/2023/02/25/inductive/flutter/Flutter-%E8%AE%BE%E7%BD%AE%E5%9B%BE%E7%89%87%E5%9C%86%E8%A7%92%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%A1%88/" title="Flutter 设置图片圆角的几种方案"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-32.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-25</div><div class="title">Flutter 设置图片圆角的几种方案</div></div></a></div><div><a href="/2023/07/28/inductive/flutter/Flutter-%E9%A1%B5%E9%9D%A2%E7%BC%93%E5%AD%98/" title="Flutter 页面缓存"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-10.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-28</div><div class="title">Flutter 页面缓存</div></div></a></div><div><a href="/2023/05/20/inductive/flutter/Flutter%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6/" title="Flutter常用插件"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-7.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-05-20</div><div class="title">Flutter常用插件</div></div></a></div><div><a href="/2023/09/08/inductive/flutter/flutter-dio%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" title="flutter_dio多环境配置"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-24.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-08</div><div class="title">flutter_dio多环境配置</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div><div class="comment-barrage"></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/site/avatar.jpg?imageMogr2/thumbnail/200x/blur/1x0/quality/75|imageslim" onerror='this.onerror=null,this.src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="avatar"></div><div class="author-info__name">啤啤熊</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">135</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">37</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">17</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Miaojw0517"><i class="fab fa-github"></i><span>github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Miaojw0517" target="_blank" title="Github"><i class="iconfont icon-github"></i></a><a class="social-icon" href="https://gitee.com/miao_jiangwei/projects" target="_blank" title="Gitee"><i class="iconfont icon-gitee"></i></a><a class="social-icon" href="/mjw1046665443@163.com" target="_blank" title="163Email"><i class="iconfont icon-youxiang"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Flutter-%E4%B8%AD%E7%9A%84%E8%B7%AF%E7%94%B1"><span class="toc-number">1.</span> <span class="toc-text">Flutter 中的路由</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E8%B7%AF%E7%94%B1"><span class="toc-number">1.1.</span> <span class="toc-text">普通路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%B7%AF%E7%94%B1"><span class="toc-number">1.2.</span> <span class="toc-text">命名路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E4%B8%8A%E4%B8%AA%E8%B7%AF%E7%94%B1"><span class="toc-number">1.3.</span> <span class="toc-text">返回上个路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1"><span class="toc-number">1.4.</span> <span class="toc-text">默认路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E6%9B%BF%E6%8D%A2"><span class="toc-number">1.5.</span> <span class="toc-text">路由替换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%94%E5%9B%9E%E5%88%B0%E8%B7%9F%E8%B7%AF%E7%94%B1"><span class="toc-number">1.6.</span> <span class="toc-text">返回到跟路由</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Flutter-%E4%B8%AD%E7%9A%84%E5%BC%B9%E7%AA%97"><span class="toc-number">2.</span> <span class="toc-text">Flutter 中的弹窗</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%BB%BAdialog-dart"><span class="toc-number">2.1.</span> <span class="toc-text">新建dialog.dart</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AlertDialog%E7%A1%AE%E8%AE%A4%E6%A1%86"><span class="toc-number">2.2.</span> <span class="toc-text">AlertDialog确认框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SimpleDialog%E4%BF%A1%E6%81%AF%E9%80%89%E6%8B%A9%E6%A1%86"><span class="toc-number">2.3.</span> <span class="toc-text">SimpleDialog信息选择框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ShowModalBottomSheet%E5%BA%95%E9%83%A8%E5%BC%B9%E6%A1%86"><span class="toc-number">2.4.</span> <span class="toc-text">ShowModalBottomSheet底部弹框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ShowToast%E6%B5%AE%E5%8A%A8%E5%BC%B9%E7%AA%97"><span class="toc-number">2.5.</span> <span class="toc-text">ShowToast浮动弹窗</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%B9%E7%AA%97"><span class="toc-number">2.6.</span> <span class="toc-text">自定义弹窗</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#PageView%E6%BB%91%E5%8A%A8%E7%BB%84%E4%BB%B6"><span class="toc-number">3.</span> <span class="toc-text">PageView滑动组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PageView"><span class="toc-number">3.1.</span> <span class="toc-text">PageView</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PageViewBuilder"><span class="toc-number">3.2.</span> <span class="toc-text">PageViewBuilder</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PageView%E8%BD%AE%E6%92%AD%E5%9B%BE"><span class="toc-number">3.3.</span> <span class="toc-text">PageView轮播图</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E8%87%AA%E5%8A%A8%E8%BD%AE%E6%92%AD"><span class="toc-number">3.3.1.</span> <span class="toc-text">实现自动轮播</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Flutter-Key-%E8%8E%B7%E5%8F%96-%E5%AD%90Widget-%E7%8A%B6%E6%80%81-%E5%92%8C%E6%96%B9%E6%B3%95"><span class="toc-number">4.</span> <span class="toc-text">Flutter Key 获取 子Widget 状态 和方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%80%E9%83%A8Key-localKey"><span class="toc-number">4.1.</span> <span class="toc-text">局部Key(localKey)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ValueKey"><span class="toc-number">4.1.1.</span> <span class="toc-text">ValueKey</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ObjectKey"><span class="toc-number">4.1.2.</span> <span class="toc-text">ObjectKey</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UniqueKey"><span class="toc-number">4.1.3.</span> <span class="toc-text">UniqueKey</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Demo"><span class="toc-number">4.1.4.</span> <span class="toc-text">Demo</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80Key-GlobalKey"><span class="toc-number">4.2.</span> <span class="toc-text">全局Key(GlobalKey)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">4.2.1.</span> <span class="toc-text">基本使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GlobalKey-%E8%8E%B7%E5%8F%96%E5%AD%90%E7%BB%84%E4%BB%B6"><span class="toc-number">4.2.2.</span> <span class="toc-text">GlobalKey 获取子组件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AnimatedList-%E5%8A%A8%E7%94%BB%E5%88%97%E8%A1%A8"><span class="toc-number">5.</span> <span class="toc-text">AnimatedList 动画列表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB%E7%BB%84%E4%BB%B6"><span class="toc-number">6.</span> <span class="toc-text">动画组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB%E5%8E%9F%E7%90%86"><span class="toc-number">6.1.</span> <span class="toc-text">动画原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E5%8A%A8%E7%94%BB"><span class="toc-number">6.2.</span> <span class="toc-text">隐式动画</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AnimatedContainer"><span class="toc-number">6.2.1.</span> <span class="toc-text">AnimatedContainer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AnimatedPadding"><span class="toc-number">6.2.2.</span> <span class="toc-text">AnimatedPadding</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AnimatedPositioned"><span class="toc-number">6.2.3.</span> <span class="toc-text">AnimatedPositioned</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AnimatedOpacity"><span class="toc-number">6.2.4.</span> <span class="toc-text">AnimatedOpacity</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AnimatedDefaultTextStyle"><span class="toc-number">6.2.5.</span> <span class="toc-text">AnimatedDefaultTextStyle</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AnimatedSwitcher"><span class="toc-number">6.2.6.</span> <span class="toc-text">AnimatedSwitcher</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E5%8A%A8%E7%94%BB"><span class="toc-number">6.3.</span> <span class="toc-text">显示动画</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#AnimationController"><span class="toc-number">6.3.1.</span> <span class="toc-text">AnimationController</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#RotationTransition"><span class="toc-number">6.3.2.</span> <span class="toc-text">RotationTransition</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FadeTransition"><span class="toc-number">6.3.3.</span> <span class="toc-text">FadeTransition</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ScaleTransition"><span class="toc-number">6.3.4.</span> <span class="toc-text">ScaleTransition</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SlideTransition"><span class="toc-number">6.3.5.</span> <span class="toc-text">SlideTransition</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Animatedlcon"><span class="toc-number">6.3.6.</span> <span class="toc-text">Animatedlcon</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%A4%E9%94%99%E5%BC%8F%E5%8A%A8%E7%94%BB"><span class="toc-number">6.4.</span> <span class="toc-text">自定义交错式动画</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ScaleTransition-1"><span class="toc-number">6.4.1.</span> <span class="toc-text">ScaleTransition</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Slidertransition"><span class="toc-number">6.4.2.</span> <span class="toc-text">Slidertransition</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hero%E5%8A%A8%E7%94%BB"><span class="toc-number">6.5.</span> <span class="toc-text">Hero动画</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/06/19/inductive/nestjs/nestjs%E9%85%8D%E7%BD%AE%E9%A1%B9/" title="nestjs配置项"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-28.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" onerror='this.onerror=null,this.src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="nestjs配置项"></a><div class="content"><a class="title" href="/2024/06/19/inductive/nestjs/nestjs%E9%85%8D%E7%BD%AE%E9%A1%B9/" title="nestjs配置项">nestjs配置项</a><time datetime="2024-06-19T04:05:35.000Z" title="发表于 2024-06-19 12:05:35">2024-06-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/14/inductive/database/mysql/mysql%E9%97%AE%E9%A2%98%E5%BD%92%E7%BA%B3/" title="mysql问题归纳"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-39.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" onerror='this.onerror=null,this.src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="mysql问题归纳"></a><div class="content"><a class="title" href="/2024/06/14/inductive/database/mysql/mysql%E9%97%AE%E9%A2%98%E5%BD%92%E7%BA%B3/" title="mysql问题归纳">mysql问题归纳</a><time datetime="2024-06-14T03:28:09.000Z" title="发表于 2024-06-14 11:28:09">2024-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/04/inductive/nodejs/npm-check%E6%A8%A1%E5%9D%97%E5%8D%87%E7%BA%A7%E5%B7%A5%E5%85%B7/" title="npm-check模块升级工具"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-8.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" onerror='this.onerror=null,this.src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="npm-check模块升级工具"></a><div class="content"><a class="title" href="/2024/06/04/inductive/nodejs/npm-check%E6%A8%A1%E5%9D%97%E5%8D%87%E7%BA%A7%E5%B7%A5%E5%85%B7/" title="npm-check模块升级工具">npm-check模块升级工具</a><time datetime="2024-06-04T08:33:34.072Z" title="发表于 2024-06-04 16:33:34">2024-06-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/04/halo/halo%E5%BB%BA%E7%AB%99%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" title="Halo建站环境搭建"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-19.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" onerror='this.onerror=null,this.src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="Halo建站环境搭建"></a><div class="content"><a class="title" href="/2024/06/04/halo/halo%E5%BB%BA%E7%AB%99%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" title="Halo建站环境搭建">Halo建站环境搭建</a><time datetime="2024-06-04T07:36:02.000Z" title="发表于 2024-06-04 15:36:02">2024-06-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/04/learning/docker/docker%E5%AE%89%E8%A3%85/" title="docker安装"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-27.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" onerror='this.onerror=null,this.src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="docker安装"></a><div class="content"><a class="title" href="/2024/06/04/learning/docker/docker%E5%AE%89%E8%A3%85/" title="docker安装">docker安装</a><time datetime="2024-06-04T07:20:20.000Z" title="发表于 2024-06-04 15:20:20">2024-06-04</time></div></div></div></div><div class="card-widget card-cheesy_pick-up_lines"><div class="card-content"><div class="item-headline"><i class="fas fa-heart" style="color:pink"></i><span>土味情话</span></div><div id="cheesy_pick-up_lines-container"></div></div></div><script data-pjax="data-pjax" src="/js/cheesy_pick-up_lines.js"></script></div></div></main><footer id="footer"><div id="footer-wrap"><div id="running-time"></div><div class="copyright">&copy;2022 - 2024 By 啤啤熊</div><div class="icp"><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/"><span>京ICP备2022026194号</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">簡</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="浅色和深色模式转换"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a></div></div><div id="nav-music"><div id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()">播放音乐</div><meting-js id="1708664797" server="tencent" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="fa-solid fa-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="fa-solid fa-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="fa-solid fa-arrow-rotate-right"></i></div><div class="rightMenu-item" id="menu-top"><i class="fa-solid fa-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="fas fa-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="fas fa-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="fas fa-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="fas fa-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="fas fa-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="fas fa-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="fas fa-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-search"><i class="fa-solid fa-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="fa-solid fa-magnifying-glass"></i><span>百度搜索</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="fas fa-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="fas fa-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="fas fa-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item menu-link" href="/privacy/"><i class="fa-solid fa-hand"></i><span>隐私协议</span></a><a class="rightMenu-item menu-link" href="/cc/"><i class="fa-solid fa-closed-captioning"></i><span>版权协议</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><div class="rightMenu-item" id="menu-copy"><i class="fas fa-copy"></i><span>复制地址</span></div><a class="rightMenu-item" id="menu-darkmode" href="javascript:navFn.switchDarkMode();"><i class="fa-solid fa-moon"></i><span class="menu-darkmode-text">显示模式</span></a><div class="rightMenu-item" id="menu-translate"><i class="fas fa-language"></i><span>轉為繁體</span></div></div></div><div id="rightmenu-mask"></div><div><script src="https://www.msirknightblog.cn/static/js/utils.js"></script><script src="https://www.msirknightblog.cn/static/js/main.js"></script><script src="https://www.msirknightblog.cn/static/js/tw_cn.js"></script><script src="https://npm.elemecdn.com/@fancyapps/ui@latest/dist/fancybox.umd.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.js"></script><script src="https://npm.elemecdn.com/algoliasearch@latest/dist/algoliasearch-lite.umd.js"></script><script src="https://npm.elemecdn.com/instantsearch.js@latest/dist/instantsearch.production.min.js"></script><script src="https://www.msirknightblog.cn/static/js/search/algolia.js"></script><script>(()=>{const t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://knight-twikoo.cn/",region:"",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null))};const o=()=>{t()},e=()=>{"object"==typeof twikoo?setTimeout(o,0):getScript("https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/twikoo/1.4.18/twikoo.all.min.js").then(o)};btf.loadComment(document.getElementById("twikoo-wrap"),e)})()</script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script><script charset="UTF-8" id="LA_COLLECT" src="https://sdk.51.la/js-sdk-pro.min.js"></script><script src="https://sdk.51.la/perf/js-sdk-perf.min.js" crossorigin="anonymous"></script><script src="/js/random.js"></script><script>setInterval(()=>{var e=Math.round(new Date("2022-8-22-15:02:54").getTime()/1e3);let t=Math.round(((new Date).getTime()+288e5)/1e3)-e,n=new Array(0,0,0,0,0);31536e3<=t&&(n[0]=parseInt(t/31536e3),t%=31536e3),86400<=t&&(n[1]=parseInt(t/86400),t%=86400),3600<=t&&(n[2]=parseInt(t/3600),t%=3600),60<=t&&(n[3]=parseInt(t/60),t%=60),0<t&&(n[4]=t),currentTimeHtml="小破站已经安全运行 "+n[0]+" 年 "+n[1]+" 天 "+n[2]+" 时 "+n[3]+" 分 "+n[4]+" 秒";e=document.getElementById("running-time");e&&(e.innerHTML=currentTimeHtml)},1e3)</script><script type="text/javascript" defer src="/js/commentBarrage.js"></script><script async data-pjax src="/js/waterfall/waterfall.js"></script><script data-pjax src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/js/swiper.min.js"></script><script defer src="/js/gallery.js?v1"></script><script defer data-pjax src="https://www.msirknightblog.cn/static/js/custom.js"></script><script defer src="https://www.msirknightblog.cn/static/js/anzhiyu.js"></script><script defer data-pjax src="https://www.msirknightblog.cn/static/js/anzhiyufunction.js"></script><script defer data-pjax src="https://www.msirknightblog.cn/static/js/rightMenu2.js"></script><canvas id="universe"></canvas><script async src="/js/universe.js"></script></div><script data-pjax>var parent,child;document.getElementById("recent-posts")&&(location.pathname,1)&&(parent=document.getElementById("recent-posts"),child='<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/FrontEnd/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📚 前端 (73)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/Butterlfy/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🎮 Butterlfy (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/Nginx/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">👩‍💻 Nginx (4)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/Linux/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📒 Linux (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/Tools/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">💡 Tools (9)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/移动端/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🐱 移动端 (21)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/Map/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🐱 Map (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/Git/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">💡 Git (5)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://ppxiong.msirknightblog.cn/categories/" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>',console.log("已挂载magnet"),parent.insertAdjacentHTML("afterbegin",child))</script><style>#catalog_magnet{flex-wrap:wrap;display:flex;width:100%;justify-content:space-between;padding:10px 10px 0 10px;align-content:flex-start}.magnet_item{flex-basis:calc(50% - 5px);background:#f2f2f2;margin-bottom:10px;border-radius:8px;transition:all .2s ease-in-out}.magnet_item:hover{background:#b30070}.magnet_link_more{color:#555}.magnet_link{color:#000}.magnet_link:hover{color:#fff}@media screen and (max-width:600px){.magnet_item{flex-basis:100%}}.magnet_link_context{display:flex;padding:10px;font-size:16px;transition:all .2s ease-in-out}.magnet_link_context:hover{padding:10px 20px}</style><style></style><script data-pjax>function butterfly_swiper_injector_config(){var i=document.getElementById("head-swiper");console.log("已挂载butterfly_swiper"),i.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/02/07/inductive/javascript/ArryBuffer类型转换为Json/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-39.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-02-07</span><a class="blog-slider__title" href="2023/02/07/inductive/javascript/ArryBuffer类型转换为Json/" alt="">ArryBuffer类型转换为Json</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2023/02/07/inductive/javascript/ArryBuffer类型转换为Json/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/08/07/learning/node/node环境搭建/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-26.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-08-07</span><a class="blog-slider__title" href="2022/08/07/learning/node/node环境搭建/" alt="">Node环境搭建</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2022/08/07/learning/node/node环境搭建/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/08/06/inductive/nodejs/设置仓库地址/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-33.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-08-06</span><a class="blog-slider__title" href="2022/08/06/inductive/nodejs/设置仓库地址/" alt="">设置仓库地址</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2022/08/06/inductive/nodejs/设置仓库地址/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/05/20/inductive/flutter/Flutter常用插件/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-7.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-05-20</span><a class="blog-slider__title" href="2023/05/20/inductive/flutter/Flutter常用插件/" alt="">Flutter常用插件</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2023/05/20/inductive/flutter/Flutter常用插件/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/07/07/inductive/javascript/常用的工具函数/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-24.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-07-07</span><a class="blog-slider__title" href="2022/07/07/inductive/javascript/常用的工具函数/" alt="">JS常用的工具函数</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2022/07/07/inductive/javascript/常用的工具函数/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/05/30/inductive/javascript/ArrayBuffer 转 base64/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-37.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-05-30</span><a class="blog-slider__title" href="2022/05/30/inductive/javascript/ArrayBuffer 转 base64/" alt="">ArrayBuffer 转 base64</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2022/05/30/inductive/javascript/ArrayBuffer 转 base64/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/03/05/work/记录下工作开发中遇到的问题/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-29.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-03-05</span><a class="blog-slider__title" href="2023/03/05/work/记录下工作开发中遇到的问题/" alt="">记录下工作开发中遇到的问题!</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2023/03/05/work/记录下工作开发中遇到的问题/" alt="">详情   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>')}for(var elist="undefined".split(","),cpage=location.pathname,epage="all",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_swiper_injector_config()</script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><div class="js-pjax"><script async>for(var arr=document.getElementsByClassName("recent-post-item"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__fadeInUp"),arr[i].setAttribute("data-wow-duration",".9s"),arr[i].setAttribute("data-wow-delay","0"),arr[i].setAttribute("data-wow-offset","30"),arr[i].setAttribute("data-wow-iteration","1")</script><script async>for(var arr=document.getElementsByClassName("card-widget"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__fadeInUp"),arr[i].setAttribute("data-wow-duration",".9s"),arr[i].setAttribute("data-wow-delay","0"),arr[i].setAttribute("data-wow-offset","30"),arr[i].setAttribute("data-wow-iteration","")</script><script async>for(var arr=document.getElementsByClassName("article-sort-item"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__fadeIn"),arr[i].setAttribute("data-wow-duration",".9s"),arr[i].setAttribute("data-wow-delay","0"),arr[i].setAttribute("data-wow-offset","30"),arr[i].setAttribute("data-wow-iteration","1")</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script></body></html>