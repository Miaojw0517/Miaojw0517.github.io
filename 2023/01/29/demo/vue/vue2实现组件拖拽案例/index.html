<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>vue2实现组件拖拽案例 | 啤啤熊</title><meta name="keywords" content="Vue,VueDemo"><meta name="author" content="啤啤熊"><meta name="copyright" content="啤啤熊"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前言 使用 vue2.x 结合 draggable 拖拽插件 实现组件自由拖拽!注意事项:  本案例中，内置组件[折叠框、表单、图表、表格，树状下拉]这些组件都是本地封装好的，使用过程中，组件列表项需要配置自己所内置的组件!   效果预览(function(){var player &#x3D; new DPlayer({&quot;container&quot;:document.getElementById(&quot;dplaye"><meta property="og:type" content="article"><meta property="og:title" content="vue2实现组件拖拽案例"><meta property="og:url" content="https://ppxiong.msirknightblog.cn/2023/01/29/demo/vue/vue2%E5%AE%9E%E7%8E%B0%E7%BB%84%E4%BB%B6%E6%8B%96%E6%8B%BD%E6%A1%88%E4%BE%8B/index.html"><meta property="og:site_name" content="啤啤熊"><meta property="og:description" content="前言 使用 vue2.x 结合 draggable 拖拽插件 实现组件自由拖拽!注意事项:  本案例中，内置组件[折叠框、表单、图表、表格，树状下拉]这些组件都是本地封装好的，使用过程中，组件列表项需要配置自己所内置的组件!   效果预览(function(){var player &#x3D; new DPlayer({&quot;container&quot;:document.getElementById(&quot;dplaye"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-30.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50"><meta property="article:published_time" content="2023-01-29T08:04:53.000Z"><meta property="article:modified_time" content="2023-06-05T13:03:31.266Z"><meta property="article:author" content="啤啤熊"><meta property="article:tag" content="Vue"><meta property="article:tag" content="VueDemo"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-30.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50"><link rel="shortcut icon" href="https://www.msirknightblog.cn/static/images/site/avatar.jpg?imageMogr2/thumbnail/200x/blur/1x0/quality/75|imageslim"><link rel="canonical" href="https://ppxiong.msirknightblog.cn/2023/01/29/demo/vue/vue2%E5%AE%9E%E7%8E%B0%E7%BB%84%E4%BB%B6%E6%8B%96%E6%8B%BD%E6%A1%88%E4%BE%8B/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://npm.elemecdn.com/@fortawesome/fontawesome-free@latest/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/@fancyapps/ui@latest/dist/fancybox.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:{appId:"72G1NZ2R6Z",apiKey:"f1ea06bf398a3faacaeeb2ce42db29ee",indexName:"firstIndex",hits:{per_page:6},languages:{input_placeholder:"搜索文章",hits_empty:"找不到您查询的内容：${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:void 0,translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},noticeOutdate:{limitDay:365,position:"top",messagePrev:"It has been",messageNext:"days since the last update, the content of the article may be outdated."},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:350},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!0,post:!0},runtime:"天",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#4276c9",bgDark:"#203961",position:"top-right"},source:{justifiedGallery:{js:"https://npm.elemecdn.com/flickr-justified-gallery@latest/dist/fjGallery.min.js",css:"https://npm.elemecdn.com/flickr-justified-gallery@latest/dist/fjGallery.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"vue2实现组件拖拽案例",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-06-05 21:03:31"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,a){if(0!==a){const o=new Date;a=864e5*a,t={value:t,expiry:o.getTime()+a};localStorage.setItem(e,JSON.stringify(t))}},get:function(e){var t=localStorage.getItem(e);if(t){t=JSON.parse(t);const a=new Date;if(!(a.getTime()>t.expiry))return t.value;localStorage.removeItem(e)}}},e.getScript=o=>new Promise((t,e)=>{const a=document.createElement("script");a.src=o,a.async=!0,a.onerror=e,a.onload=a.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};var e=saveToLocal.get("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches,a=window.matchMedia("(prefers-color-scheme: light)").matches,o=window.matchMedia("(prefers-color-scheme: no-preference)").matches,c=!t&&!a&&!o;if(void 0===e){if(a)activateLightMode();else if(t)activateDarkMode();else if(o||c){const n=new Date;a=n.getHours();(a<=6||18<=a?activateDarkMode:activateLightMode)()}window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode:activateLightMode)()})}else("light"===e?activateLightMode:activateDarkMode)();t=saveToLocal.get("aside-status");void 0!==t&&("hide"===t?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="referrer" content="no-referrer"><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/customer_style.css"><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/customer_butterfly.css"><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/rightMenu.css"><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/commentBarrage.css"><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/essay_page.css"><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/cheesy_pick-up_lines.css"><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/stars.css"><link rel="stylesheet" href="https://at.alicdn.com/t/c/font_3970213_1fi3ffivzda.css"><style id="barragesColor"></style><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper-anzhiyu@1.0.4/lib/swiper.min.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css"><link rel="stylesheet" href="https://npm.elemecdn.com/remixicon@2.5.0/fonts/remixicon.css"><link rel="stylesheet" href="https://www.msirknightblog.cn/static/font/iconfont.css"><svg aria-hidden="true" style="position:absolute;overflow:hidden;width:0;height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/cardlistpost.min.css"><style>#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags:before{content:"\A"}#recent-posts>.recent-post-item>.recent-post-info>.article-meta-wrap>.tags>.article-meta__separator{display:none}</style><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload='this.media="screen"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload='this.media="all"'><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><meta name="generator" content="Hexo 6.2.0"><script src="/assets/js/DPlayer.min.js"></script></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",()=>{preloader.endLoading()})</script><link rel="stylesheet" href="https://www.msirknightblog.cn/static/css/progress_bar.css"><script src="/"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/site/avatar.jpg?imageMogr2/thumbnail/200x/blur/1x0/quality/75|imageslim" onerror='onerror=null,src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">114</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">25</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 文库</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 我的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/talk/"><i class="fa-fw fas fa-video"></i><span> 动态</span></a></li><li><a class="site-page child" href="/wish-list/"><i class="fa-fw fa-fw fas fa-bars-staggered"></i><span> 清单</span></a></li><li><a class="site-page child" href="/photo-wall/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 友链</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></li><li><a class="site-page child" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-sharp fa-solid fa-folder-open"></i><span> 收藏</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/repository/"><i class="fa-fw fas fa-sharp fa-solid fa-layer-group"></i><span> 资源库</span></a></li><li><a class="site-page child" href="/common-lib/"><i class="fa-fw fas fa-sharp fa-solid fa-cube"></i><span> 开发常用库</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw fas fa-layer-group"></i><span> 统计</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="back-home"><div class="back-home-button" tabindex="-1"><i class="back-home-button-icon fas fa-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="/" title="前往博客主页" target="_blank" one-link-mark="yes"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/site/avatar.jpg"><span class="back-menu-item-text">我的博客</span></a><a class="back-menu-item" href="https://cloud.tencent.com/login?s_url=https%3A%2F%2Fconsole.cloud.tencent.com%2Fdomain%2Fall-domain" rel="external nofollow" title="前往腾讯云" target="_blank" one-link-mark="yes"><i class="back-menu-item-icon iconfont icon-yun"></i><span class="back-menu-item-text">腾讯云服务</span></a><a class="back-menu-item" href="https://portal.qiniu.com/kodo/bucket" rel="external nofollow" title="前往七牛云图床" target="_blank" one-link-mark="yes"><i class="back-menu-item-icon iconfont icon-yun"></i><span class="back-menu-item-text">七牛云图床</span></a><a class="back-menu-item" href="https://memos.msirknightblog.cn/explore" rel="external nofollow" title="前往Memos" target="_blank" one-link-mark="yes"><i class="back-menu-item-icon iconfont icon-dongtai"></i><span class="back-menu-item-text">Memos动态</span></a><a class="back-menu-item" href="http://82.157.255.243:81/" rel="external nofollow" title="Nginx Proxy Manager" target="_blank" one-link-mark="yes"><i class="back-menu-item-icon iconfont icon-daililiebiaoICO"></i><span class="back-menu-item-text">Nginx Proxy Manager</span></a></div></div></div></div></span><span id="blog_name"><a id="site-name" href="/" title="返回博客主页"><span>啤啤熊 </span></a></span><span id="page_name"><a id="page-name-text" title="回到顶部" onclick="btf.scrollToDest(0,500)"><span>啤啤熊</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 文库</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 我的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/talk/"><i class="fa-fw fas fa-video"></i><span> 动态</span></a></li><li><a class="site-page child" href="/wish-list/"><i class="fa-fw fa-fw fas fa-bars-staggered"></i><span> 清单</span></a></li><li><a class="site-page child" href="/photo-wall/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 友链</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></li><li><a class="site-page child" href="/comments/"><i class="fa-fw fas fa-envelope"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-sharp fa-solid fa-folder-open"></i><span> 收藏</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/repository/"><i class="fa-fw fas fa-sharp fa-solid fa-layer-group"></i><span> 资源库</span></a></li><li><a class="site-page child" href="/common-lib/"><i class="fa-fw fas fa-sharp fa-solid fa-cube"></i><span> 开发常用库</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/charts/"><i class="fa-fw fas fa-layer-group"></i><span> 统计</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div><div id="hotkey"><div id="search-button"><a class="site-page social-icon search" title="搜索"><i class="ri-search-eye-line"></i></a></div><div id="randompost-button"><a class="site-page" title="随机文章" onclick="toRandomPost()"><i class="ri-subway-fill"></i></a></div><div id="mode-button"><a class="site-page" title="浅色和深色模式转换" onclick="navFn.switchDarkMode()"><i class="ri-sun-fill"></i></a></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-top-cover" style="background-image:url(https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-30.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50)"></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-info"><h1 class="post-title">vue2实现组件拖拽案例</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-01-29T08:04:53.000Z" title="发表于 2023-01-29 16:04:53">2023-01-29</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-05T13:03:31.266Z" title="更新于 2023-06-05 21:03:31">2023-06-05</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/FrontEnd/">FrontEnd</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">12.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>70分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>使用 <code>vue2.x</code> 结合 <code>draggable</code> 拖拽插件 实现组件自由拖拽!<br></p><p class="p red">注意事项:</p><p></p><ol><li>本案例中，<code>内置组件[折叠框、表单、图表、表格，树状下拉]</code>这些组件都是本地封装好的，使用过程中，组件列表项需要配置自己所内置的组件!</li></ol></blockquote><h2 id="效果预览"><a href="#效果预览" class="headerlink" title="效果预览"></a>效果预览</h2><div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom:20px"></div><script>!function(){var e=new DPlayer({container:document.getElementById("dplayer0"),autoplay:!0,hotkey:!0,preload:"metadata",video:{url:"https://msirknightblog.cn/static/audio/mp4/vue/20230129163548.mp4"}});window.dplayers||(window.dplayers=[]),window.dplayers.push(e)}()</script><h2 id="功能介绍"><a href="#功能介绍" class="headerlink" title="功能介绍"></a>功能介绍</h2><ol><li>组件自由拖拽</li><li>组件效果预览</li><li>生成<code>vue</code>模板<blockquote><p>生成<code>vue</code>模板 可以根据 提供文件路径，在本地开发目录下生成对应<code>vue</code>文件，此方式仅支持<code>本地开发模式</code>，线上模式暂不支持!<br><code>原因:</code> 线上模式为打包后的代码，无法在具体路径下生成对应 <code>vue 模板文件</code>!<br><code>线上模板生成</code>: 需要借助 <code>file-saver</code>该插件 并以保存的形式 在本地生成文件， 此方式<code>是在本地生成文件</code>并不是在<code>开发者本地生成</code>!</p></blockquote></li></ol><h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><div class="table-container"><table><thead><tr><th>插件名称</th><th>插件版本</th><th>插件描述</th><th>安装</th></tr></thead><tbody><tr><td><code>vuedraggable</code></td><td>2.24.3</td><td>拖拽插件</td><td><code>npm install --save vuedraggable@2.24.3</code></td></tr><tr><td><code>file-saver</code></td><td>2.0.5</td><td>文件保存下载至本地插件</td><td><code>npm install --save file-saver@2.0.5</code></td></tr><tr><td><code>js-beautify</code></td><td>1.14.7</td><td>代码美化插件，包含 <code>html</code> <code>css</code> <code>js</code></td><td><code>npm install --save js-beautify@1.14.7</code></td></tr><tr><td><code>vue2-ace-editor</code></td><td>0.0.15</td><td>代码预览插件</td><td><code>npm install --save vue2-ace-editor@0.0.15</code></td></tr></tbody></table></div><h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><div class="table-container"><table><thead><tr><th>文件目录</th><th>功能描述</th></tr></thead><tbody><tr><td><code>page-designer</code></td><td>为 总目录, 可以理解为 <code>@/views/page-designer</code></td></tr><tr><td><code>component-items</code></td><td>左侧 组件列表项</td></tr><tr><td><code>draggable-area</code></td><td>中测 组件拖拽区域</td></tr><tr><td><code>setting-attr-panel</code></td><td>右测 组件面板属性设置</td></tr><tr><td><code>component</code></td><td>该组件内部，提供页面设计器所需的公用组件，例如，组件面板，设置多个属性时用到的<code>ConfigMultipleAttr</code>组件!</td></tr><tr><td><code>template</code></td><td>包含<code>vue 模板</code> 以及 <code>组合 模板</code> 中使用到的 <code>utils</code> 工具模块!</td></tr><tr><td><code>config</code></td><td>包含 组件 配置项, 这里 可以 配置你的内置组件，以及 其他可被 <code>is</code> 属性所渲染 的组件项!</td></tr></tbody></table></div><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">page-designer</span><br><span class="line"> ├── component</span><br><span class="line"> │   ├── ConfigMultipleAttr.vue</span><br><span class="line"> │   └── dialog</span><br><span class="line"> │       ├── PreviewCodeDialog.vue</span><br><span class="line"> │       ├── PreviewPageDialog.vue</span><br><span class="line"> │       └── RenderComponent.vue</span><br><span class="line"> ├── component-items</span><br><span class="line"> │   └── index.vue</span><br><span class="line"> ├── config</span><br><span class="line"> │   ├── componentConfig.js</span><br><span class="line"> │   ├── index.js</span><br><span class="line"> │   └── panelMoreAttrConfig.js</span><br><span class="line"> ├── draggable-area</span><br><span class="line"> │   ├── index.vue</span><br><span class="line"> │   └── RenderComponents</span><br><span class="line"> │       └── index.vue</span><br><span class="line"> ├── index.vue</span><br><span class="line"> ├── setting-attr-panel</span><br><span class="line"> │   ├── components</span><br><span class="line"> │   │   ├── SettingFormItems.vue</span><br><span class="line"> │   │   └── SettingPaginationTable.vue</span><br><span class="line"> │   └── index.vue</span><br><span class="line"> └── template</span><br><span class="line">     ├── index.js</span><br><span class="line">     └── utils.js</span><br></pre></td></tr></table></figure><h2 id="开发阶段"><a href="#开发阶段" class="headerlink" title="开发阶段"></a>开发阶段</h2><h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><ol><li>拖拽插件 <code>vuedraggable</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save vuedraggable@2.24.3</span><br></pre></td></tr></table></figure></li><li>文件保存 <code>file-saver</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save file-saver@2.0.5</span><br></pre></td></tr></table></figure></li><li>代码美化 <code>js-beautify</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save js-beautify@1.14.7</span><br></pre></td></tr></table></figure></li><li>代码预览 <code>vue2-ace-editor</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save vue2-ace-editor@0.0.15</span><br></pre></td></tr></table></figure></li></ol><h3 id="创建组件配置文件"><a href="#创建组件配置文件" class="headerlink" title="创建组件配置文件"></a>创建组件配置文件</h3><blockquote><p>在 <code>@/views/page-designer/config</code> 文件夹，其内容包含如下:<br><code>componentConfig.js</code> : 代码内容包含了组件列表项配置，包括每个组件中所绑定的面板属性!<br><code>panelMoreAttrConfig.js</code> : 此文件内容，是针对封装后<code>paginationTable</code> 以及 <code>m-form</code>组件设置的，包含表格配置<code>多列</code>,表单包含<code>多个表单项</code>!<br><code>index.js</code> : 此文件 是将两个 js 作为总站 导出的<code>index.js</code>文件!</p></blockquote><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">index.js</button></li><li class="tab"><button type="button" data-href="#-2">Form/config</button></li><li class="tab"><button type="button" data-href="#-3">componentConfig.js</button></li><li class="tab"><button type="button" data-href="#-4">panelMoreAttrConfig.js</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> componentConfig <span class="keyword">from</span> <span class="string">&quot;./componentConfig&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> formConfig <span class="keyword">from</span> <span class="string">&#x27;./panelMoreAttrConfig&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    componentConfig,</span><br><span class="line">    formConfig</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> formConfigItems = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;表单&#x27;</span>,</span><br><span class="line">        <span class="attr">componentName</span>: <span class="string">&#x27;el-form&#x27;</span>,</span><br><span class="line">        <span class="attr">children</span>: [],</span><br><span class="line">        <span class="attr">attributePanes</span>: [</span><br><span class="line">            &#123; <span class="attr">model</span>: &#123;&#125;, <span class="attr">propModel</span>: <span class="string">&#x27;model&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">disabled</span>: <span class="literal">false</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;禁用表单&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;switch&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;disabled&#x27;</span> &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">labelPosition</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">                <span class="attr">panelLabel</span>: <span class="string">&#x27;表单域标签的位置&#x27;</span>,</span><br><span class="line">                <span class="attr">componentType</span>: <span class="string">&#x27;select&#x27;</span>,</span><br><span class="line">                <span class="attr">propModel</span>: <span class="string">&#x27;labelPosition&#x27;</span>,</span><br><span class="line">                <span class="attr">childrenComponentName</span>: <span class="string">&#x27;el-option&#x27;</span>,</span><br><span class="line">                <span class="attr">options</span>: [</span><br><span class="line">                    &#123; <span class="attr">label</span>: <span class="string">&#x27;右&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;right&#x27;</span> &#125;,</span><br><span class="line">                    &#123; <span class="attr">label</span>: <span class="string">&#x27;左&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;left&#x27;</span> &#125;,</span><br><span class="line">                    &#123; <span class="attr">label</span>: <span class="string">&#x27;上&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;top&#x27;</span> &#125;,</span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123; <span class="attr">statusIcon</span>: <span class="literal">false</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;是否在输入框中显示校验结果反馈图标&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;switch&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;statusIcon&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">labelWidth</span>: <span class="string">&#x27;120px&#x27;</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;表单域标签的宽度&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;input&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;labelWidth&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">labelSuffix</span>: <span class="string">&#x27;:&#x27;</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;表单域标签的后缀&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;input&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;labelSuffix&#x27;</span> &#125;</span><br><span class="line">            <span class="comment">/*&#123; labelWidth: &#x27;120px&#x27;, label: &#x27;labelWidth&#x27;, type: &#x27;input&#x27;, propModel: &#x27;labelWidth&#x27; &#125;,</span></span><br><span class="line"><span class="comment">            &#123; labelSuffix: &#x27;:&#x27;, label: &#x27;labelSuffix&#x27;, type: &#x27;input&#x27;, propModel: &#x27;labelSuffix&#x27; &#125;,</span></span><br><span class="line"><span class="comment">            &#123; disabled: false, label: &#x27;禁用表单&#x27;, type: &#x27;switch&#x27;, propModel: &#x27;disabled&#x27; &#125;,</span></span><br><span class="line"><span class="comment">            &#123; formConfigItems: [], propModel: &#x27;formConfigItems&#x27; &#125;,</span></span><br><span class="line"><span class="comment">            &#123; formData: &#123;&#125;, propModel: &#x27;formData&#x27; &#125;,*/</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;表单项&#x27;</span>,</span><br><span class="line">        <span class="attr">componentName</span>: <span class="string">&#x27;el-form-item&#x27;</span>,</span><br><span class="line">        <span class="attr">children</span>: [],</span><br><span class="line">        <span class="attr">attributePanes</span>: [</span><br><span class="line">            &#123; <span class="attr">prop</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;校验表单属性&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;input&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;prop&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">label</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;表单项前缀&#x27;</span>,  <span class="attr">componentType</span>: <span class="string">&#x27;input&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;label&#x27;</span> &#125;,</span><br><span class="line">            <span class="comment">/*&#123; labelWidth: &#x27;120px&#x27;, label: &#x27;labelWidth&#x27;, type: &#x27;input&#x27;, propModel: &#x27;labelWidth&#x27; &#125;,</span></span><br><span class="line"><span class="comment">            &#123; labelSuffix: &#x27;:&#x27;, label: &#x27;labelSuffix&#x27;, type: &#x27;input&#x27;, propModel: &#x27;labelSuffix&#x27; &#125;,</span></span><br><span class="line"><span class="comment">            &#123; disabled: false, label: &#x27;禁用表单&#x27;, type: &#x27;switch&#x27;, propModel: &#x27;disabled&#x27; &#125;,</span></span><br><span class="line"><span class="comment">            &#123; formConfigItems: [], propModel: &#x27;formConfigItems&#x27; &#125;,</span></span><br><span class="line"><span class="comment">            &#123; formData: &#123;&#125;, propModel: &#x27;formData&#x27; &#125;,*/</span></span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">span</span>: <span class="number">6</span>,</span><br><span class="line">        <span class="attr">labelName</span>: <span class="string">&#x27;输入框&#x27;</span>,</span><br><span class="line">        <span class="attr">componentName</span>: <span class="string">&#x27;el-input&#x27;</span>,</span><br><span class="line">        <span class="attr">attributePanes</span>: [</span><br><span class="line">            &#123; <span class="attr">prop</span>: <span class="string">&#x27;&#x27;</span>,  <span class="attr">propModel</span>: <span class="string">&#x27;prop&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">placeholder</span>: <span class="string">&#x27;请输入&#x27;</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;placeholder&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;input&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;placeholder&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">disabled</span>: <span class="literal">false</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;禁用&#x27;</span>,  <span class="attr">componentType</span>: <span class="string">&#x27;switch&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;disabled&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">clearable</span>: <span class="literal">false</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;是否清空&#x27;</span>,  <span class="attr">componentType</span>: <span class="string">&#x27;switch&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;clearable&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">showPassword</span>: <span class="literal">false</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;是否显示密码&#x27;</span>,  <span class="attr">componentType</span>: <span class="string">&#x27;switch&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;showPassword&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">suffixIcon</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;后缀图标&#x27;</span>,  <span class="attr">componentType</span>: <span class="string">&#x27;input&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;suffixIcon&#x27;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">prefixIcon</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;前缀图标&#x27;</span>,  <span class="attr">componentType</span>: <span class="string">&#x27;input&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;prefixIcon&#x27;</span> &#125;,</span><br><span class="line">        ],</span><br><span class="line">        <span class="comment">/*attributes: &#123;</span></span><br><span class="line"><span class="comment">            placeholder: &#x27;&#x27;,</span></span><br><span class="line"><span class="comment">            disabled: false,</span></span><br><span class="line"><span class="comment">            clearable: true,</span></span><br><span class="line"><span class="comment">            showPassword: false,</span></span><br><span class="line"><span class="comment">            suffixIcon: &quot;&quot;,</span></span><br><span class="line"><span class="comment">            prefixIcon: &quot;&quot;,</span></span><br><span class="line"><span class="comment">            type: &quot;&quot;,</span></span><br><span class="line"><span class="comment">            rows: &#x27;&#x27;, // number</span></span><br><span class="line"><span class="comment">            autosize: &#123; minRows: &#x27;&#x27;, maxRows: &#x27;&#x27; &#125;, // number</span></span><br><span class="line"><span class="comment">            event: &#123; eventType: &#x27;&#x27;, eventName: &#x27;&#x27; &#125;</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">span</span>: <span class="number">6</span>,</span><br><span class="line">        <span class="attr">labelName</span>: <span class="string">&#x27;日期&#x27;</span>,</span><br><span class="line">        <span class="attr">componentName</span>: <span class="string">&#x27;el-date-picker&#x27;</span>,</span><br><span class="line">        <span class="attr">prop</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">attributes</span>: &#123;</span><br><span class="line">            <span class="attr">type</span>: <span class="string">&#x27;date&#x27;</span>,</span><br><span class="line">            <span class="attr">valueFormat</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="attr">format</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="attr">rangeSeparator</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="attr">startPlaceholder</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="attr">endPlaceholder</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="attr">clearable</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">pickerOptions</span>: &#123;</span><br><span class="line">                <span class="title function_">disabledDate</span>(<span class="params">time</span>) &#123;</span><br><span class="line">                    <span class="comment">// console.log(&#x27;time&#x27;, time)</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">event</span>: &#123; <span class="attr">eventType</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">eventName</span>: <span class="string">&#x27;&#x27;</span> &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">span</span>: <span class="number">6</span>,</span><br><span class="line">        <span class="attr">labelName</span>: <span class="string">&#x27;下拉框&#x27;</span>,</span><br><span class="line">        <span class="attr">componentName</span>: <span class="string">&#x27;el-select&#x27;</span>,</span><br><span class="line">        <span class="attr">prop</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">attributes</span>: &#123;</span><br><span class="line">            <span class="attr">clearable</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">filterable</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">childrenComponentName</span>: <span class="string">&#x27;el-option&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: [</span><br><span class="line">                &#123; <span class="attr">label</span>: <span class="string">&#x27;测试1&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;1&#x27;</span>&#125;,</span><br><span class="line">                &#123; <span class="attr">label</span>: <span class="string">&#x27;测试2&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;2&#x27;</span>&#125;,</span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">event</span>: &#123; <span class="attr">eventType</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">eventName</span>: <span class="string">&#x27;&#x27;</span> &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">span</span>: <span class="number">6</span>,</span><br><span class="line">        <span class="attr">labelName</span>: <span class="string">&#x27;单选按钮&#x27;</span>,</span><br><span class="line">        <span class="attr">componentName</span>: <span class="string">&#x27;el-radio&#x27;</span>,</span><br><span class="line">        <span class="attr">prop</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">attributes</span>: &#123;</span><br><span class="line">            <span class="attr">label</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">span</span>: <span class="number">6</span>,</span><br><span class="line">        <span class="attr">labelName</span>: <span class="string">&#x27;单选按钮组&#x27;</span>,</span><br><span class="line">        <span class="attr">componentName</span>: <span class="string">&#x27;el-radio-group&#x27;</span>,</span><br><span class="line">        <span class="attr">prop</span>: <span class="string">&#x27;radioGroup&#x27;</span>,</span><br><span class="line">        <span class="attr">attributes</span>: &#123;</span><br><span class="line">            <span class="attr">childrenComponentName</span>: <span class="string">&#x27;el-radio-button&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: [</span><br><span class="line">                &#123; <span class="attr">label</span>: <span class="string">&#x27;1&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;单选1&#x27;</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">label</span>: <span class="string">&#x27;2&#x27;</span>, <span class="attr">value</span>: <span class="string">&#x27;单选2&#x27;</span> &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">span</span>: <span class="number">6</span>,</span><br><span class="line">        <span class="attr">labelName</span>: <span class="string">&#x27;复选框&#x27;</span>,</span><br><span class="line">        <span class="attr">componentName</span>: <span class="string">&#x27;el-checkbox&#x27;</span>,</span><br><span class="line">        <span class="attr">prop</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">attributes</span>: &#123;</span><br><span class="line">            <span class="attr">label</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">span</span>: <span class="number">6</span>,</span><br><span class="line">        <span class="attr">labelName</span>: <span class="string">&#x27;复选框组&#x27;</span>,</span><br><span class="line">        <span class="attr">componentName</span>: <span class="string">&#x27;el-checkbox-group&#x27;</span>,</span><br><span class="line">        <span class="attr">prop</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">attributes</span>: &#123;</span><br><span class="line">            <span class="attr">childrenComponentName</span>: <span class="string">&#x27;el-checkbox&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: [&#123; <span class="attr">label</span>: <span class="string">&#x27;&#x27;</span> &#125;]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">span</span>: <span class="number">6</span>,</span><br><span class="line">        <span class="attr">labelName</span>: <span class="string">&#x27;开关&#x27;</span>,</span><br><span class="line">        <span class="attr">componentName</span>: <span class="string">&#x27;el-switch&#x27;</span>,</span><br><span class="line">        <span class="attr">prop</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">attributes</span>: &#123;</span><br><span class="line">            <span class="attr">disabled</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">activeColor</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 激活背景色</span></span><br><span class="line">            <span class="attr">inactiveColor</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 关闭背景色</span></span><br><span class="line">            <span class="attr">activeValue</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 激活的默认值</span></span><br><span class="line">            <span class="attr">inactiveValue</span>: <span class="string">&#x27;&#x27;</span> <span class="comment">// 关闭的默认值</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">span</span>: <span class="number">6</span>,</span><br><span class="line">        <span class="attr">labelName</span>: <span class="string">&#x27;树状下拉&#x27;</span>,</span><br><span class="line">        <span class="attr">componentName</span>: <span class="string">&#x27;tree-select&#x27;</span>,</span><br><span class="line">        <span class="attr">prop</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">asyncOptions</span>: <span class="function">() =&gt;</span> [],</span><br><span class="line">        <span class="attr">attributes</span>: &#123;</span><br><span class="line">            <span class="attr">disabled</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">options</span>: []</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">getFormDefaultConfigItems</span> = (<span class="params"> requireItems = []</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> ( !requireItems.<span class="property">length</span> ) <span class="keyword">return</span> formConfigItems</span><br><span class="line">    <span class="keyword">return</span> formConfigItems.<span class="title function_">filter</span>(<span class="function"><span class="params">component</span> =&gt;</span> requireItems.<span class="title function_">includes</span>(component.<span class="property">componentName</span>.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>)[<span class="number">1</span>]))</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; formConfigItems &#125; <span class="keyword">from</span> <span class="string">&quot;@/components/Form/config&quot;</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* children  表示 各个组件</span></span><br><span class="line"><span class="comment">* attributePanes 表示 各个组件 所需要 绑定的 prop 属性值， 以及 右侧 所展示的 属性面板</span></span><br><span class="line"><span class="comment">* 例如：</span></span><br><span class="line"><span class="comment">*   &#123; headerTitle: &#x27;&#x27;, label: &#x27;标题&#x27;, type: &#x27;input&#x27;, propModel: &#x27;headerTitle&#x27; &#125;</span></span><br><span class="line"><span class="comment">*       headerTitle : 该 属性 所属与 collapse 内置组件所需要的 prop 属性值，也就是 显示 title 标题的 地方， 该属性值 可以 设置默认值</span></span><br><span class="line"><span class="comment">*       label: 该属性为 属性面板 右侧所需的配置项 , 如  标题</span></span><br><span class="line"><span class="comment">*       type: 该属性为 属性面板 右侧所需的配置项 , 如  你所期望 通过 什么方式[input, select, input-number...] 去修改  预览区域内所对应的组件属性</span></span><br><span class="line"><span class="comment">*       propModel: 该属性 用于绑定 想要 修改预览区域内 对应组件中的 prop 属性,如果不设置该属性，则右侧 预览面板 设置 不会响应对应到组件属性身上</span></span><br><span class="line"><span class="comment">*       &#123; formData: &#x27;formData&#x27;, propModel: &#x27;formData&#x27; &#125;, propModel 定义的 value 与 formData属性相对应的，这样在属性面板中修改属性后，</span></span><br><span class="line"><span class="comment">*       才能影响到 formData 所需要绑定到组件上的属性值</span></span><br><span class="line"><span class="comment">*       returnType: 该属性是 组件上所绑定的 属性值的类型，如 el-col中的 :span属性，所需要的类型为 Number， 但属性面板中 当修改了 span属性值后，</span></span><br><span class="line"><span class="comment">*       该属性类型 为 String ，则需要将其转换到 Number类型</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">componentItems</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">classifyCode</span>: <span class="string">&#x27;formControl&#x27;</span>,</span><br><span class="line">            <span class="attr">classifyName</span>: <span class="string">&#x27;表单组件&#x27;</span>,</span><br><span class="line">            <span class="attr">children</span>: formConfigItems,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">classifyCode</span>: <span class="string">&#x27;elementUi&#x27;</span>,</span><br><span class="line">            <span class="attr">classifyName</span>: <span class="string">&#x27;element-ui 内置组件&#x27;</span>,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;按钮&#x27;</span>,</span><br><span class="line">                    <span class="attr">componentName</span>: <span class="string">&#x27;el-button&#x27;</span>,</span><br><span class="line">                    <span class="attr">attributePanes</span>: [</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="attr">type</span>: <span class="string">&#x27;primary&#x27;</span>,</span><br><span class="line">                            <span class="attr">panelLabel</span>: <span class="string">&#x27;主题风格&#x27;</span>,</span><br><span class="line">                            <span class="attr">componentType</span>: <span class="string">&#x27;select&#x27;</span>,</span><br><span class="line">                            <span class="attr">propModel</span>: <span class="string">&#x27;type&#x27;</span>,</span><br><span class="line">                            <span class="attr">childrenComponentName</span>: <span class="string">&#x27;el-option&#x27;</span>,</span><br><span class="line">                            <span class="attr">options</span>: [</span><br><span class="line">                                &#123; <span class="attr">value</span>: <span class="string">&#x27;primary&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;蓝色&#x27;</span>&#125;,</span><br><span class="line">                                &#123; <span class="attr">value</span>: <span class="string">&#x27;warning&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;黄色&#x27;</span>&#125;,</span><br><span class="line">                                &#123; <span class="attr">value</span>: <span class="string">&#x27;danger&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;红色&#x27;</span>&#125;,</span><br><span class="line">                                &#123; <span class="attr">value</span>: <span class="string">&#x27;success&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;绿色&#x27;</span>&#125;,</span><br><span class="line">                                &#123; <span class="attr">value</span>: <span class="string">&#x27;info&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;灰色&#x27;</span>&#125;,</span><br><span class="line">                                &#123; <span class="attr">value</span>: <span class="string">&#x27;plain&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;朴素&#x27;</span>&#125;,</span><br><span class="line">                            ]</span><br><span class="line">                        &#125;,</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="attr">size</span>: <span class="string">&#x27;small&#x27;</span>,</span><br><span class="line">                            <span class="attr">panelLabel</span>: <span class="string">&#x27;大小&#x27;</span>,</span><br><span class="line">                            <span class="attr">componentType</span>: <span class="string">&#x27;select&#x27;</span>,</span><br><span class="line">                            <span class="attr">propModel</span>: <span class="string">&#x27;size&#x27;</span>,</span><br><span class="line">                            <span class="attr">childrenComponentName</span>: <span class="string">&#x27;el-option&#x27;</span>,</span><br><span class="line">                            <span class="attr">options</span>: [</span><br><span class="line">                                &#123; <span class="attr">value</span>: <span class="string">&#x27;medium&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;中等按钮&#x27;</span>&#125;,</span><br><span class="line">                                &#123; <span class="attr">value</span>: <span class="string">&#x27;small&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;小型按钮&#x27;</span>&#125;,</span><br><span class="line">                                &#123; <span class="attr">value</span>: <span class="string">&#x27;mini&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;超小按钮&#x27;</span>&#125;,</span><br><span class="line">                            ]</span><br><span class="line">                        &#125;,</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="attr">round</span>: <span class="literal">false</span>,</span><br><span class="line">                            <span class="attr">panelLabel</span>: <span class="string">&#x27;是否圆角&#x27;</span>,</span><br><span class="line">                            <span class="attr">componentType</span>: <span class="string">&#x27;switch&#x27;</span>,</span><br><span class="line">                            <span class="attr">propModel</span>: <span class="string">&#x27;round&#x27;</span>,</span><br><span class="line">                        &#125;,</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="attr">text</span>: <span class="string">&#x27;按钮&#x27;</span>,</span><br><span class="line">                            <span class="attr">panelLabel</span>: <span class="string">&#x27;按钮文本&#x27;</span>,</span><br><span class="line">                            <span class="attr">componentType</span>: <span class="string">&#x27;input&#x27;</span>,</span><br><span class="line">                            <span class="attr">propModel</span>: <span class="string">&#x27;text&#x27;</span>,</span><br><span class="line">                        &#125;</span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">classifyCode</span>: <span class="string">&#x27;builtIn&#x27;</span>,</span><br><span class="line">            <span class="attr">classifyName</span>: <span class="string">&#x27;内置组件&#x27;</span>,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;表单&#x27;</span>,</span><br><span class="line">                    <span class="attr">componentName</span>: <span class="string">&#x27;m-form&#x27;</span>,</span><br><span class="line">                    <span class="attr">attributePanes</span>: [</span><br><span class="line">                        &#123; <span class="attr">labelWidth</span>: <span class="string">&#x27;120px&#x27;</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;labelWidth&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;input&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;labelWidth&#x27;</span> &#125;,</span><br><span class="line">                        &#123; <span class="attr">labelSuffix</span>: <span class="string">&#x27;:&#x27;</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;labelSuffix&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;input&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;labelSuffix&#x27;</span> &#125;,</span><br><span class="line">                        &#123; <span class="attr">disabled</span>: <span class="literal">false</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;禁用表单&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;switch&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;disabled&#x27;</span> &#125;,</span><br><span class="line">                        &#123; <span class="attr">formConfigItems</span>: [], <span class="attr">propModel</span>: <span class="string">&#x27;formConfigItems&#x27;</span> &#125;,</span><br><span class="line">                        &#123; <span class="attr">formData</span>: &#123;&#125;, <span class="attr">propModel</span>: <span class="string">&#x27;formData&#x27;</span> &#125;,</span><br><span class="line">                        &#123; <span class="attr">panelLabel</span>: <span class="string">&#x27;批量新增表单项&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;button&#x27;</span>, <span class="attr">eventType</span>: <span class="string">&#x27;click&#x27;</span>, <span class="attr">btnName</span>: <span class="string">&#x27;批量生成表单项&#x27;</span>, <span class="attr">attributes</span>: &#123; <span class="attr">type</span>: <span class="string">&#x27;primary&#x27;</span> &#125;&#125;,</span><br><span class="line">                    ]</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;折叠框&#x27;</span>,</span><br><span class="line">                    <span class="attr">componentName</span>: <span class="string">&#x27;collapse&#x27;</span>,</span><br><span class="line">                    <span class="attr">children</span>: [],</span><br><span class="line">                    <span class="attr">attributePanes</span>: [</span><br><span class="line">                        &#123; <span class="attr">headerTitle</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;标题&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;input&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;headerTitle&#x27;</span> &#125;</span><br><span class="line">                    ]</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;表格&#x27;</span>,</span><br><span class="line">                    <span class="attr">componentName</span>: <span class="string">&#x27;pagination-table&#x27;</span>,</span><br><span class="line">                    <span class="attr">attributePanes</span>: [</span><br><span class="line">                        &#123; <span class="attr">data</span>: [],  <span class="attr">propModel</span>: <span class="string">&#x27;data&#x27;</span> &#125;,</span><br><span class="line">                        &#123; <span class="attr">columns</span>: [],  <span class="attr">propModel</span>: <span class="string">&#x27;columns&#x27;</span> &#125;,</span><br><span class="line">                        &#123; <span class="attr">actions</span>: [],  <span class="attr">propModel</span>: <span class="string">&#x27;actions&#x27;</span> &#125;,</span><br><span class="line">                        &#123; <span class="attr">height</span>: <span class="string">&#x27;300px&#x27;</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;表格高度&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;input&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;height&#x27;</span>&#125;,</span><br><span class="line">                        &#123; <span class="attr">pagination</span>: <span class="literal">true</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;是否分页&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;switch&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;pagination&#x27;</span>&#125;,</span><br><span class="line">                        &#123; <span class="attr">multiSelectable</span>: <span class="literal">false</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;是否多选&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;switch&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;multiSelectable&#x27;</span>&#125;,</span><br><span class="line">                        &#123; <span class="attr">showIndex</span>: <span class="literal">false</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;是否显示序号&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;switch&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;showIndex&#x27;</span>&#125;,</span><br><span class="line">                    ]</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;图表&#x27;</span>,</span><br><span class="line">                    <span class="attr">componentName</span>: <span class="string">&#x27;echarts&#x27;</span>,</span><br><span class="line">                    <span class="attr">attributePanes</span>: [</span><br><span class="line">                        &#123; <span class="attr">enableThemeTransfer</span>: <span class="literal">false</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;是否切换主题&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;switch&#x27;</span>,  <span class="attr">propModel</span>: <span class="string">&#x27;enableThemeTransfer&#x27;</span> &#125;,</span><br><span class="line">                        &#123; <span class="attr">title</span>: <span class="string">&#x27;echart title&#x27;</span>, <span class="attr">panelLabel</span>: <span class="string">&#x27;标题&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;input&#x27;</span>,  <span class="attr">propModel</span>: <span class="string">&#x27;title&#x27;</span> &#125;,</span><br><span class="line">                        &#123; <span class="attr">onClickChart</span>: <span class="function">(<span class="params">value</span>)=&gt;</span>&#123;&#125;, <span class="attr">propModel</span>: <span class="string">&#x27;onClickChart&#x27;</span>&#125;,</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="attr">chartOptions</span>: [&#123; <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>&#125;],</span><br><span class="line">                            <span class="attr">componentType</span>: <span class="string">&#x27;select&#x27;</span>,</span><br><span class="line">                            <span class="attr">panelLabel</span>: <span class="string">&#x27;图表类型&#x27;</span>,</span><br><span class="line">                            <span class="attr">propModel</span>: <span class="string">&#x27;chartOptions&#x27;</span>,</span><br><span class="line">                            <span class="attr">childrenComponentName</span>: <span class="string">&#x27;el-option&#x27;</span>,</span><br><span class="line">                            <span class="attr">options</span>: [</span><br><span class="line">                                &#123; <span class="attr">value</span>: <span class="string">&#x27;bar&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;柱状图&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;bar&#x27;</span>&#125;,</span><br><span class="line">                                &#123; <span class="attr">value</span>: <span class="string">&#x27;pie&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;饼图&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;pie&#x27;</span>&#125;,</span><br><span class="line">                                &#123; <span class="attr">value</span>: <span class="string">&#x27;line&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;线型图&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;line&#x27;</span>&#125;,</span><br><span class="line">                                &#123; <span class="attr">value</span>: <span class="string">&#x27;gauge&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;仪表盘&#x27;</span>, <span class="attr">type</span>: <span class="string">&#x27;gauge&#x27;</span>&#125;,</span><br><span class="line">                            ],</span><br><span class="line">                            <span class="comment">// el select value-key 属性，用于绑定 对象, 选择后 返回 对象 例如 选择 &#x27;bar&#x27; 返回 &#123; value: &#x27;bar&#x27;, label: &#x27;柱状图&#x27;, type: &#x27;bar&#x27;&#125;,</span></span><br><span class="line">                            <span class="attr">attributes</span>: &#123;</span><br><span class="line">                                <span class="attr">valueKey</span>: <span class="string">&#x27;type&#x27;</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            <span class="attr">returnType</span>: <span class="string">&#x27;Array&#x27;</span>,</span><br><span class="line">                        &#125;,</span><br><span class="line">                        &#123; <span class="attr">panelLabel</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;button&#x27;</span>, <span class="attr">eventType</span>: <span class="string">&#x27;click&#x27;</span>, <span class="attr">btnName</span>: <span class="string">&#x27;配置Options&#x27;</span>, <span class="attr">attributes</span>: &#123; <span class="attr">type</span>: <span class="string">&#x27;primary&#x27;</span> &#125;&#125;,</span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">classifyCode</span>: <span class="string">&#x27;layout&#x27;</span>,</span><br><span class="line">            <span class="attr">classifyName</span>: <span class="string">&#x27;栅格布局&#x27;</span>,</span><br><span class="line">            <span class="attr">children</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;行&#x27;</span>,</span><br><span class="line">                    <span class="attr">componentName</span>: <span class="string">&#x27;el-row&#x27;</span>,</span><br><span class="line">                    <span class="attr">children</span>: [],</span><br><span class="line">                    <span class="attr">attributePanes</span>: [</span><br><span class="line">                        &#123; <span class="attr">gutter</span>: <span class="number">20</span> , <span class="attr">panelLabel</span>: <span class="string">&#x27;行&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;input&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;gutter&#x27;</span>, <span class="attr">returnType</span>: <span class="string">&#x27;Number&#x27;</span>&#125;,</span><br><span class="line">                    ]</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">name</span>: <span class="string">&#x27;列&#x27;</span>,</span><br><span class="line">                    <span class="attr">componentName</span>: <span class="string">&#x27;el-col&#x27;</span>,</span><br><span class="line">                    <span class="attr">children</span>: [],</span><br><span class="line">                    <span class="attr">attributePanes</span>: [</span><br><span class="line">                        &#123; <span class="attr">span</span>: <span class="number">6</span> , <span class="attr">panelLabel</span>: <span class="string">&#x27;列&#x27;</span>, <span class="attr">componentType</span>: <span class="string">&#x27;input-number&#x27;</span>, <span class="attr">propModel</span>: <span class="string">&#x27;span&#x27;</span>, <span class="attr">returnType</span>: <span class="string">&#x27;Number&#x27;</span>  &#125;</span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-4"><p><code>panelMoreAttrConfig</code> 包含 表单 表格 更多属性 面板配置!</p><blockquote><p><code>panelMoreAttrConfig</code> 这里是 针对<code>自定义内置组件</code> <code>table</code> 和 <code>form</code> 来配置的，比如<code>column</code>、<code>form</code> 中的 <code>多个字段展示</code>!</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">FORM_COMPONENT_TYPES</span> = &#123;</span><br><span class="line">    <span class="string">&#x27;el-input&#x27;</span>: <span class="string">&#x27;输入框&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;el-select&#x27;</span>: <span class="string">&#x27;下拉框&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;el-checkbox&#x27;</span>: <span class="string">&#x27;复选框&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;el-radio&#x27;</span>: <span class="string">&#x27;单选框&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;el-radio-group&#x27;</span>: <span class="string">&#x27;单选框组&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;el-date-picker&#x27;</span>: <span class="string">&#x27;日期&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;el-checkbox-group&#x27;</span>: <span class="string">&#x27;复选框组&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;el-switch&#x27;</span>: <span class="string">&#x27;开关&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;tree-select&#x27;</span>: <span class="string">&#x27;树状下拉&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 内置封装 m-form 表单组件</span></span><br><span class="line"><span class="comment">* 配置更多的表单项</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">const</span> formConfigItems =  [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">span</span>: <span class="number">24</span>,</span><br><span class="line">        <span class="attr">componentName</span>: <span class="string">&#x27;el-input&#x27;</span>,</span><br><span class="line">        <span class="attr">labelName</span>: <span class="string">&#x27;span&#x27;</span>,</span><br><span class="line">        <span class="attr">prop</span>: <span class="string">&#x27;span&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">span</span>: <span class="number">24</span>,</span><br><span class="line">        <span class="attr">componentName</span>: <span class="string">&#x27;el-input&#x27;</span>,</span><br><span class="line">        <span class="attr">labelName</span>: <span class="string">&#x27;Label&#x27;</span>,</span><br><span class="line">        <span class="attr">prop</span>: <span class="string">&#x27;labelName&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">span</span>: <span class="number">24</span>,</span><br><span class="line">        <span class="attr">componentName</span>: <span class="string">&#x27;el-input&#x27;</span>,</span><br><span class="line">        <span class="attr">labelName</span>: <span class="string">&#x27;model&#x27;</span>,</span><br><span class="line">        <span class="attr">prop</span>: <span class="string">&#x27;prop&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">span</span>: <span class="number">24</span>,</span><br><span class="line">        <span class="attr">componentName</span>: <span class="string">&#x27;el-select&#x27;</span>,</span><br><span class="line">        <span class="attr">labelName</span>: <span class="string">&#x27;组件类型&#x27;</span>,</span><br><span class="line">        <span class="attr">prop</span>: <span class="string">&#x27;componentName&#x27;</span>,</span><br><span class="line">        <span class="attr">attributes</span>: &#123;</span><br><span class="line">            <span class="attr">childrenComponentName</span>: <span class="string">&#x27;el-option&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: [</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="string">&#x27;el-input&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;文本输入框&#x27;</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="string">&#x27;el-select&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;下拉框&#x27;</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="string">&#x27;el-switch&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;开关&#x27;</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="string">&#x27;el-date-picker&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;日期&#x27;</span> &#125;,</span><br><span class="line">                &#123; <span class="attr">value</span>: <span class="string">&#x27;tree-select&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;树状下拉&#x27;</span> &#125;,</span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">event</span>: &#123; <span class="attr">eventType</span>: <span class="string">&#x27;change&#x27;</span>, <span class="attr">eventName</span>: <span class="string">&#x27;changeComponent&#x27;</span> &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 内置组件 paginationTable 表格组件</span></span><br><span class="line"><span class="comment">* 配置更多的列 columns</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">const</span> paginationTable = &#123;</span><br><span class="line">    <span class="attr">columns</span>:  [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">span</span>: <span class="number">24</span>,</span><br><span class="line">            <span class="attr">componentName</span>: <span class="string">&#x27;el-input&#x27;</span>,</span><br><span class="line">            <span class="attr">labelName</span>: <span class="string">&#x27;列名称&#x27;</span>,</span><br><span class="line">            <span class="attr">prop</span>: <span class="string">&#x27;label&#x27;</span>,</span><br><span class="line">            <span class="attr">attributes</span>: &#123;</span><br><span class="line">                <span class="attr">event</span>: &#123; <span class="attr">eventType</span>: <span class="string">&#x27;blur&#x27;</span>, <span class="attr">eventName</span>: <span class="string">&#x27;handleBlur&#x27;</span> &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">span</span>: <span class="number">24</span>,</span><br><span class="line">            <span class="attr">componentName</span>: <span class="string">&#x27;el-input&#x27;</span>,</span><br><span class="line">            <span class="attr">labelName</span>: <span class="string">&#x27;prop&#x27;</span>,</span><br><span class="line">            <span class="attr">prop</span>: <span class="string">&#x27;prop&#x27;</span>,</span><br><span class="line">            <span class="attr">attributes</span>: &#123;</span><br><span class="line">                <span class="attr">event</span>: &#123; <span class="attr">eventType</span>: <span class="string">&#x27;blur&#x27;</span>, <span class="attr">eventName</span>: <span class="string">&#x27;handleBlur&#x27;</span> &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">span</span>: <span class="number">24</span>,</span><br><span class="line">            <span class="attr">componentName</span>: <span class="string">&#x27;el-input&#x27;</span>,</span><br><span class="line">            <span class="attr">labelName</span>: <span class="string">&#x27;列的宽度&#x27;</span>,</span><br><span class="line">            <span class="attr">prop</span>: <span class="string">&#x27;width&#x27;</span>,</span><br><span class="line">            <span class="attr">attributes</span>: &#123;</span><br><span class="line">                <span class="attr">event</span>: &#123; <span class="attr">eventType</span>: <span class="string">&#x27;blur&#x27;</span>, <span class="attr">eventName</span>: <span class="string">&#x27;handleBlur&#x27;</span> &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">span</span>: <span class="number">24</span>,</span><br><span class="line">            <span class="attr">componentName</span>: <span class="string">&#x27;el-select&#x27;</span>,</span><br><span class="line">            <span class="attr">labelName</span>: <span class="string">&#x27;位置排列&#x27;</span>,</span><br><span class="line">            <span class="attr">prop</span>: <span class="string">&#x27;align&#x27;</span>,</span><br><span class="line">            <span class="attr">attributes</span>: &#123;</span><br><span class="line">                <span class="attr">childrenComponentName</span>: <span class="string">&#x27;el-option&#x27;</span>,</span><br><span class="line">                <span class="attr">options</span>: [</span><br><span class="line">                    &#123; value : <span class="string">&#x27;left&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;居左&#x27;</span>&#125;,</span><br><span class="line">                    &#123; value : <span class="string">&#x27;center&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;居中&#x27;</span>&#125;,</span><br><span class="line">                    &#123; value : <span class="string">&#x27;right&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;居右&#x27;</span>&#125;,</span><br><span class="line">                ],</span><br><span class="line">                <span class="attr">event</span>: &#123; <span class="attr">eventType</span>: <span class="string">&#x27;change&#x27;</span>, <span class="attr">eventName</span>: <span class="string">&#x27;handleBlur&#x27;</span> &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">span</span>: <span class="number">24</span>,</span><br><span class="line">            <span class="attr">componentName</span>: <span class="string">&#x27;el-switch&#x27;</span>,</span><br><span class="line">            <span class="attr">labelName</span>: <span class="string">&#x27;是否编辑&#x27;</span>,</span><br><span class="line">            <span class="attr">prop</span>: <span class="string">&#x27;editable&#x27;</span>,</span><br><span class="line">            <span class="attr">attributes</span>: &#123;</span><br><span class="line">                <span class="attr">event</span>: &#123; <span class="attr">eventType</span>: <span class="string">&#x27;change&#x27;</span>, <span class="attr">eventName</span>: <span class="string">&#x27;handleBlur&#x27;</span> &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">actions</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">span</span>: <span class="number">24</span>,</span><br><span class="line">            <span class="attr">componentName</span>: <span class="string">&#x27;el-input&#x27;</span>,</span><br><span class="line">            <span class="attr">labelName</span>: <span class="string">&#x27;事件名称&#x27;</span>,</span><br><span class="line">            <span class="attr">prop</span>: <span class="string">&#x27;action&#x27;</span>,</span><br><span class="line">            <span class="attr">attributes</span>: &#123;</span><br><span class="line">                <span class="attr">event</span>: &#123; <span class="attr">eventType</span>: <span class="string">&#x27;blur&#x27;</span>, <span class="attr">eventName</span>: <span class="string">&#x27;handleBlur&#x27;</span> &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">span</span>: <span class="number">24</span>,</span><br><span class="line">            <span class="attr">componentName</span>: <span class="string">&#x27;el-input&#x27;</span>,</span><br><span class="line">            <span class="attr">labelName</span>: <span class="string">&#x27;按钮名称&#x27;</span>,</span><br><span class="line">            <span class="attr">prop</span>: <span class="string">&#x27;name&#x27;</span>,</span><br><span class="line">            <span class="attr">attributes</span>: &#123;</span><br><span class="line">                <span class="attr">event</span>: &#123; <span class="attr">eventType</span>: <span class="string">&#x27;blur&#x27;</span>, <span class="attr">eventName</span>: <span class="string">&#x27;handleBlur&#x27;</span> &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">span</span>: <span class="number">24</span>,</span><br><span class="line">            <span class="attr">componentName</span>: <span class="string">&#x27;el-input&#x27;</span>,</span><br><span class="line">            <span class="attr">labelName</span>: <span class="string">&#x27;禁用标识&#x27;</span>,</span><br><span class="line">            <span class="attr">prop</span>: <span class="string">&#x27;disabledFlag&#x27;</span>,</span><br><span class="line">            <span class="attr">attributes</span>: &#123;</span><br><span class="line">                <span class="attr">event</span>: &#123; <span class="attr">eventType</span>: <span class="string">&#x27;blur&#x27;</span>, <span class="attr">eventName</span>: <span class="string">&#x27;handleBlur&#x27;</span> &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="variable constant_">FORM_COMPONENT_TYPES</span>,</span><br><span class="line">    formConfigItems,</span><br><span class="line">    paginationTable</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="创建组件项列表"><a href="#创建组件项列表" class="headerlink" title="创建组件项列表"></a>创建组件项列表</h3><p><code>component-items/index.vue</code><br></p><p class="p red">注意:</p><br>代码中用到<code>utils</code>相关代码可以在这找 <a href="/2022/07/07/inductive/javascript/%E5%B8%B8%E7%94%A8%E7%9A%84%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0/" title="JS常用的工具函数">JS常用的工具函数</a><br><div class="tabs"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">template</button></li><li class="tab"><button type="button" data-href="#-2">script</button></li><li class="tab"><button type="button" data-href="#-3">css</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;left-container&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    &lt;el-divider content-position=&quot;component-items&quot;&gt;表单组件&lt;/el-divider&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in schemas.componentItems&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;`$&#123;item&#125;-$&#123;index&#125;`&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;form-component-list&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">el-divider</span> <span class="attr">content-position</span>=<span class="string">&quot;left&quot;</span>&gt;</span>  &#123;&#123; item.classifyName &#125;&#125; <span class="tag">&lt;/<span class="name">el-divider</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">draggable</span> <span class="attr">v-model</span>=<span class="string">&quot;item.children&quot;</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">:forceFallback</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">animation</span>=<span class="string">&quot;300&quot;</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">drag-class</span>=<span class="string">&quot;dragClass&quot;</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">ghost-class</span>=<span class="string">&quot;ghost&quot;</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">chosen-class</span>=<span class="string">&quot;chosen&quot;</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">:options</span>=<span class="string">&quot;&#123; group:&#123;name: &#x27;site&#x27;,pull: &#x27;clone&#x27;, put: false &#125;, sort: false&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                   @<span class="attr">start</span>=<span class="string">&quot;onStart&quot;</span></span></span><br><span class="line"><span class="tag">                   @<span class="attr">end</span>=<span class="string">&quot;onEnd&quot;</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">:move</span>=<span class="string">&quot;onMove&quot;</span></span></span><br><span class="line"><span class="tag">                   <span class="attr">:clone</span>=<span class="string">&quot;cloneData&quot;</span></span></span><br><span class="line"><span class="tag">        &gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">transition-group</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(component, index) in item.children&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;`$&#123;component&#125;-$&#123;index&#125;`&quot;</span> <span class="attr">class</span>=<span class="string">&quot;component-item&quot;</span>&gt;</span></span><br><span class="line">              &#123;&#123; componentName(component) &#125;&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">transition-group</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">draggable</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; formConfigItems &#125; <span class="keyword">from</span> <span class="string">&quot;@/components/Form/config&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> draggable <span class="keyword">from</span> <span class="string">&#x27;vuedraggable&#x27;</span></span><br><span class="line"><span class="keyword">import</span> configItems <span class="keyword">from</span> <span class="string">&#x27;../config&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; clone, getUUID &#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; findComponentByName &#125; <span class="keyword">from</span> <span class="string">&#x27;../template/utils&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;mapGetters&#125; <span class="keyword">from</span> <span class="string">&quot;vuex/dist/vuex.esm.browser&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> &#123; <span class="variable constant_">FORM_COMPONENT_TYPES</span> &#125; = configItems.<span class="property">formConfig</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;index&quot;</span>,</span><br><span class="line">  <span class="attr">props</span>: [<span class="string">&#x27;selectComponent&#x27;</span>, <span class="string">&#x27;draggableObject&#x27;</span>],</span><br><span class="line">  <span class="attr">components</span>: &#123; draggable &#125;,</span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="title function_">componentName</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function">(<span class="params"> component </span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable constant_">FORM_COMPONENT_TYPES</span>[component.<span class="property">componentName</span>] || component.<span class="property">name</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;designer&#x27;</span>])</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">controlOnStart</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">formConfigItems</span>: formConfigItems,</span><br><span class="line">      <span class="attr">schemas</span>: <span class="title function_">clone</span>(configItems.<span class="property">componentConfig</span>),</span><br><span class="line">      <span class="attr">isCanDraggable</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="comment">// 拖拽开始</span></span><br><span class="line">    <span class="title function_">onStart</span>(<span class="params">&#123; originalEvent &#125;</span>) &#123;</span><br><span class="line">      <span class="comment">// 只能 让 el-form-item 存在与 el-form 子集下，其他情况下不允许拖拽!</span></span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">controlOnStart</span> = originalEvent.<span class="property">ctrlKey</span></span><br><span class="line">      <span class="keyword">let</span> &#123; <span class="attr">_underlying_vm_</span>: currentDragItem &#125; = originalEvent.<span class="property">target</span></span><br><span class="line">      <span class="keyword">let</span> &#123; componentName &#125; = currentDragItem</span><br><span class="line">      <span class="keyword">if</span> ( componentName === <span class="string">&#x27;el-form-item&#x27;</span>) <span class="variable language_">this</span>.<span class="property">isCanDraggable</span> = <span class="variable language_">this</span>.<span class="title function_">validateElFormItem</span>( componentName )</span><br><span class="line">      <span class="keyword">if</span> ( componentName === <span class="string">&#x27;el-col&#x27;</span>) <span class="variable language_">this</span>.<span class="property">isCanDraggable</span> = <span class="variable language_">this</span>.<span class="title function_">validateElCol</span>( componentName )</span><br><span class="line">      !<span class="variable language_">this</span>.<span class="property">isCanDraggable</span> &amp;&amp; componentName === <span class="string">&#x27;el-form-item&#x27;</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">info</span>(<span class="string">&#x27;表单项[el-form-item],必须有表单[el-form]作为父组件!&#x27;</span>)</span><br><span class="line">      !<span class="variable language_">this</span>.<span class="property">isCanDraggable</span> &amp;&amp; componentName === <span class="string">&#x27;el-col&#x27;</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">info</span>(<span class="string">&#x27;列[el-col],必须有行[el-row]作为父组件!&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 拖拽结束</span></span><br><span class="line">    <span class="title function_">onEnd</span>(<span class="params">e</span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">isCanDraggable</span> = <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * draggedContext: 被拖拽的元素</span></span><br><span class="line"><span class="comment">        index: 被拖拽的元素的序号</span></span><br><span class="line"><span class="comment">        element: 被拖拽的元素对应的对象</span></span><br><span class="line"><span class="comment">        futureIndex: 预期位置、目标位置</span></span><br><span class="line"><span class="comment">      relatedContext: 将停靠的对象</span></span><br><span class="line"><span class="comment">        index: 目标停靠对象的序号</span></span><br><span class="line"><span class="comment">        element: 目标的元素对应的对象</span></span><br><span class="line"><span class="comment">        list:  目标数组</span></span><br><span class="line"><span class="comment">        component: 将停靠的vue组件对象</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="title function_">onMove</span>(<span class="params"> e, originalEvent </span>)&#123;</span><br><span class="line">      <span class="keyword">let</span> &#123; draggedContext, relatedContext &#125; = e</span><br><span class="line">      <span class="keyword">let</span> &#123; component &#125; = relatedContext</span><br><span class="line">      <span class="comment">// 只能 让 el-form-item 存在与 el-form 子集下，其他情况下不允许拖拽!</span></span><br><span class="line">      <span class="keyword">let</span> targetComponent = component.<span class="title function_">getChildrenNodes</span>() &amp;&amp; <span class="title class_">Array</span>.<span class="title function_">from</span>(component.<span class="title function_">getChildrenNodes</span>())[<span class="number">0</span>].<span class="property">key</span></span><br><span class="line">      <span class="comment">// console.log(&#x27;draggedContext&#x27;, draggedContext, relatedContext, originalEvent, )</span></span><br><span class="line">      <span class="comment">// console.log(&#x27;component.getChildrenNodes()&#x27;, component.getChildrenNodes())</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;draggedContext&#x27;</span>, draggedContext)</span><br><span class="line">      <span class="keyword">let</span> &#123; <span class="attr">element</span>: &#123; componentName &#125; &#125; = draggedContext</span><br><span class="line">      <span class="keyword">if</span> ( componentName === <span class="string">&#x27;el-form-item&#x27;</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">isCanDraggable</span> ) &#123;</span><br><span class="line">        <span class="comment">// console.log(&#x27;draggedContext&#x27;, componentName, targetComponent)</span></span><br><span class="line">        <span class="keyword">return</span> (targetComponent &amp;&amp; targetComponent.<span class="title function_">indexOf</span>(<span class="string">&#x27;el-form&#x27;</span>) === -<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> ( componentName === <span class="string">&#x27;el-col&#x27;</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">isCanDraggable</span> ) &#123;</span><br><span class="line">        <span class="comment">// console.log(&#x27;draggedContext&#x27;, this.isCanDraggable, componentName, targetComponent)</span></span><br><span class="line">        <span class="keyword">return</span> (targetComponent &amp;&amp; targetComponent.<span class="title function_">indexOf</span>(<span class="string">&#x27;el-row&#x27;</span>) === -<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// console.log(draggedContext, relatedContext, componentName, this.isCanDraggable )</span></span><br><span class="line">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;update:draggableObject&#x27;</span>, &#123; draggedContext, relatedContext &#125;)</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">isCanDraggable</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// validate el-form-item</span></span><br><span class="line">    <span class="comment">// 只能 让 el-form-item 存在与 el-form 子集下，其他情况下不允许拖拽!</span></span><br><span class="line">    <span class="title function_">validateElFormItem</span>(<span class="params">componentName = <span class="string">&#x27;&#x27;</span></span>)&#123;</span><br><span class="line">      <span class="keyword">if</span> ( componentName === <span class="string">&#x27;el-form-item&#x27;</span> ) &#123;</span><br><span class="line">        <span class="keyword">let</span> &#123; configItems &#125; = <span class="variable language_">this</span>.<span class="property">designer</span>.<span class="property">schemas</span></span><br><span class="line">        <span class="keyword">let</span> elForm = <span class="title function_">findComponentByName</span>(configItems, <span class="string">&#x27;el-form&#x27;</span>, [])</span><br><span class="line">        <span class="comment">// console.log(&#x27;currentComponent&#x27;, elForm)</span></span><br><span class="line">        <span class="keyword">if</span> ( !elForm.<span class="property">length</span> ) &#123;</span><br><span class="line">          <span class="comment">// this.$message.warning(&#x27;表单项[el-form-item],必须有表单[el-form]作为父组件!&#x27;)</span></span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// let elFormItem = findComponentByName(configItems, &#x27;el-form-item&#x27;, [])</span></span><br><span class="line">        <span class="comment">// console.log(&#x27;elFormItem&#x27;, elFormItem)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// validate el-col 是否出现在 el-row子集下</span></span><br><span class="line">    <span class="title function_">validateElCol</span>(<span class="params">componentName = <span class="string">&#x27;&#x27;</span></span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;componentName&#x27;</span>, componentName)</span><br><span class="line">      <span class="keyword">if</span> ( componentName === <span class="string">&#x27;el-col&#x27;</span> ) &#123;</span><br><span class="line">        <span class="keyword">let</span> &#123; configItems &#125; = <span class="variable language_">this</span>.<span class="property">designer</span>.<span class="property">schemas</span></span><br><span class="line">        <span class="keyword">let</span> elRow = <span class="title function_">findComponentByName</span>(configItems, <span class="string">&#x27;el-row&#x27;</span>, [])</span><br><span class="line">        <span class="comment">// console.log(&#x27;currentComponent&#x27;, elRow)</span></span><br><span class="line">        <span class="keyword">if</span> ( !elRow.<span class="property">length</span> ) &#123;</span><br><span class="line">          <span class="comment">// this.$message.warning(&#x27;表单项[el-form-item],必须有表单[el-form]作为父组件!&#x27;)</span></span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// let elFormItem = findComponentByName(configItems, &#x27;el-form-item&#x27;, [])</span></span><br><span class="line">        <span class="comment">// console.log(&#x27;elFormItem&#x27;, elFormItem)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">cloneData</span>(<span class="params"> component </span>)&#123;</span><br><span class="line">      <span class="keyword">let</span> componentData = &#123;</span><br><span class="line">        ...<span class="title function_">clone</span>(component),</span><br><span class="line">        <span class="attr">id</span>: <span class="title function_">getUUID</span>()</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;update:selectComponent&#x27;</span>, componentData)</span><br><span class="line">      <span class="keyword">return</span> componentData</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">  <span class="selector-class">.left-container</span>&#123;</span><br><span class="line">    //<span class="attribute">width</span>: <span class="number">23%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    //<span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: scroll;</span><br><span class="line">    <span class="selector-class">.form-component-list</span>&#123;</span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">      //<span class="attribute">list-style</span>: none;</span><br><span class="line">      /deep/<span class="selector-class">.dragClass</span> &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: blue <span class="meta">!important</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.chosen</span> &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#000</span> <span class="meta">!important</span>;</span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.ghost</span> &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: red <span class="meta">!important</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="selector-tag">span</span>&#123;</span><br><span class="line">        <span class="attribute">display</span>: flex;</span><br><span class="line">        <span class="attribute">flex-direction</span>: row;</span><br><span class="line">        <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">        <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">        <span class="selector-tag">div</span><span class="selector-class">.component-item</span> &#123;</span><br><span class="line">          <span class="attribute">width</span>: <span class="number">65px</span>;</span><br><span class="line">          <span class="attribute">line-height</span>: <span class="number">25px</span>;</span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">5px</span>;</span><br><span class="line">          <span class="attribute">text-align</span>: center;</span><br><span class="line">          <span class="attribute">background-color</span>: <span class="number">#f1f2f3</span>;</span><br><span class="line">          <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">          <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">          &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">            <span class="attribute">background-color</span>: <span class="number">#979797</span>;</span><br><span class="line">            <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">            <span class="attribute">cursor</span>: move;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p></p><h3 id="创建拖拽区域"><a href="#创建拖拽区域" class="headerlink" title="创建拖拽区域"></a>创建拖拽区域</h3><blockquote><p>拖拽区域主界面 <code>draggable-area</code> &gt; <code>index.vue</code><br>组件渲染组件 <code>draggable-area</code> &gt; <code>RenderComponents</code> &gt; <code>index.vue</code></p></blockquote><details class="folding-tag"><summary>index.vue</summary><div class="content"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;center-container&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;center-top&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;left-operator&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;right-operator&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-delete&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;clearPanel&quot;</span>&gt;</span>清空<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;success&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-view&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handlePreview&quot;</span>&gt;</span>预览<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-view&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;handleViewCode&quot;</span>&gt;</span>代码<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!--        &lt;el-button type=&quot;primary&quot; :loading=&quot;saveLoading&quot; @click=&quot;save&quot;&gt;保存&lt;/el-button&gt;--&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!--  拖拽区域  --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;center-bottom&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">render-components</span> <span class="attr">:configItems.sync</span>=<span class="string">&quot;schemas.configItems&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;renderComponentRef&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!--  预览  --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">preview-dialog</span> <span class="attr">ref</span>=<span class="string">&quot;previewDialogRef&quot;</span> <span class="attr">:schemas</span>=<span class="string">&quot;schemas&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 代码 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">preview-code-dialog</span> <span class="attr">ref</span>=<span class="string">&quot;previewCodeDialogRef&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> draggable <span class="keyword">from</span> <span class="string">&#x27;vuedraggable&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">PreviewCodeDialog</span> <span class="keyword">from</span> <span class="string">&#x27;../component/dialog/PreviewCodeDialog&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">PreviewDialog</span> <span class="keyword">from</span> <span class="string">&#x27;../component/dialog/PreviewPageDialog&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">RenderComponents</span> <span class="keyword">from</span> <span class="string">&#x27;./RenderComponents&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&quot;vuex/dist/vuex.esm.browser&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;index&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>: [<span class="string">&#x27;selectComponent&#x27;</span>, <span class="string">&#x27;draggableObject&#x27;</span>],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123; <span class="title class_">RenderComponents</span>, draggable, <span class="title class_">PreviewDialog</span>, <span class="title class_">PreviewCodeDialog</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">saveLoading</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">currentItem</span>: &#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 拖拽组件的集合配置项</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">schemas</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">configItems</span>: []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">computed</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;designer&#x27;</span>])</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">watch</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&#x27;designer.selectComponent&#x27;</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">handler</span>(<span class="params">val</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> (!val || !val.<span class="property">attributes</span>) <span class="keyword">return</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="title function_">settingAttribute</span>(val)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">deep</span>: <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&#x27;schemas&#x27;</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">handler</span>(<span class="params">val</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> ( !val.<span class="property">configItems</span>.<span class="property">length</span> ) <span class="keyword">return</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;SETTING_SCHEMAS&#x27;</span>, <span class="variable language_">this</span>.<span class="property">schemas</span>.<span class="property">configItems</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">deep</span>: <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">onAdd</span>(<span class="params"> e </span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">/*</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">      * element 拖拽的元素</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">      * index 被拖拽的 index</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">      * futureIndex 预期要拖拽的位置</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">      * */</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> &#123; element, futureIndex, index &#125; = <span class="variable language_">this</span>.<span class="property">draggableObject</span>.<span class="property">draggedContext</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">schemas</span>.<span class="property">configItems</span>[futureIndex].<span class="property">children</span> = []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">clearPanel</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">schemas</span>.<span class="property">configItems</span> = []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;SETTING_SCHEMAS&#x27;</span>, [])</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;HAS_REMOVE_CURRENT_ITEM&#x27;</span>, <span class="literal">true</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;renderComponentRef&#x27;</span>].<span class="title function_">clearPanel</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;clearNullRightPanel&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 预览界面</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">handlePreview</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;previewDialogRef&#x27;</span>].<span class="title function_">open</span>())</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 预览代码</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">handleViewCode</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;previewCodeDialogRef&#x27;</span>].<span class="title function_">open</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 保存</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">save</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">saveLoading</span> = <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">$message</span>.<span class="title function_">success</span>(<span class="string">&#x27;保存成功!&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">saveLoading</span> = <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;, <span class="number">1000</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">settingAttribute</span>(<span class="params"> &#123; attributes, id &#125; </span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> currentComponent = <span class="variable language_">this</span>.<span class="title function_">findComponentById</span>( <span class="variable language_">this</span>.<span class="property">schemas</span>.<span class="property">configItems</span>, id, [] )[<span class="number">0</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> ( currentComponent &amp;&amp; currentComponent.<span class="property">attributes</span> ) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        currentComponent.<span class="property">attributes</span> = attributes</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">findComponentById</span>(<span class="params"> configItems, id, result </span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> ( !id ) <span class="keyword">return</span> <span class="literal">null</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">function</span> <span class="title function_">findComponent</span>(<span class="params">configItems, id</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> components = configItems.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">if</span> ( item.<span class="property">id</span> === id ) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">if</span> ( item.<span class="property">children</span> &amp;&amp; item.<span class="property">children</span>.<span class="property">length</span> ) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">findComponent</span>( item.<span class="property">children</span>, id)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> ( components.<span class="property">length</span> ) result = components</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">findComponent</span>(configItems, id)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> result</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">this</span>.<span class="title function_">clearPanel</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  /deep/<span class="selector-class">.el-col</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">min-height</span>: <span class="number">50px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.center-container</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    //<span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">flex-direction</span>: column;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.center-top</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">justify-content</span>: space-between;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">line-height</span>: <span class="number">45px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">margin-bottom</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      //<span class="attribute">background-color</span>: <span class="number">#fff</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="selector-class">.left-operator</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="selector-class">.right-operator</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">text-align</span>: right;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.center-bottom</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">position</span>: relative;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">overflow-y</span>: scroll;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="selector-tag">span</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">position</span>: absolute;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">display</span>: block;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">div</span><span class="selector-class">.config-item</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">position</span>: relative;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">border</span>: <span class="number">2px</span> dotted <span class="number">#979797</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">padding</span>: <span class="number">15px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          &amp;<span class="selector-pseudo">:active</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">border</span>: <span class="number">2px</span> dotted <span class="number">#1890FF</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="selector-class">.label</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">position</span>: absolute;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">top</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">left</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(	<span class="number">245</span>, <span class="number">222</span>, <span class="number">179</span>, .<span class="number">5</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">font-weight</span>: bold;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="selector-class">.operator</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">position</span>: absolute;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">bottom</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">right</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="selector-class">.el-button</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">              <span class="attribute">margin-left</span>: <span class="number">2px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            /deep/<span class="selector-class">.el-button--mini</span>, <span class="selector-class">.el-button--mini</span><span class="selector-class">.is-round</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">              <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">8px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-tag">div</span><span class="selector-class">.isActive</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">border</span>: <span class="number">2px</span> dotted <span class="number">#1890FF</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.center-top</span>,<span class="selector-class">.center-bottom</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">3px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      //<span class="attribute">background-color</span>: <span class="number">#fff</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      //<span class="attribute">overflow-y</span>: scroll;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br></pre></td></tr></table></figure></div></details><details class="folding-tag"><summary>RenderComponents/index.vue</summary><div class="content"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;render-component-wrap&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">draggable</span> <span class="attr">v-model</span>=<span class="string">&quot;componentItems&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">               <span class="attr">:forceFallback</span>=<span class="string">&quot;true&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">               <span class="attr">:group</span>=<span class="string">&quot;&#123; name: &#x27;site&#x27; &#125;&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">               <span class="attr">:options</span>=<span class="string">&quot;&#123; disabled: false &#125;&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">               <span class="attr">animation</span>=<span class="string">&quot;300&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">               <span class="attr">dragClass</span>=<span class="string">&quot;dragClass&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">               <span class="attr">ghost-class</span>=<span class="string">&quot;ghost&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">               <span class="attr">chosen-class</span>=<span class="string">&quot;chosen&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">               @<span class="attr">add</span>=<span class="string">&quot;dragAdd&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">               @<span class="attr">choose</span>=<span class="string">&quot;dragChoose&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml"></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    &gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">transition-group</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(item,index) in componentItems&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">             <span class="attr">:key</span>=<span class="string">&quot;`$&#123;item.componentName&#125;-$&#123;index&#125;`&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">             <span class="attr">:data-id</span>=<span class="string">&quot;item.id&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">             <span class="attr">:class</span> = <span class="string">&quot;&#123; isActive: designer.selectComponent &amp;&amp; designer.selectComponent.id === item.id &amp;&amp; item.componentName !== &#x27;el-col&#x27;, &#x27;config-item&#x27;: item.componentName !== &#x27;el-col&#x27;  &#125;&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">             @<span class="attr">click.stop</span>=<span class="string">&quot;handleClick(item, index)&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        &gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;label&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;designer.selectComponent &amp;&amp; designer.selectComponent.id === item.id &amp;&amp; item.componentName !== &#x27;el-col&#x27;&quot;</span>&gt;</span> &#123;&#123; item.componentName &#125;&#125; <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="comment">&lt;!--    打印测试        --&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!--          &lt;h2&gt;&#123;&#123; item.attributes &#125;&#125; &#123;&#123; item.attributes.childrenComponentName &#125;&#125;&lt;/h2&gt;--&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">:class</span> = <span class="string">&quot;&#123;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                  isActive: designer.selectComponent &amp;&amp; designer.selectComponent.id === item.id &amp;&amp; item.componentName === &#x27;el-col&#x27;,</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">                  &#x27;child-component-item&#x27;: item.componentName === &#x27;el-col&#x27;</span></span></span></span><br><span class="line"><span class="string"><span class="tag"><span class="language-xml">              &#125;&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">:data-id</span>=<span class="string">&quot;item.id&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">:is</span>=<span class="string">&quot;item.componentName&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">v-bind</span>=<span class="string">&quot;getComponentAttr(item.attributePanes || item.attributes)&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">v-model</span>=<span class="string">&quot;item.prop || &#x27;&#x27;&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          &gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;label&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;designer.selectComponent &amp;&amp; designer.selectComponent.id === item.id &amp;&amp; item.componentName === &#x27;el-col&#x27;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              &#123;&#123; item.componentName &#125;&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">            &#123;&#123; item.componentName === &#x27;el-button&#x27; &amp;&amp; getButtonText(item.attributePanes) || &#x27;&#x27;&#125;&#125;</span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!--            &lt;template v-if=&quot;item.componentName === &#x27;collapse&#x27;&quot; slot=&quot;button&quot;&gt;</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">              &lt;el-button type=&quot;plain&quot;&gt;collapseBtn&lt;/el-button&gt;</span></span></span><br><span class="line"><span class="comment"><span class="language-xml">            &lt;/template&gt;--&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">            <span class="comment">&lt;!--  处理表单子组件 如 select下的 option radioGroup 下的 radio          --&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;item.attributes &amp;&amp; item.attributes.childrenComponentName&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">component</span> <span class="attr">v-for</span>=<span class="string">&quot;(childItem, index) in item.attributes.options&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                         <span class="attr">:key</span>=<span class="string">&quot;`$&#123;childItem.label&#125;-$&#123;index&#125;`&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                         <span class="attr">:label</span>=<span class="string">&quot;childItem.label&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                         <span class="attr">:value</span>=<span class="string">&quot;childItem.value&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                         <span class="attr">:is</span>=<span class="string">&quot;item.attributes.childrenComponentName&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              &gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">render-components</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">v-if</span>=<span class="string">&quot;item.children&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">:configItems.sync</span>=<span class="string">&quot;item.children&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">            /&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;operator&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;designer.selectComponent &amp;&amp; designer.selectComponent.id === item.id &amp;&amp; item.componentName === &#x27;el-col&#x27;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-delete&quot;</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> @<span class="attr">click.stop</span>=<span class="string">&quot;removeCurrentComponent( item, index )&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-document-copy&quot;</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> @<span class="attr">click.stop</span>=<span class="string">&quot;copyCurrentComponent( item, index )&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;operator&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;designer.selectComponent &amp;&amp; designer.selectComponent.id === item.id &amp;&amp; item.componentName !== &#x27;el-col&#x27;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;danger&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-delete&quot;</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> @<span class="attr">click.stop</span>=<span class="string">&quot;removeCurrentComponent( item, index )&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;warning&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-document-copy&quot;</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> @<span class="attr">click.stop</span>=<span class="string">&quot;copyCurrentComponent( item, index )&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">transition-group</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">draggable</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> draggable <span class="keyword">from</span> <span class="string">&#x27;vuedraggable&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123;clone, getUUID, isFunction, isString&#125; <span class="keyword">from</span> <span class="string">&quot;@/utils&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;RenderComponents&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123; draggable &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">configItems</span>: <span class="title class_">Array</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">selectComponent</span>: &#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">formData</span>: &#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">componentItems</span>: <span class="variable language_">this</span>.<span class="property">configItems</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">currentAddParentId</span>: <span class="string">&#x27;&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">watch</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&#x27;componentItems&#x27;</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">handler</span>(<span class="params"> val </span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.$emit(<span class="string">&#x27;update:configItems&#x27;</span>, val)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">deep</span>: <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">computed</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;designer&#x27;</span>]),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">getButtonText</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> <span class="function">(<span class="params"> attr </span>) =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> attr.<span class="title function_">find</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">panelLabel</span> === <span class="string">&#x27;按钮文本&#x27;</span>).<span class="property">text</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 过滤组件需要绑定的属性</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">getComponentAttr</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> <span class="function">(<span class="params">attributePanes</span>) =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// console.log(&#x27;attributePanes&#x27;, attributePanes)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> ( !attributePanes || !attributePanes.<span class="property">length</span> ) <span class="keyword">return</span> []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> filterAttr = [<span class="string">&#x27;componentType&#x27;</span>, <span class="string">&#x27;propModel&#x27;</span>, <span class="string">&#x27;returnType&#x27;</span>, <span class="string">&#x27;panelLabel&#x27;</span>, <span class="string">&#x27;btnName&#x27;</span>, <span class="string">&#x27;options&#x27;</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// console.log(&#x27;attributePanes&#x27;, attributePanes)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> attributes = <span class="title function_">clone</span>(attributePanes).<span class="title function_">filter</span>(<span class="function"><span class="params">attr</span> =&gt;</span> attr.<span class="property">propModel</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> result = []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        attributes.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">let</span> filterAfter = <span class="title class_">Object</span>.<span class="title function_">keys</span>(item).<span class="title function_">filter</span>(<span class="function"><span class="params">attr</span> =&gt;</span> !filterAttr.<span class="title function_">includes</span>(attr))</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          filterAfter.<span class="title function_">map</span>(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> ( item[key] ) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              result.<span class="title function_">push</span>(&#123; [key]: item[key] &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> ( <span class="title function_">isString</span>(item[key]) &amp;&amp; item[key].<span class="title function_">indexOf</span>(<span class="string">&#x27;function&#x27;</span>) !== -<span class="number">1</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="comment">// console.log(&#x27;filter&#x27;, key, item[key])</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              result.<span class="title function_">push</span>(&#123; [key]: <span class="keyword">new</span> <span class="title class_">Function</span>(item[key]) &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// console.log(&#x27;filter result&#x27;, result)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> result</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">dragAdd</span>(<span class="params">e</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> &#123; <span class="attr">target</span>: &#123; <span class="attr">offsetParent</span>: &#123; dataset &#125; &#125; &#125; = e</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// console.log(&#x27;dragAdd&#x27;,  e, dataset)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// this.settingParentId( relatedContext, originalEvent )</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">currentAddParentId</span> = dataset &amp;&amp; dataset.<span class="property">id</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// console.log(&#x27;this.currentAddParentId&#x27;, this.currentAddParentId)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;HAS_REMOVE_CURRENT_ITEM&#x27;</span>, <span class="literal">false</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">dragChoose</span>(<span class="params">e</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> &#123; <span class="attr">target</span>: &#123; <span class="attr">offsetParent</span>: &#123; dataset &#125; &#125; &#125; = e</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">currentAddParentId</span> = dataset &amp;&amp; dataset.<span class="property">id</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// console.log(&#x27;dragChoose&#x27;,e, this.currentAddParentId)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 点击的当前组件</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">handleClick</span>(<span class="params">currentItem, index</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// console.log(&#x27;currentItem&#x27;, currentItem)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// this.$emit(&#x27;update:selectComponent&#x27;, currentItem);</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;SETTING_CURRENT_COMPONENT&#x27;</span>, currentItem)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;HAS_REMOVE_CURRENT_ITEM&#x27;</span>, <span class="literal">false</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">selectComponent</span> = <span class="variable language_">this</span>.<span class="property">designer</span>.<span class="property">selectComponent</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 移除当前组件</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">removeCurrentComponent</span>(<span class="params"> currentComponent, index </span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">configItems</span>.<span class="title function_">map</span>(<span class="function">(<span class="params">parent, index</span>) =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> ( parent.<span class="property">id</span> === currentComponent.<span class="property">id</span> ) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="property">configItems</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;HAS_REMOVE_CURRENT_ITEM&#x27;</span>, <span class="literal">true</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">return</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> ( parent.<span class="property">children</span> &amp;&amp; parent.<span class="property">children</span>.<span class="property">length</span> ) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          parent.<span class="property">children</span>.<span class="title function_">map</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> ( item.<span class="property">id</span> === currentComponent.<span class="property">id</span> ) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              parent.<span class="property">children</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;HAS_REMOVE_CURRENT_ITEM&#x27;</span>, <span class="literal">true</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> ( !<span class="variable language_">this</span>.<span class="property">configItems</span>.<span class="property">length</span> ) <span class="variable language_">this</span>.$emit(<span class="string">&#x27;clearNullRightPanel&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 复制当前组件 待开发</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">copyCurrentComponent</span>(<span class="params"> item, index </span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="title function_">findParentComponent</span>(item)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 寻找父级组件</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">findParentComponent</span>(<span class="params"> childrenComponent </span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> parentComponentId = <span class="variable language_">this</span>.<span class="property">currentAddParentId</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;findParentComponent parentComponentId&#x27;</span>, parentComponentId)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> (!parentComponentId) <span class="keyword">return</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> &#123; configItems &#125; = <span class="variable language_">this</span>.<span class="property">designer</span>.<span class="property">schemas</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> ( !configItems.<span class="property">length</span> ) <span class="keyword">return</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> parentComponent = <span class="literal">null</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">function</span> <span class="title function_">findParentItem</span>(<span class="params">configItems, parentComponentId</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        configItems.<span class="title function_">map</span>( <span class="function"><span class="params">item</span> =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">if</span> ( item.<span class="property">id</span> === parentComponentId )&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            parentComponent = item</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">if</span> ( item.<span class="property">id</span> !== parentComponentId &amp;&amp; item.<span class="property">children</span> &amp;&amp; item.<span class="property">children</span>.<span class="property">length</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">findParentItem</span>(item.<span class="property">children</span>, parentComponentId)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">findParentItem</span>(configItems, parentComponentId)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> ( parentComponent ) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> &#123; children &#125; = parentComponent</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        children.<span class="property">length</span> &amp;&amp; children.<span class="title function_">push</span>(</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              ...childrenComponent,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="attr">id</span>: <span class="title function_">getUUID</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        )</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;parentComponent&#x27;</span>, parentComponent)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 清除面板</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">clearPanel</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">componentItems</span> = []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">/deep/<span class="selector-class">.el-col</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">min-height</span>: <span class="number">50px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.center-container</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">flex-direction</span>: column;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.center-top</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">justify-content</span>: space-between;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">line-height</span>: <span class="number">45px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">margin-bottom</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.left-operator</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.right-operator</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">text-align</span>: right;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.center-bottom</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">position</span>: relative;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.config-item</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">background-color</span>: <span class="number">#f1f1f1</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-tag">span</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">display</span>: inline-block;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">min-height</span>: <span class="number">38px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      //<span class="attribute">border</span>: <span class="number">1px</span> solid red;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      /deep/<span class="selector-class">.component-item</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">background-color</span>: <span class="number">#ccc</span> <span class="meta">!important</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">20px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">display</span>: inline-block;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="selector-class">.dragClass</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">background-color</span>: <span class="number">#1890FF</span> <span class="meta">!important</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="comment">/*.chosen &#123;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-css"><span class="language-xml">        background-color: #ccc !important;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-css"><span class="language-xml">      &#125;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-css"><span class="language-xml">      .ghost &#123;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-css"><span class="language-xml">        background-color: #f1f2f3 !important;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-css"><span class="language-xml">      &#125;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-css"><span class="language-xml">      .component-item&#123;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-css"><span class="language-xml">        background-color: #1890FF;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-css"><span class="language-xml">      &#125;*/</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="selector-tag">div</span><span class="selector-class">.child-component-item</span>,<span class="selector-class">.config-item</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">position</span>: relative;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">border</span>: <span class="number">2px</span> dotted <span class="number">#979797</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">12px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">min-height</span>: <span class="number">34px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &amp;<span class="selector-pseudo">:active</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">border</span>: <span class="number">2px</span> dotted <span class="number">#1890FF</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.label</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">position</span>: absolute;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">top</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">left</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">padding</span>: <span class="number">3px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">font-weight</span>: bold;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">text-align</span>: right;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(	<span class="number">245</span>, <span class="number">222</span>, <span class="number">179</span>, .<span class="number">5</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">z-index</span>: <span class="number">999</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="selector-class">.operator</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">position</span>: absolute;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">bottom</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="attribute">right</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          <span class="selector-class">.el-button</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">margin-left</span>: <span class="number">2px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          /deep/<span class="selector-class">.el-button--mini</span>, <span class="selector-class">.el-button--mini</span><span class="selector-class">.is-round</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">            <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">8px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">          &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="selector-tag">div</span><span class="selector-class">.isActive</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">border</span>: <span class="number">2px</span> dotted <span class="number">#1890FF</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.center-top</span>,<span class="selector-class">.center-bottom</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">3px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    //<span class="attribute">overflow-y</span>: scroll;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details><h3 id="创建组件面板"><a href="#创建组件面板" class="headerlink" title="创建组件面板"></a>创建组件面板</h3><blockquote><p><code>setting-attr-panel/index.vue</code><br><code>setting-attr-panel/component/SettingFormItems.vue</code><br><code>setting-attr-panel/component/SettingPaginationTable.vue</code></p></blockquote><ol><li><p><code>index.vue</code></p><details class="folding-tag"><summary>index.vue</summary><div class="content"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;right-container&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-divider</span> <span class="attr">content-position</span>=<span class="string">&quot;left&quot;</span>&gt;</span>属性面板<span class="tag">&lt;/<span class="name">el-divider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;componentAttr &amp;&amp; componentAttr.length&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-form</span> <span class="attr">ref</span>=<span class="string">&quot;formRef&quot;</span> <span class="attr">label-suffix</span>=<span class="string">&quot;:&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-for</span>=<span class="string">&quot;(attr, key) in componentAttr&quot;</span> <span class="attr">:key</span>=<span class="string">&quot;key&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">el-form-item</span> <span class="attr">:label</span>=<span class="string">&quot;attr.panelLabel&quot;</span> <span class="attr">v-if</span>=<span class="string">&quot;attr.componentType&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">component</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                       <span class="attr">:is</span>=<span class="string">&quot;`el-$&#123;attr.componentType&#125;`&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                       <span class="attr">v-model.trim</span>=<span class="string">&quot;attr[attr.propModel || &#x27;&#x27;]&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                       <span class="attr">v-on:</span>[<span class="attr">eventType</span>(<span class="attr">attr.eventType</span>)]=<span class="string">&quot;handleEvent(attr)&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                       <span class="attr">v-bind</span>=<span class="string">&quot;attr.attributes&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                       @<span class="attr">change</span>=<span class="string">&quot;updateAttribute&quot;</span> <span class="attr">clearable</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              &#123;&#123; attr.btnName ? attr.btnName : &#x27;&#x27; &#125;&#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;attr.options &amp;&amp; attr.options.length&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">component</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, index) in attr.options&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                           <span class="attr">:key</span>=<span class="string">&quot;`$&#123;item.label&#125;-$&#123;index&#125;`&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                           <span class="attr">:label</span>=<span class="string">&quot;item.label&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                           <span class="attr">:value</span>=<span class="string">&quot;attr.returnType !== &#x27;Array&#x27; &amp;&amp; item.value || item&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                           <span class="attr">:is</span>=<span class="string">&quot;attr.childrenComponentName&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                &gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">component</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">el-form-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-form</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="comment">&lt;!--  配置表单项面板  --&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">setting-form-items</span> <span class="attr">v-if</span>=<span class="string">&quot;selectComponent &amp;&amp; selectComponent.componentName === &#x27;m-form&#x27;&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          <span class="attr">ref</span>=<span class="string">&quot;settingFormItemsRef&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          @<span class="attr">generalNewFormItems</span>=<span class="string">&quot;generalNewFormItems&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      /&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="comment">&lt;!-- 配置 paginationTable属性 --&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">setting-pagination-table</span> <span class="attr">v-if</span>=<span class="string">&quot;selectComponent &amp;&amp; selectComponent.componentName === &#x27;pagination-table&#x27;&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                                @<span class="attr">generalTableAttributes</span>=<span class="string">&quot;generalTableAttributes&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!--    &lt;code-view ref=&quot;codeViewRef&quot; :JsonCodeModel=&quot;formConfigItems&quot; @onJsonSave=&quot;onJsonSave&quot;&gt;&lt;/code-view&gt;--&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123;clone, isObject&#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;index&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>: [<span class="string">&#x27;schemas&#x27;</span>],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">SettingFormItems</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="comment">/*webpackChunkName: &#x27;SettingFormItems&#x27;*/</span> <span class="string">&#x27;./components/SettingFormItems&#x27;</span>),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">SettingPaginationTable</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="comment">/*webpackChunkName: &#x27;SettingFormItems&#x27;*/</span> <span class="string">&#x27;./components/SettingPaginationTable&#x27;</span>),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">componentAttr</span>: [],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">formConfigItems</span>: [],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">updateTimer</span>: <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">selectComponent</span>: <span class="variable language_">this</span>.<span class="property">designer</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">designer</span>.<span class="property">selectComponent</span> || <span class="literal">null</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">computed</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;designer&#x27;</span>]),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">eventType</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> <span class="function">(<span class="params"> type </span>) =&gt;</span> type &amp;&amp; type || <span class="string">&#x27;&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">watch</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 监听当前组件选择的变化</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&#x27;designer.selectComponent&#x27;</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">handler</span>(<span class="params"> val </span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 如果清空了拖拽面板，并且属性面板 仍有展示属性显示，则清空属性面板</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> ( !val &amp;&amp; <span class="variable language_">this</span>.<span class="property">componentAttr</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">componentAttr</span>.<span class="property">length</span> ) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="property">componentAttr</span> = []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;designer.selectComponent is not change&#x27;</span>, val)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">return</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> ( val )&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;designer.selectComponent is change&#x27;</span>, val)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="property">componentAttr</span> = val.<span class="property">attributePanes</span> ? <span class="title function_">clone</span>( val.<span class="property">attributePanes</span> ) : []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="property">selectComponent</span> = val</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">deep</span>: <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="string">&#x27;designer.hasRemoveCurrentItem&#x27;</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">handler</span>(<span class="params">val</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> ( val )  <span class="variable language_">this</span>.<span class="property">componentAttr</span> = []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">deep</span>: <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 同步当前组件修改属性后绑定到看板组件</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">updateAttribute</span>(<span class="params"> val </span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="built_in">clearTimeout</span>(<span class="variable language_">this</span>.<span class="property">updateTimer</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">updateTimer</span> = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> disposeAfterAttrs = <span class="variable language_">this</span>.<span class="title function_">disposeAttrValue</span>(<span class="variable language_">this</span>.<span class="property">componentAttr</span>, [])</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// console.log(&#x27;disposeAfterAttrs&#x27;, this.componentAttr, val)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// this.designer.selectComponent.attributePanes = disposeAfterAttrs</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// console.log(&#x27;this.componentAttr&#x27;, this.componentAttr)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.$set(<span class="variable language_">this</span>.<span class="property">designer</span>.<span class="property">selectComponent</span>, <span class="string">&#x27;attributePanes&#x27;</span>, disposeAfterAttrs)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// console.log(&#x27;disposeAfterAttrs&#x27;, this.designer.selectComponent, disposeAfterAttrs)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;SETTING_CURRENT_COMPONENT&#x27;</span>, <span class="variable language_">this</span>.<span class="property">designer</span>.<span class="property">selectComponent</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.$emit(<span class="string">&#x27;update&#x27;</span>, &#123; <span class="attr">componentAttr</span>: disposeAfterAttrs, <span class="attr">id</span>: <span class="variable language_">this</span>.<span class="property">designer</span>.<span class="property">selectComponent</span>.<span class="property">id</span> &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;, <span class="number">100</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 处理 组件 接受 prop 绑定的 value 值的类型， 避免特殊绑定值类型不一致报错 [String, Number, Object, Array]</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">disposeAttrValue</span>(<span class="params"> attrs = [], newAttrs = []</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> ( !attrs &amp;&amp; !attrs.<span class="property">length</span>) <span class="keyword">return</span> attrs</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      attrs.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> ( item.<span class="property">returnType</span> &amp;&amp; item.<span class="property">returnType</span> === <span class="string">&#x27;Number&#x27;</span> &amp;&amp; !<span class="built_in">isNaN</span>(item[item.<span class="property">propModel</span>]) ) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          item[item.<span class="property">propModel</span>] = +item[item.<span class="property">propModel</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// newAttrs.push(item)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> ( item.<span class="property">returnType</span> &amp;&amp; [<span class="string">&#x27;Object&#x27;</span>, <span class="string">&#x27;Array&#x27;</span>].<span class="title function_">includes</span>(item.<span class="property">returnType</span>)) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// item[item.propModel] = item[item.propModel]</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;item[item.propModel]&#x27;</span>, item, item[item.<span class="property">propModel</span>])</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// newAttrs.push(item)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">// console.log(&#x27;item[item.propModel] &#x27;, item, item[item.propModel], item.propModel )</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        newAttrs.<span class="title function_">push</span>(item)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;newAttrs&#x27;</span>, newAttrs)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> newAttrs.<span class="property">length</span> &amp;&amp; newAttrs || attrs</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">handleEvent</span>(<span class="params"> attr </span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">/*settingFormItems( attr )&#123;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">      let &#123; formConfigItems &#125; = attr</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">      if ( !formConfigItems || !formConfigItems.length ) return []</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">      this.formConfigItems = formConfigItems</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">      this.$refs[&#x27;codeViewRef&#x27;].isShowDialog = true</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">    &#125;,*/</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">/*onJsonSave(val)&#123;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">      this.formConfigItems = val</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">      let &#123; attributePanes &#125; = this.designer.selectComponent</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">      let findFormConfigItems = attributePanes.find(item =&gt; !!item[&#x27;formConfigItems&#x27;])</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">      if ( findFormConfigItems ) findFormConfigItems.formConfigItems = val</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">    &#125;,*/</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 生成新的表单项</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">generalNewFormItems</span>(<span class="params"> newFormConfigItems </span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">formConfigItems</span> = newFormConfigItems</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// console.log(&#x27;newFormConfigItems&#x27;, newFormConfigItems)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> &#123; attributePanes &#125; = <span class="variable language_">this</span>.<span class="property">designer</span>.<span class="property">selectComponent</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> findFormConfigItems = attributePanes.<span class="title function_">find</span>(<span class="function"><span class="params">item</span> =&gt;</span> !!item[<span class="string">&#x27;formConfigItems&#x27;</span>])</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> ( findFormConfigItems ) findFormConfigItems.<span class="property">formConfigItems</span> = newFormConfigItems</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// console.log(&#x27;designer.selectComponent&#x27;, this.designer.selectComponent)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">generalTableAttributes</span>(<span class="params">&#123; attrName, attr &#125;</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> &#123; attributePanes &#125; = <span class="variable language_">this</span>.<span class="property">designer</span>.<span class="property">selectComponent</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> findOldAttr = attributePanes.<span class="title function_">find</span>(<span class="function"><span class="params">item</span> =&gt;</span> <span class="title class_">Object</span>.<span class="title function_">keys</span>(item).<span class="title function_">includes</span>(attrName))</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> ( findOldAttr ) findOldAttr[attrName] = attr</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// console.log(&#x27;generalTableAttributes&#x27;, findOldAttr,attrName, attr)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.right-container</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    //<span class="attribute">width</span>: <span class="number">23%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    //<span class="attribute">background-color</span>: <span class="number">#fff</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">overflow-y</span>: scroll;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details></li><li><p><code>SettingFormItems.vue</code></p><details class="folding-tag"><summary>SettingFormItems</summary><div class="content"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- 设置表单项 --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;setting-form-item&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-collapse</span> <span class="attr">v-model</span>=<span class="string">&quot;activeNames&quot;</span> <span class="attr">accordion</span> @<span class="attr">change</span>=<span class="string">&quot;handleChangeCollapse&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-collapse-item</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, key) in configItems&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                        <span class="attr">:key</span>=<span class="string">&quot;`$&#123;item.formData.componentName&#125;-$&#123;key&#125;`&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                        <span class="attr">:name</span>=<span class="string">&quot;key&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;collapse-title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-s-operation&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              &#123;&#123; formComponentTypes[item.formData.componentName] || &#x27;表单项&#x27; &#125;&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;button&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-delete&quot;</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> @<span class="attr">click.stop</span>=<span class="string">&quot;removeDomain(item, key)&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">m-form</span> <span class="attr">:formData</span>=<span class="string">&quot;item.formData&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">:formConfigItems</span>=<span class="string">&quot;item.formConfigItems&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">:labelWidth</span>=<span class="string">&quot;&#x27;80px&#x27;&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                @<span class="attr">changeComponent</span>=<span class="string">&quot;changeComponent&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        &gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">m-form</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-collapse-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-collapse</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;operator&quot;</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-plus&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;addFormItem&quot;</span>&gt;</span>添加表单项<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> config <span class="keyword">from</span> <span class="string">&#x27;../../config&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123;getUUID&#125; <span class="keyword">from</span> <span class="string">&quot;@/utils&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> &#123; <span class="variable constant_">FORM_COMPONENT_TYPES</span>, formConfigItems &#125; = config.<span class="property">formConfig</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;SettingFormItems&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">formItemAttr</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">type</span>: <span class="title class_">Array</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">default</span>: <span class="function">() =&gt;</span> []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">componentName</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">activeNames</span>: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">configItems</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">id</span>: <span class="title function_">getUUID</span>(),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">formData</span>: &#123; <span class="attr">span</span>: <span class="number">6</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">formConfigItems</span>: formConfigItems</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      ],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">formComponentTypes</span>: <span class="variable constant_">FORM_COMPONENT_TYPES</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 组件对应的属性</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">componentRelativeAttr</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;el-select&#x27;</span>: &#123; <span class="attr">childrenComponentName</span>: <span class="string">&#x27;el-option&#x27;</span>, <span class="attr">options</span>: [&#123; <span class="attr">value</span>: <span class="string">&#x27;01&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;测试1&#x27;</span>&#125;, &#123; <span class="attr">value</span>: <span class="string">&#x27;02&#x27;</span>, <span class="attr">label</span>: <span class="string">&#x27;测试2&#x27;</span>&#125;] &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;tree-select&#x27;</span>: &#123; <span class="attr">options</span>: [] &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&#x27;el-date-picker&#x27;</span>: &#123; <span class="attr">type</span>: <span class="string">&#x27;date&#x27;</span>, <span class="attr">valueFormat</span>: <span class="string">&#x27;yyyy-MM-dd&#x27;</span>, <span class="attr">pickerOptions</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">disabledDate</span>(<span class="params">time</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">watch</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">configItems</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">handler</span>(<span class="params"> configItems </span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> ( !configItems.<span class="property">length</span> ) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.$emit(<span class="string">&#x27;generalNewFormItems&#x27;</span>, [])</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">return</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> hasComponent = configItems.<span class="title function_">every</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">formData</span>.<span class="property">componentName</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> ( !hasComponent ) <span class="keyword">return</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> items = <span class="variable language_">this</span>.<span class="title function_">generalFormItems</span>( configItems )</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.$emit(<span class="string">&#x27;generalNewFormItems&#x27;</span>, items)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">deep</span>: <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">getUUID</span>: getUUID,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">addFormItem</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">activeNames</span> = <span class="variable language_">this</span>.<span class="property">configItems</span>.<span class="property">length</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">configItems</span>.<span class="title function_">push</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">id</span>: <span class="title function_">getUUID</span>(),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">formData</span>: &#123; <span class="attr">span</span>: <span class="number">6</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">formConfigItems</span>: formConfigItems</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">removeDomain</span>(<span class="params"> item, index </span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">configItems</span>.<span class="title function_">splice</span>(index, <span class="number">1</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;item&#x27;</span>, <span class="variable language_">this</span>.<span class="property">configItems</span>, item)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">generalFormItems</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">configItems</span>.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> componentAttr = <span class="variable language_">this</span>.<span class="property">componentRelativeAttr</span>[item.<span class="property">formData</span>.<span class="property">componentName</span>] || &#123;&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> item.<span class="property">formData</span>.<span class="property">attributes</span> = &#123; ...item.<span class="property">formData</span>, <span class="attr">span</span>: <span class="title class_">Number</span>(item.<span class="property">formData</span>.<span class="property">span</span>) || <span class="number">6</span>, <span class="attr">attributes</span>: componentAttr &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">handleChangeCollapse</span>(<span class="params"> item </span>)&#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">changeComponent</span>(<span class="params"> selectComponent </span>)&#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.operator</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">margin-top</span>:<span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">text-align</span>: center</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.collapse-title</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">justify-content</span>: space-between;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.title</span>,<span class="selector-class">.button</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.title</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">font-weight</span>: bold;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">color</span>: <span class="number">#43a8e8</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.button</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.el-button--text</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">color</span>: <span class="number">#d7195d</span> <span class="meta">!important</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details></li><li><p><code>SettingPaginationTable.vue</code></p><details class="folding-tag"><summary>SettingPaginationTable</summary><div class="content"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;setting-pagination-table-box&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">config-multiple-attr</span> <span class="attr">title</span>=<span class="string">&quot;配置列&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          <span class="attr">collapse-title</span>=<span class="string">&quot;label&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          <span class="attr">button-name</span>=<span class="string">&quot;添加列&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          <span class="attr">:config-items</span>=<span class="string">&quot;columnsConfigs&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          @<span class="attr">add-attr</span>=<span class="string">&quot;addAttrConfig(columnsConfigs, &#x27;columns&#x27;)&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          @<span class="attr">remove-attr</span>=<span class="string">&quot;(&#123; item, index &#125;) =&gt; this.removeColumns(item, index, columnsConfigs)&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          @<span class="attr">handleInputBlur</span>=<span class="string">&quot;columnsChange&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">config-multiple-attr</span> <span class="attr">title</span>=<span class="string">&quot;配置操作按钮&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          <span class="attr">collapse-title</span>=<span class="string">&quot;name&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          <span class="attr">button-name</span>=<span class="string">&quot;添加操作按钮&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          <span class="attr">:config-items</span>=<span class="string">&quot;actionsConfigs&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          @<span class="attr">add-attr</span>=<span class="string">&quot;addAttrConfig(actionsConfigs, &#x27;actions&#x27;)&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          @<span class="attr">remove-attr</span>=<span class="string">&quot;(&#123; item, index &#125;) =&gt; this.removeColumns(item, index, actionsConfigs)&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                          @<span class="attr">handleInputBlur</span>=<span class="string">&quot;actionsChange&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; getUUID &#125; <span class="keyword">from</span> <span class="string">&quot;@/utils&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">ConfigMultipleAttr</span> <span class="keyword">from</span> <span class="string">&quot;../../component/ConfigMultipleAttr&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> config <span class="keyword">from</span> <span class="string">&#x27;../../config&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> &#123; <span class="attr">paginationTable</span>: tableOptions &#125; = config.<span class="property">formConfig</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;SettingPaginationTable&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123; <span class="title class_">ConfigMultipleAttr</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">columnsConfigs</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">formData</span>: &#123; <span class="attr">prop</span>: <span class="string">&#x27;&#x27;</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">formConfigItems</span>: tableOptions.<span class="property">columns</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      ],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">actionsConfigs</span>: [</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">formData</span>: &#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">formConfigItems</span>: tableOptions.<span class="property">actions</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      ],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">handleChangeCollapse</span>(<span class="params"></span>)&#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">addAttrConfig</span>(<span class="params"> configs, attrOptions </span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> configOptions = &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">id</span>: <span class="title function_">getUUID</span>(),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">formData</span>: &#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">formConfigItems</span>: tableOptions[attrOptions]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// paginationTable 内部 prop 属性不可缺少，即时没有，也要给空，否则内置组件报错</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      attrOptions === <span class="string">&#x27;columns&#x27;</span> ? configOptions.<span class="property">formData</span>.<span class="property">prop</span> = <span class="string">&#x27;&#x27;</span> : <span class="string">&#x27;&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      configs.<span class="title function_">push</span>(configOptions)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">removeColumns</span>(<span class="params">item, index, configs</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      configs.<span class="title function_">splice</span>(index, <span class="number">1</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">generalAttributes</span>(<span class="params"> configs </span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> configs.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span>  &#123; <span class="keyword">return</span> &#123; ...item.<span class="property">formData</span> &#125; &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">columnsChange</span>(<span class="params">e</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> val = e.<span class="property">target</span> &amp;&amp; e.<span class="property">target</span>.<span class="property">value</span> || e</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> ( !val ) <span class="keyword">return</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> columnsAttr = <span class="variable language_">this</span>.<span class="title function_">generalAttributes</span>(<span class="variable language_">this</span>.<span class="property">columnsConfigs</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;generalTableAttributes&#x27;</span>, &#123; <span class="attr">attrName</span>: <span class="string">&#x27;columns&#x27;</span>, <span class="attr">attr</span>: columnsAttr &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">actionsChange</span>(<span class="params">e</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> val = e.<span class="property">target</span> &amp;&amp; e.<span class="property">target</span>.<span class="property">value</span> || e</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">if</span> ( !val ) <span class="keyword">return</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> actionsAttr = <span class="variable language_">this</span>.<span class="title function_">generalAttributes</span>(<span class="variable language_">this</span>.<span class="property">actionsConfigs</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;generalTableAttributes&#x27;</span>, &#123; <span class="attr">attrName</span>: <span class="string">&#x27;actions&#x27;</span>, <span class="attr">attr</span>: actionsAttr &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details></li></ol><h3 id="创建vue模板文件"><a href="#创建vue模板文件" class="headerlink" title="创建vue模板文件"></a>创建vue模板文件</h3><p><code>/page-designer/template</code></p><blockquote><p>这里用来作为默认的<code>.vue</code>文件,此文件包括，<code>template</code> <code>script</code> <code>style</code>,当我们在生成代码的时候，需要将最终设置好的<code>template</code> 和 <code>script</code> 动态内容拼接至模板当中!<br><code>/template/index.js</code> : 包含 <code>.vue</code> 的模板文件!<br><code>/template/utils</code>.js : 动态生成 <code>template</code> 和 <code>script</code> 的方法包含在内!</p></blockquote><ol><li><code>index.js</code><details class="folding-tag"><summary>index</summary><div class="content"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; generateTemplateTag, generateVueAttrAndMethod &#125; <span class="keyword">from</span> <span class="string">&#x27;./utils&#x27;</span></span><br><span class="line"><span class="comment">// 代码格式化</span></span><br><span class="line"><span class="comment">// const beautify = require(&quot;beautify&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// const &#123; html: beautifyHtml, js: beautifyJs &#125; = require(&#x27;js-beautify&#x27;)</span></span><br><span class="line"><span class="keyword">const</span> beautify_js = <span class="built_in">require</span>(<span class="string">&#x27;js-beautify&#x27;</span>);</span><br><span class="line"><span class="comment">// const beautify_css = require(&#x27;js-beautify&#x27;).css;</span></span><br><span class="line"><span class="keyword">const</span> beautify_html = <span class="built_in">require</span>(<span class="string">&#x27;js-beautify&#x27;</span>).<span class="property">html</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* compTabs: 组件标签</span></span><br><span class="line"><span class="comment">* responsiveData: 响应式数据，该参数会被映射到模板 data 属性当中</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">template</span> = (<span class="params"> compTabs = <span class="literal">null</span>, responsiveData = <span class="literal">null</span>, responsiveMethod = <span class="literal">null</span> </span>) =&gt; <span class="string">`</span></span><br><span class="line"><span class="string">&lt;template&gt;</span></span><br><span class="line"><span class="string">    &lt;div class = &quot;wrap-box app-container&quot;&gt;</span></span><br><span class="line"><span class="string">        <span class="subst">$&#123; compTabs || <span class="string">&#x27;&#x27;</span> &#125;</span></span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/template&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">    import &#123;mapGetters&#125; from &quot;vuex&quot;;</span></span><br><span class="line"><span class="string">    import PublicModel from &#x27;@/public&#x27;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    const &#123; businessConfig: &#123; MeterDevice &#125;, dictionaryTable: &#123; enumCode &#125;&#125; = PublicModel</span></span><br><span class="line"><span class="string">    export default &#123;</span></span><br><span class="line"><span class="string">    components: &#123;&#125;,</span></span><br><span class="line"><span class="string">    data() &#123;</span></span><br><span class="line"><span class="string">        return &#123;</span></span><br><span class="line"><span class="string">        <span class="subst">$&#123; responsiveData  || <span class="string">&#x27;&#x27;</span> &#125;</span></span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    computed: &#123;</span></span><br><span class="line"><span class="string">        ...mapGetters([&#x27;userInfo&#x27;])</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    methods: &#123;</span></span><br><span class="line"><span class="string">        <span class="subst">$&#123; responsiveMethod  || <span class="string">&#x27;&#x27;</span> &#125;</span></span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    //生命周期 - 创建完成（访问当前this实例）</span></span><br><span class="line"><span class="string">    created() &#123;</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">        //生命周期 - 挂载完成（访问DOM元素）</span></span><br><span class="line"><span class="string">    mounted() &#123;</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;style lang=&quot;scss&quot; scoped&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;/style&gt;</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// console.log(&#x27;template&#x27;, template)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">generateTemplate</span> = (<span class="params"> configItems = <span class="literal">null</span> </span>) =&gt; &#123;</span><br><span class="line">    <span class="comment">// const componentTabs = generateTemplateTag( configItems )</span></span><br><span class="line">    <span class="comment">// const formConfigItems = getFormConfigItems( configItems )</span></span><br><span class="line">    <span class="comment">// const componentTabs = beautify(generateTemplateTag( configItems ), &#123; format: &#x27;html&#x27; &#125;)</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;configItems&#x27;</span>, configItems)</span><br><span class="line">    <span class="keyword">if</span> ( !configItems.<span class="property">length</span> ) <span class="keyword">return</span> <span class="title function_">template</span>(componentTabs, <span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line">    <span class="keyword">const</span> componentTabs = <span class="title function_">beautify_html</span>(<span class="title function_">generateTemplateTag</span>( configItems ), &#123;</span><br><span class="line">        <span class="string">&quot;indent_size&quot;</span>: <span class="string">&quot;3&quot;</span>,</span><br><span class="line">        <span class="string">&quot;indent_char&quot;</span>: <span class="string">&quot;\t&quot;</span>,</span><br><span class="line">        <span class="string">&quot;max_preserve_newlines&quot;</span>: <span class="string">&quot;-1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;preserve_newlines&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;keep_array_indentation&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;break_chained_methods&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;indent_scripts&quot;</span>: <span class="string">&quot;keep&quot;</span>,</span><br><span class="line">        <span class="string">&quot;brace_style&quot;</span>: <span class="string">&quot;none&quot;</span>,</span><br><span class="line">        <span class="string">&quot;space_before_conditional&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;unescape_strings&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;jslint_happy&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;end_with_newline&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;wrap_line_length&quot;</span>: <span class="string">&quot;40&quot;</span>,</span><br><span class="line">        <span class="string">&quot;indent_inner_html&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;comma_first&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;e4x&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;indent_empty_lines&quot;</span>: <span class="literal">false</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// const responsiveData = beautify(generateVueAttrAndMethod( configItems, &#x27;data&#x27; ), &#123; format: &#x27;js&#x27; &#125;)</span></span><br><span class="line">    <span class="keyword">const</span> responsiveData = <span class="title function_">beautify_js</span>(<span class="title function_">generateVueAttrAndMethod</span>( configItems, <span class="string">&#x27;data&#x27;</span> ), &#123;</span><br><span class="line">        <span class="string">&quot;indent_size&quot;</span>: <span class="string">&quot;2&quot;</span>,</span><br><span class="line">        <span class="string">&quot;indent_char&quot;</span>: <span class="string">&quot;\t&quot;</span>,</span><br><span class="line">        <span class="string">&quot;max_preserve_newlines&quot;</span>: <span class="string">&quot;10&quot;</span>,</span><br><span class="line">        <span class="string">&quot;preserve_newlines&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;keep_array_indentation&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;break_chained_methods&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;indent_scripts&quot;</span>: <span class="string">&quot;keep&quot;</span>,</span><br><span class="line">        <span class="string">&quot;brace_style&quot;</span>: <span class="string">&quot;none&quot;</span>,</span><br><span class="line">        <span class="string">&quot;space_before_conditional&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="string">&quot;unescape_strings&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;jslint_happy&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;end_with_newline&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;wrap_line_length&quot;</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;indent_inner_html&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;comma_first&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;e4x&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;indent_empty_lines&quot;</span>: <span class="literal">false</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">const</span> responsiveMethod = <span class="title function_">beautify_js</span>(<span class="title function_">generateVueAttrAndMethod</span>( configItems, <span class="string">&#x27;method&#x27;</span> ))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">template</span>(componentTabs, responsiveData, responsiveMethod)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details></li><li><code>utils.js</code><details class="folding-tag"><summary>utils</summary><div class="content"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;isArray, isString, isObject&#125; <span class="keyword">from</span> <span class="string">&#x27;@/utils&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成 data 和 method 方法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">generateData</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> data.<span class="title function_">map</span>(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> item) &#123;</span><br><span class="line">            <span class="comment">// return `$&#123;key&#125;: $&#123;JSON.stringify(item[key], null, 2)&#125;,\n`</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;key&#125;</span>: <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(item[key], <span class="literal">null</span>, <span class="number">8</span>)&#125;</span>,\n\t\t`</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成模板标签</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">generateTemplateTag</span>(<span class="params">configItems</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">tmpl</span> = (<span class="params">components</span>) =&gt; <span class="string">`</span></span><br><span class="line"><span class="string">    <span class="subst">$&#123;components.map(item =&gt; &#123;</span></span></span><br><span class="line"><span class="subst"><span class="string">        <span class="keyword">if</span> (item.componentName !== <span class="string">&#x27;m-form&#x27;</span> &amp;&amp; item.children &amp;&amp; item.children.length) &#123;</span></span></span><br><span class="line"><span class="subst"><span class="string">            <span class="keyword">return</span> <span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                    &lt;<span class="subst">$&#123;item.componentName&#125;</span> <span class="subst">$&#123;generateComponentAttribute(item.attributePanes)&#125;</span>&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                        <span class="subst">$&#123;item.children &amp;&amp; item.children.length ? tmpl(item.children) : <span class="string">&#x27;&#x27;</span>&#125;</span></span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                    &lt;/<span class="subst">$&#123;item.componentName&#125;</span>&gt; </span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">            `</span></span></span></span><br><span class="line"><span class="subst"><span class="string">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (item.componentName === <span class="string">&#x27;m-form&#x27;</span>) &#123;</span></span></span><br><span class="line"><span class="subst"><span class="string">            <span class="keyword">return</span> <span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                    &lt;<span class="subst">$&#123;item.componentName&#125;</span> </span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                        <span class="subst">$&#123;generateComponentAttribute(item.attributePanes)&#125;</span></span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                    /&gt;</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">            `</span></span></span></span><br><span class="line"><span class="subst"><span class="string">        &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="subst"><span class="string">            <span class="keyword">return</span> <span class="string">`</span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">                    &lt;<span class="subst">$&#123;item.componentName&#125;</span> <span class="subst">$&#123;generateComponentAttribute(item.attributePanes)&#125;</span>&gt;&lt;/<span class="subst">$&#123;item.componentName&#125;</span>&gt; </span></span></span></span><br><span class="line"><span class="string"><span class="subst"><span class="string">            `</span></span></span></span><br><span class="line"><span class="subst"><span class="string">        &#125;</span></span></span><br><span class="line"><span class="subst"><span class="string">    &#125;).join(<span class="string">&#x27;&#x27;</span>)&#125;</span></span></span><br><span class="line"><span class="string">    `</span>;</span><br><span class="line">    <span class="keyword">return</span> configItems &amp;&amp; configItems.<span class="property">length</span> ? <span class="title function_">tmpl</span>(configItems) : <span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 生成组件属性</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">generateComponentAttribute</span>(<span class="params">componentAttribute = []</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!componentAttribute.<span class="property">length</span>) <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> componentAttribute.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (item.<span class="property">propModel</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> item[item.<span class="property">propModel</span>] === <span class="string">&#x27;string&#x27;</span> &amp;&amp; item[item.<span class="property">propModel</span>].<span class="title function_">indexOf</span>(<span class="string">&#x27;function&#x27;</span>)) <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;item.propModel&#125;</span>=&quot;<span class="subst">$&#123;item[item.propModel]&#125;</span>&quot;`</span></span><br><span class="line">            <span class="keyword">if</span> (</span><br><span class="line">                <span class="title function_">isArray</span>(item[item.<span class="property">propModel</span>]) ||</span><br><span class="line">                <span class="title function_">isObject</span>(item[item.<span class="property">propModel</span>]) ||</span><br><span class="line">                (<span class="title function_">isString</span>(item[item.<span class="property">propModel</span>]) &amp;&amp;</span><br><span class="line">                item[item.<span class="property">propModel</span>].<span class="title function_">indexOf</span>(<span class="string">&#x27;function&#x27;</span>) !== -<span class="number">1</span>)</span><br><span class="line">            ) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;isFunction&#x27;</span>, item, item.<span class="property">propModel</span>, item[item.<span class="property">propModel</span>])</span><br><span class="line">                <span class="keyword">return</span> <span class="string">`:<span class="subst">$&#123;item.propModel&#125;</span>=&quot;<span class="subst">$&#123;item.propModel&#125;</span>&quot;`</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">`:<span class="subst">$&#123;item.propModel&#125;</span>=&quot;<span class="subst">$&#123;item[item.propModel]&#125;</span>&quot;`</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;).<span class="title function_">join</span>(<span class="string">&#x27; \n&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将数组类型的数据绑定到 data 当中</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">generateVueAttrAndMethod</span>(<span class="params"> configItems, transformType = <span class="string">&#x27;data&#x27;</span> </span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!configItems || !configItems.<span class="property">length</span>) <span class="keyword">return</span> []</span><br><span class="line">    <span class="keyword">let</span> data = []</span><br><span class="line">    <span class="keyword">let</span> method = []</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">findFormConfigItem</span>(<span class="params">configItemList</span>) &#123;</span><br><span class="line">        configItemList.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> ( item.<span class="property">attributePanes</span> &amp;&amp; item.<span class="property">attributePanes</span>.<span class="property">length</span> ) &#123;</span><br><span class="line">                item.<span class="property">attributePanes</span>.<span class="title function_">map</span>( <span class="function"><span class="params">attr</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (attr.<span class="property">propModel</span> &amp;&amp; (<span class="title function_">isArray</span>(attr[attr.<span class="property">propModel</span>]) || <span class="title function_">isObject</span>(attr[attr.<span class="property">propModel</span>]))) &#123;</span><br><span class="line">                        data.<span class="title function_">push</span>( &#123; [attr.<span class="property">propModel</span>]: attr[attr.<span class="property">propModel</span>]&#125; )</span><br><span class="line">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (attr.<span class="property">propModel</span> &amp;&amp; <span class="title function_">isString</span>(attr[attr.<span class="property">propModel</span>]) &amp;&amp; attr[attr.<span class="property">propModel</span>].<span class="title function_">indexOf</span>(<span class="string">&#x27;function&#x27;</span>) !== -<span class="number">1</span>) &#123;</span><br><span class="line">                        method.<span class="title function_">push</span>( &#123; [attr.<span class="property">propModel</span>]: attr[attr.<span class="property">propModel</span>]&#125; )</span><br><span class="line">                        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;attr.propModel&#x27;</span>, attr, attr.<span class="property">propModel</span>, attr[attr.<span class="property">propModel</span>],<span class="built_in">eval</span>(attr[attr.<span class="property">propModel</span>]), method)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> ( item.<span class="property">children</span> ) <span class="title function_">findFormConfigItem</span>(item.<span class="property">children</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">findFormConfigItem</span>(configItems)</span><br><span class="line">    <span class="comment">/*return data.map((item, index) =&gt; &#123;</span></span><br><span class="line"><span class="comment">        for (const key in item) &#123;</span></span><br><span class="line"><span class="comment">            // return `$&#123;key&#125;: $&#123;JSON.stringify(item[key], null, 2)&#125;,\n`</span></span><br><span class="line"><span class="comment">            return `$&#123;key&#125;: $&#123;JSON.stringify(item[key], null, 8)&#125;,\n`</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &#125;).join(&#x27;&#x27;)*/</span></span><br><span class="line">    <span class="comment">// console.log(&#x27;transformType&#x27;, transformType, data, method)</span></span><br><span class="line">    <span class="keyword">return</span> transformType === <span class="string">&#x27;data&#x27;</span> &amp;&amp; <span class="title function_">generateData</span>(data) || <span class="title function_">generateData</span>(method)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取 m-form 配置项</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getFormConfigItems</span>(<span class="params">configItems</span>) &#123;</span><br><span class="line">    <span class="comment">// console.log(&#x27;configItems&#x27;, configItems)</span></span><br><span class="line">    <span class="keyword">if</span> (!configItems || !configItems.<span class="property">length</span>) <span class="keyword">return</span> []</span><br><span class="line">    <span class="keyword">let</span> formConfigItems = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">findFormConfigItem</span>(<span class="params">configItemList</span>) &#123;</span><br><span class="line">        configItemList.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (item.<span class="property">componentName</span> === <span class="string">&#x27;m-form&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (item.<span class="property">attributePanes</span> &amp;&amp; item.<span class="property">attributePanes</span>.<span class="property">length</span>) &#123;</span><br><span class="line">                    <span class="keyword">let</span> findFormConfigItems = item.<span class="property">attributePanes</span>.<span class="title function_">find</span>(<span class="function"><span class="params">formItem</span> =&gt;</span> !!formItem[<span class="string">&#x27;formConfigItems&#x27;</span>])</span><br><span class="line">                    formConfigItems = findFormConfigItems &amp;&amp; findFormConfigItems.<span class="property">formConfigItems</span></span><br><span class="line">                    <span class="comment">// console.log(&#x27;formConfigItemsa&#x27;, formConfigItems)</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (item.<span class="property">children</span> &amp;&amp; item.<span class="property">children</span>.<span class="property">length</span>) &#123;</span><br><span class="line">                    <span class="title function_">findFormConfigItem</span>(item.<span class="property">children</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">findFormConfigItem</span>(configItems)</span><br><span class="line">    <span class="comment">// console.log(&#x27;formConfigItemsaa&#x27;, formConfigItems)</span></span><br><span class="line">    <span class="keyword">return</span> formConfigItems</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">findComponentByName</span> = (<span class="params"> configItems, name, result </span>) =&gt;&#123;</span><br><span class="line">    <span class="keyword">if</span> ( !name ) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">findComponent</span>(<span class="params">configItems, name</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> components = configItems.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> ( item.<span class="property">componentName</span> === name ) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> ( item.<span class="property">children</span> &amp;&amp; item.<span class="property">children</span>.<span class="property">length</span> ) &#123;</span><br><span class="line">                <span class="title function_">findComponent</span>( item.<span class="property">children</span>, name)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">if</span> ( components.<span class="property">length</span> ) result = components</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">findComponent</span>(configItems, name)</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details></li></ol><h3 id="创建公用组件"><a href="#创建公用组件" class="headerlink" title="创建公用组件"></a>创建公用组件</h3><p><code>page-designer/component</code></p><blockquote><p><code>/component/dialog/PreviewCodeDialog.vue</code>: 代码预览<br><code>/component/dialog/PreviewPageDialog.vue</code>: 界面预览<br><code>/component/dialog/RenderComponent.vue</code>: 在 <code>PreviewPageDialog</code> 该组件中有引用，作用，就是用来渲染拖拽结果后的组件！<br><code>/component/ConfigMultipleAttr.vue</code> : 针对 <code>paginationTable</code> 和 <code>m-form</code> 组件 可添加多个属性配置!</p></blockquote><ol><li><p><code>ConfigMultipleAttr.vue</code></p><details class="folding-tag"><summary>ConfigMultipleAttr</summary><div class="content"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;config-multiple-attr&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-divider</span> <span class="attr">content-position</span>=<span class="string">&quot;left&quot;</span>&gt;</span> &#123;&#123; title || &#x27;配置项&#x27; &#125;&#125;<span class="tag">&lt;/<span class="name">el-divider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">el-collapse</span> <span class="attr">v-model</span>=<span class="string">&quot;activeNames&quot;</span> <span class="attr">accordion</span> @<span class="attr">change</span>=<span class="string">&quot;handleChangeCollapse&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-collapse-item</span> <span class="attr">v-for</span>=<span class="string">&quot;(item, key) in configItems&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                        <span class="attr">:key</span>=<span class="string">&quot;item.id&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                        <span class="attr">:name</span>=<span class="string">&quot;key&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;collapse-title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;el-icon-s-operation&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              &#123;&#123; `$&#123;item.formData[collapseTitle] || &#x27;配置项&#x27;&#125;-$&#123;key&#125;`&#125;&#125;</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;button&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-delete&quot;</span> <span class="attr">size</span>=<span class="string">&quot;mini&quot;</span> @<span class="attr">click.stop</span>=<span class="string">&quot;removeDomain(item, key)&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">m-form</span> <span class="attr">:formData</span>=<span class="string">&quot;item.formData&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">:formConfigItems</span>=<span class="string">&quot;item.formConfigItems&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">:labelWidth</span>=<span class="string">&quot;&#x27;80px&#x27;&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                @<span class="attr">handleBlur</span>=<span class="string">&quot;handleBlur&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        &gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">m-form</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">el-collapse-item</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">el-collapse</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;operator&quot;</span> <span class="attr">style</span>=<span class="string">&quot;text-align: center&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> <span class="attr">icon</span>=<span class="string">&quot;el-icon-plus&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;configMoreAttr&quot;</span>&gt;</span>&#123;&#123; buttonName || &#x27;添加&#x27; &#125;&#125;<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;MultipleColumnsAttrConfig&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">configItems</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">type</span>: <span class="title class_">Array</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">default</span>: <span class="function">() =&gt;</span> []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">title</span>: <span class="title class_">String</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">collapseTitle</span>: <span class="title class_">String</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">buttonName</span>: <span class="title class_">String</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">activeNames</span>: <span class="number">0</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">handleChangeCollapse</span>(<span class="params"></span>)&#123;&#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">handleBlur</span>(<span class="params">val</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;handleInputBlur&#x27;</span>, val)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">configMoreAttr</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">activeNames</span> = <span class="variable language_">this</span>.<span class="property">configItems</span>.<span class="property">length</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;add-attr&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">removeDomain</span>(<span class="params"> item, index </span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$emit(<span class="string">&#x27;remove-attr&#x27;</span>, &#123; item, index &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.operator</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">margin-top</span>:<span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">text-align</span>: center</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-class">.collapse-title</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">justify-content</span>: space-between;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.title</span>,<span class="selector-class">.button</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.title</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">font-weight</span>: bold;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">color</span>: <span class="number">#43a8e8</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.button</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.el-button--text</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">color</span>: <span class="number">#d7195d</span> <span class="meta">!important</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details></li><li><p><code>PreviewCodeDialog.vue</code></p><details class="folding-tag"><summary>PreviewCodeDialog</summary><div class="content"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-dialog</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">title</span>=<span class="string">&quot;代码预览&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">width</span>=<span class="string">&quot;85%&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">top</span>=<span class="string">&quot;3vh&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">:close-on-click-modal</span>=<span class="string">&quot;false&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">:visible.sync</span>=<span class="string">&quot;isShowDialog&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    <span class="attr">append-to-body</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  &gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;operator&quot;</span> <span class="attr">style</span> = <span class="string">&quot;text-align:right; margin-bottom: 10px&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;downloadCode&quot;</span>&gt;</span>生成vue文件到本地<span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">code-editor</span> <span class="attr">v-model</span>=<span class="string">&quot;codeSnippet&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">code-editor</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; generateTemplate &#125; <span class="keyword">from</span> <span class="string">&#x27;../../template&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; generateFile &#125; <span class="keyword">from</span> <span class="string">&quot;@/api/test&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">const</span> beautify_html = <span class="built_in">require</span>(<span class="string">&quot;js-beautify&quot;</span>).<span class="property">html</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// import &#123; generateFile &#125; from &quot;@/utils&quot;;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123; saveAs &#125; <span class="keyword">from</span> <span class="string">&#x27;file-saver&#x27;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;PreviewCodeDialog&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">isShowDialog</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">codeSnippet</span>: <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">sock</span>: <span class="literal">null</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">computed</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;designer&#x27;</span>])</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">open</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> &#123; configItems &#125; = <span class="variable language_">this</span>.<span class="property">designer</span>.<span class="property">schemas</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">let</span> a = <span class="title function_">generateTemplate</span>(configItems)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">codeSnippet</span> = <span class="title function_">beautify_html</span>(<span class="title function_">generateTemplate</span>(configItems),&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;indent_size&quot;</span>: <span class="string">&quot;3&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;indent_char&quot;</span>: <span class="string">&quot;\t&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;max_preserve_newlines&quot;</span>: <span class="string">&quot;1&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;preserve_newlines&quot;</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;keep_array_indentation&quot;</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;break_chained_methods&quot;</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;indent_scripts&quot;</span>: <span class="string">&quot;keep&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;brace_style&quot;</span>: <span class="string">&quot;none&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;space_before_conditional&quot;</span>: <span class="literal">true</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;unescape_strings&quot;</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;jslint_happy&quot;</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;end_with_newline&quot;</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;wrap_line_length&quot;</span>: <span class="string">&quot;40&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;indent_inner_html&quot;</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;comma_first&quot;</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;e4x&quot;</span>: <span class="literal">false</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="string">&quot;indent_empty_lines&quot;</span>: <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">isShowDialog</span> = <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">downloadCode</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$prompt(<span class="string">&#x27;请输入要保存的文件路径&#x27;</span>, <span class="string">&#x27;提示&#x27;</span>, &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">confirmButtonText</span>: <span class="string">&#x27;确定&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">cancelButtonText</span>: <span class="string">&#x27;取消&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;).<span class="title function_">then</span>( <span class="keyword">async</span> (&#123; value &#125;) =&gt; &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">/*let blob = new Blob([this.codeSnippet], &#123;type: &quot;text/javascript;charset=utf-8&quot;&#125;)</span></span></span></span><br><span class="line"><span class="comment"><span class="language-javascript"><span class="language-xml">        saveAs(blob, `$&#123;value&#125;.vue`)*/</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;value&#x27;</span>, value)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> params = &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">templateContent</span>: <span class="variable language_">this</span>.<span class="property">codeSnippet</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">fileUrl</span>: value</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> &#123; success, data &#125; = <span class="keyword">await</span> <span class="title function_">generateFile</span>( params )</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> ( success ) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="property">$notify</span>.<span class="title function_">success</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">title</span>: <span class="string">&#x27;提示!&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="attr">message</span>: <span class="string">`操作成功，文件路径已保存在<span class="subst">$&#123; data.fullUrl &#125;</span>目录下!`</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="property">isShowDialog</span> = <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;).<span class="title function_">catch</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&#x27;保存代码至本地代码环境下，需要本地开发环境支持，并需要启动 server/index node 服务后在进行操作!&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&#x27;此处保存，仅能保存文件至本地后，需要自己将文件放到对应的开发目录下!&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> blob = <span class="keyword">new</span> <span class="title class_">Blob</span>([<span class="variable language_">this</span>.<span class="property">codeSnippet</span>], &#123;<span class="attr">type</span>: <span class="string">&quot;text/javascript;charset=utf-8&quot;</span>&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title function_">saveAs</span>(blob, <span class="string">`<span class="subst">$&#123;value&#125;</span>.vue`</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">/deep/<span class="selector-class">.el-dialog__body</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">padding</span>: <span class="number">32px</span> <span class="number">20px</span> <span class="number">50px</span> <span class="number">20px</span> <span class="meta">!important</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details></li><li><p><code>PreviewPageDialog</code></p><details class="folding-tag"><summary>PreviewPageDialog</summary><div class="content"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- 预览窗口 --&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">el-dialog</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">v-if</span>=<span class="string">&quot;isShowDialog&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">class</span> = <span class="string">&quot;preview-wrapper&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">title</span>=<span class="string">&quot;界面预览&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">width</span>=<span class="string">&quot;75%&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">top</span>=<span class="string">&quot;5vh&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">append-to-body</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">:visible.sync</span>=<span class="string">&quot;isShowDialog&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">:close-on-click-modal</span>=<span class="string">&quot;false&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">  &gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;schemas &amp;&amp; schemas.configItems &amp;&amp; schemas.configItems.length&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">render-components</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">:configItems</span>=<span class="string">&quot;schemas.configItems&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">el-dialog</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">RenderComponents</span> <span class="keyword">from</span> <span class="string">&#x27;./RenderComponent&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;PreviewDialog&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>: [ <span class="string">&#x27;schemas&#x27;</span> ],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123; <span class="title class_">RenderComponents</span> &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">isShowDialog</span>: <span class="literal">false</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">open</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">isShowDialog</span> = <span class="literal">true</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details></li><li><p><code>RenderComponent</code></p><details class="folding-tag"><summary>RenderComponent</summary><div class="content"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">v-for</span>=<span class="string">&quot;(component, key) in configItems&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">:key</span>=<span class="string">&quot;component.id&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    &gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">:is</span>=<span class="string">&quot;component.componentName&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">:formData</span>=<span class="string">&quot;formData&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">v-bind</span>=<span class="string">&quot;getComponentAttr(component.attributePanes)&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">v-model</span>=<span class="string">&quot;component.prop || &#x27;&#x27;&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">render-component</span> <span class="attr">v-if</span>=<span class="string">&quot;component.children &amp;&amp; component.children.length&quot;</span> <span class="attr">:configItems</span>=<span class="string">&quot;component.children&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> &#123;clone, isString&#125; <span class="keyword">from</span> <span class="string">&quot;@/utils&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;RenderComponent&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="attr">configItems</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">type</span>: <span class="title class_">Array</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">default</span>: <span class="function">() =&gt;</span> []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">formData</span>: &#123;&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">computed</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">// 过滤组件需要绑定的属性</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">getComponentAttr</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">return</span> <span class="function">(<span class="params">attributePanes</span>) =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// console.log(&#x27;attributePanes&#x27;, attributePanes)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">if</span> ( !attributePanes || !attributePanes.<span class="property">length</span> ) <span class="keyword">return</span> []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> filterAttr = [<span class="string">&#x27;componentType&#x27;</span>, <span class="string">&#x27;propModel&#x27;</span>, <span class="string">&#x27;returnType&#x27;</span>, <span class="string">&#x27;panelLabel&#x27;</span>, <span class="string">&#x27;btnName&#x27;</span>, <span class="string">&#x27;options&#x27;</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// console.log(&#x27;attributePanes&#x27;, attributePanes)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> attributes = <span class="title function_">clone</span>(attributePanes).<span class="title function_">filter</span>(<span class="function"><span class="params">attr</span> =&gt;</span> attr.<span class="property">propModel</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> result = []</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        attributes.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">let</span> filterAfter = <span class="title class_">Object</span>.<span class="title function_">keys</span>(item).<span class="title function_">filter</span>(<span class="function"><span class="params">attr</span> =&gt;</span> !filterAttr.<span class="title function_">includes</span>(attr))</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          filterAfter.<span class="title function_">map</span>(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> ( item[key] ) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              result.<span class="title function_">push</span>(&#123; [key]: item[key] &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span> ( <span class="title function_">isString</span>(item[key]) &amp;&amp; item[key].<span class="title function_">indexOf</span>(<span class="string">&#x27;function&#x27;</span>) !== -<span class="number">1</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              <span class="comment">// console.log(&#x27;filter&#x27;, key, item[key])</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              result.<span class="title function_">push</span>(&#123; [key]: <span class="keyword">new</span> <span class="title class_">Function</span>(item[key]) &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// console.log(&#x27;filter result&#x27;, result)</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">return</span> result</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="selector-tag">span</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">width</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">height</span>: <span class="number">100%</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="attribute">display</span>: block;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-tag">div</span><span class="selector-class">.child-component-item</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">position</span>: relative;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">border</span>: <span class="number">2px</span> dotted <span class="number">#979797</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">padding</span>: <span class="number">20px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &amp;<span class="selector-pseudo">:active</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">border</span>: <span class="number">2px</span> dotted <span class="number">#1890FF</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.label</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">position</span>: absolute;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">top</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">left</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">padding</span>: <span class="number">5px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">font-weight</span>: bold;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">text-align</span>: right;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(	<span class="number">245</span>, <span class="number">222</span>, <span class="number">179</span>, .<span class="number">5</span>);</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">z-index</span>: <span class="number">1</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.operator</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">position</span>: absolute;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">bottom</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">right</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="selector-class">.el-button</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">margin-left</span>: <span class="number">2px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      /deep/<span class="selector-class">.el-button--mini</span>, <span class="selector-class">.el-button--mini</span><span class="selector-class">.is-round</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">        <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">8px</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-tag">div</span><span class="selector-class">.isActive</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">border</span>: <span class="number">2px</span> dotted <span class="number">#1890FF</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details></li></ol><h3 id="创建-主界面"><a href="#创建-主界面" class="headerlink" title="创建 主界面"></a>创建 主界面</h3><p><code>pager-designer/index.vue</code><br></p><details class="folding-tag"><summary>index.vue</summary><div class="content"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span> = <span class="string">&quot;pager-designer&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!--  组件项   --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">component-items</span> <span class="attr">ref</span>=<span class="string">&quot;leftContainerRef&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    <span class="attr">:selectComponent.sync</span>=<span class="string">&quot;selectComponent&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    <span class="attr">:draggableObject.sync</span>=<span class="string">&quot;draggableObject&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 拖拽区域   --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">draggable-area</span> <span class="attr">ref</span>=<span class="string">&quot;centerContainerRef&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                      <span class="attr">:selectComponent</span>=<span class="string">&quot;selectComponent&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                      <span class="attr">:draggableObject</span>=<span class="string">&quot;draggableObject&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                      <span class="attr">:currentComponent.sync</span>=<span class="string">&quot;currentComponent&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                      @<span class="attr">clearNullRightPanel</span>=<span class="string">&quot;clearNullRightPanel&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">    /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 设置属性面板   --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">setting-attr-panel</span> <span class="attr">ref</span>=<span class="string">&quot;settingAttributeRef&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!--    &lt;fc-designer ref=&quot;designer&quot;/&gt;--&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;index&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">ComponentItems</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="comment">/* webpackChunkName: &#x27;ComponentItems*/</span> <span class="string">&#x27;./component-items&#x27;</span>),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">DraggableArea</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="comment">/* webpackChunkName: &#x27;DraggableArea&#x27;*/</span> <span class="string">&#x27;./draggable-area&#x27;</span>),</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">SettingAttrPanel</span>: <span class="function">() =&gt;</span> <span class="title function_">import</span>(<span class="comment">/* webpackChunkName: &#x27;SettingAttrPanel&#x27;*/</span> <span class="string">&#x27;./setting-attr-panel&#x27;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">selectComponent</span>: <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">draggableObject</span>: <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">currentComponent</span>: <span class="literal">null</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">clearNullRightPanel</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.$nextTick(<span class="function">() =&gt;</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;rightContainerRef&#x27;</span>] ? <span class="variable language_">this</span>.<span class="property">$refs</span>[<span class="string">&#x27;rightContainerRef&#x27;</span>].<span class="property">componentAttr</span> = [] : <span class="string">&#x27;&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.pager-designer</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">display</span>: flex;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">justify-content</span>: space-between;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.left-container</span>, <span class="selector-class">.right-container</span> &#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">flex</span>: <span class="number">1</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="selector-class">.center-container</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">      <span class="attribute">flex</span>: <span class="number">4</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="comment">/*/deep/.el-container, /deep/.el-main&#123;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-css"><span class="language-xml">    background-color: #fff;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-css"><span class="language-xml">  &#125;*/</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="comment">/*/deep/.el-aside&#123;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-css"><span class="language-xml">    width: 100%;</span></span></span></span><br><span class="line"><span class="comment"><span class="language-css"><span class="language-xml">  &#125;*/</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  /deep/._fc-l-item&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">min-width</span>: <span class="number">0</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  <span class="selector-class">.el-dialog</span>&#123;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">    <span class="attribute">width</span>: <span class="number">85%</span><span class="meta">!important</span>;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details><p></p><h3 id="创建-server-文件"><a href="#创建-server-文件" class="headerlink" title="创建 server 文件"></a>创建 server 文件</h3><blockquote><p><code>src/server/index.js</code>: 此文件作用在开发环境下，可启动此服务，<code>通过代码生成，将文件保存至开发目录下的目标路径!</code><br>此方式，通过<code>nodejs</code>在本地启动服务，通过接口监听，获取参数包括，<code>模板内容</code>，以及<code>保存路径</code>参数!</p></blockquote><details class="folding-tag"><summary>server/index.js</summary><div class="content"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> app = http.<span class="title function_">createServer</span>()</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">BASE_URL</span> = <span class="string">`<span class="subst">$&#123;path.dirname( __dirname)&#125;</span>/views/fileGenerateDir`</span></span><br><span class="line"><span class="keyword">let</span> fullUrl = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> filePath = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="comment">// 监听请求</span></span><br><span class="line">app.<span class="title function_">on</span>( <span class="string">&#x27;request&#x27;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">    res.<span class="title function_">setHeader</span>(<span class="string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="string">&quot;*&quot;</span>);</span><br><span class="line">    res.<span class="title function_">setHeader</span>(<span class="string">&quot;Access-Control-Allow-Headers&quot;</span>, <span class="string">&quot;Content-Type,Content-Length, Authorization, Accept,X-Requested-With&quot;</span>);</span><br><span class="line">    res.<span class="title function_">setHeader</span>(<span class="string">&quot;Access-Control-Allow-Methods&quot;</span>,<span class="string">&quot;PUT,POST,GET,DELETE,OPTIONS&quot;</span>);</span><br><span class="line">    res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Content-type&#x27;</span>,<span class="string">&#x27;application/json&#x27;</span>);</span><br><span class="line">    <span class="comment">//  监听post 请求</span></span><br><span class="line">    req.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="function">(<span class="params"> postData </span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">let</span> requestData = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(postData.<span class="title function_">toString</span>())</span><br><span class="line">        <span class="comment">// 注意 postData 是一个Buffer类型的数据，也就是post请求的数据存到了缓冲区</span></span><br><span class="line">        <span class="keyword">let</span> &#123; fileUrl, templateContent &#125; = requestData</span><br><span class="line">        <span class="keyword">let</span> url = fileUrl.<span class="title function_">substring</span>(<span class="number">0</span>, fileUrl.<span class="title function_">lastIndexOf</span>(<span class="string">&#x27;/&#x27;</span>)) || <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">let</span> fileName = fileUrl.<span class="title function_">substring</span>(fileUrl.<span class="title function_">lastIndexOf</span>(<span class="string">&#x27;/&#x27;</span>)+<span class="number">1</span>, fileUrl.<span class="property">length</span>)</span><br><span class="line">        <span class="comment">// console.log(&#x27;fileUrl url file&#x27;, fileUrl, url, fileName)</span></span><br><span class="line">        fullUrl = path.<span class="title function_">join</span>(<span class="variable constant_">BASE_URL</span>, url)</span><br><span class="line">        <span class="keyword">let</span> directory = <span class="title function_">generateDir</span>( fullUrl, fileName, templateContent )</span><br><span class="line">        filePath = <span class="string">`<span class="subst">$&#123;directory&#125;</span><span class="subst">$&#123;fileName&#125;</span>.vue`</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;filePath&#x27;</span>, filePath )</span><br><span class="line">        fs.<span class="title function_">writeFileSync</span>(filePath, templateContent, &#123;</span><br><span class="line">            <span class="attr">encoding</span>: <span class="string">&#x27;utf8&#x27;</span>,</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在end事件触发后，通过querystring.parse将post解析为真正的POST请求格式，然后向客户端返回。</span></span><br><span class="line">    req.<span class="title function_">on</span>(<span class="string">&#x27;end&#x27;</span>,<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> result = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; <span class="attr">success</span>: <span class="literal">true</span>, <span class="attr">data</span>: &#123; <span class="attr">fullUrl</span>: filePath &#125; &#125;)</span><br><span class="line">        res.<span class="title function_">end</span>(result)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`server running http://localhost:3000/`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 处理文件内容</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">generateDir</span>(<span class="params"> fileUrl </span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> fileUrl.<span class="title function_">split</span>(<span class="string">&#x27;\\&#x27;</span>).<span class="title function_">reduce</span>(<span class="function">(<span class="params">directories, directory</span>) =&gt;</span> &#123;</span><br><span class="line">        directories += <span class="string">`<span class="subst">$&#123;directory&#125;</span>\\`</span></span><br><span class="line">        <span class="keyword">if</span> (!fs.<span class="title function_">existsSync</span>(directories)) &#123;</span><br><span class="line">            fs.<span class="title function_">mkdirSync</span>(directories)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> directories</span><br><span class="line">    &#125;, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details><h3 id="创建-store-状态管理"><a href="#创建-store-状态管理" class="headerlink" title="创建 store 状态管理"></a>创建 store 状态管理</h3><blockquote><p><code>store/module/designer.js</code></p></blockquote><p><code>designer.js</code><br></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">    <span class="attr">schemas</span>: &#123;&#125;,</span><br><span class="line">    <span class="attr">selectComponent</span>: &#123;</span><br><span class="line">        <span class="attr">configItems</span>: []</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">hasRemoveCurrentItem</span>: <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="title function_">SETTING_SCHEMAS</span>(<span class="params">state, schemas</span>) &#123;</span><br><span class="line">        state.<span class="property">schemas</span>.<span class="property">configItems</span> = schemas</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">SETTING_CURRENT_COMPONENT</span>(<span class="params">state, currentComponent</span>) &#123;</span><br><span class="line">        state.<span class="property">selectComponent</span> = currentComponent</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">HAS_REMOVE_CURRENT_ITEM</span>(<span class="params">state, hasRemoveCurrentItem</span>) &#123;</span><br><span class="line">        state.<span class="property">hasRemoveCurrentItem</span> = hasRemoveCurrentItem</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    state,</span><br><span class="line">    mutations,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p></p><h2 id="结束"><a href="#结束" class="headerlink" title="结束"></a>结束</h2><blockquote><p>此功能，可能会存在一些缺陷，目前还在开发阶段，平时开发不是那么频繁，偶尔会测试下功能的可用行等，并优化相关问题!</p></blockquote><a class="tag-Link" target="_blank" href="https://gitee.com/miao_jiangwei/vue-manager-system"><div class="tag-link-tips">引用站外地址</div><div class="tag-link-bottom"><div class="tag-link-left" style="background-image:url(https://avatars.githubusercontent.com/u/99933?s=48&v=4)"></div><div class="tag-link-right"><div class="tag-link-title">gitee地址</div><div class="tag-link-sitename">https://gitee.com/miao_jiangwei/vue-manager-system</div></div><i class="fa-solid fa-angle-right"></i></div></a></article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vue/">Vue</a><a class="post-meta__tags" href="/tags/VueDemo/">VueDemo</a></div><div class="post_share"><div class="addthis_inline_share_toolbox"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=null" async></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/images/wechat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/images/wechat.png" alt="微信"></a><div class="post-qr-code-desc">微信</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/01/29/tools/nodejs/depcheck/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-36.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" onerror='onerror=null,src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">package依赖包检测工具</div></div></a></div><div class="next-post pull-right"><a href="/2023/01/31/demo/vue/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%85%B1%E4%BA%AB%E5%B1%8F%E5%B9%95%E5%BD%95%E5%88%B6/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-31.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" onerror='onerror=null,src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">实现一个共享屏幕录制!</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/01/31/demo/vue/%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%85%B1%E4%BA%AB%E5%B1%8F%E5%B9%95%E5%BD%95%E5%88%B6/" title="实现一个共享屏幕录制!"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-31.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-31</div><div class="title">实现一个共享屏幕录制!</div></div></a></div><div><a href="/2023/06/26/inductive/vue/Vue2-x%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BB%84%E4%BB%B6/" title="Vue2.x函数式组件"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-31.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-26</div><div class="title">Vue2.x函数式组件</div></div></a></div><div><a href="/2022/06/16/inductive/vue/attrs%E5%92%8CinheritAttrs/" title="$attrs 和 inheritAttrs 属性绑定"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-26.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-06-16</div><div class="title">$attrs 和 inheritAttrs 属性绑定</div></div></a></div><div><a href="/2022/11/24/inductive/vue/axios%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%97%E5%8F%82%E6%95%B0%E7%BB%93%E5%B0%BE%E5%B8%A6%E6%9C%89%E7%AD%89%E5%8F%B7/" title="axios请求数据后端接受参数结尾带有&#x3D;符号问题"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-8.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-24</div><div class="title">axios请求数据后端接受参数结尾带有&#x3D;符号问题</div></div></a></div><div><a href="/2022/07/19/inductive/vue/browserslistrc%E6%B5%8F%E8%A7%88%E5%99%A8%E5%92%8Cnodejs%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E6%8F%92%E4%BB%B6/" title="browserslistrc浏览器和nodejs版本控制插件"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-21.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-19</div><div class="title">browserslistrc浏览器和nodejs版本控制插件</div></div></a></div><div><a href="/2022/11/29/inductive/vue/vue%20%E4%B8%AD%E4%B8%8D%E7%94%A8%E6%8F%92%E4%BB%B6%E9%80%9A%E8%BF%87%E6%96%87%E4%BB%B6%E6%B5%81%E9%A2%84%E8%A7%88pdf%E6%96%B9%E6%A1%88/" title="vue中不用插件通过文件流预览pdf方案"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-21.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-29</div><div class="title">vue中不用插件通过文件流预览pdf方案</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div><div class="comment-barrage"></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/site/avatar.jpg?imageMogr2/thumbnail/200x/blur/1x0/quality/75|imageslim" onerror='this.onerror=null,this.src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="avatar"></div><div class="author-info__name">啤啤熊</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">114</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">25</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Miaojw0517"><i class="fab fa-github"></i><span>github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Miaojw0517" target="_blank" title="Github"><i class="iconfont icon-github"></i></a><a class="social-icon" href="https://gitee.com/miao_jiangwei/projects" target="_blank" title="Gitee"><i class="iconfont icon-gitee"></i></a><a class="social-icon" href="/mjw1046665443@163.com" target="_blank" title="163Email"><i class="iconfont icon-youxiang"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%88%E6%9E%9C%E9%A2%84%E8%A7%88"><span class="toc-number">2.</span> <span class="toc-text">效果预览</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D"><span class="toc-number">3.</span> <span class="toc-text">功能介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E4%BB%B6"><span class="toc-number">4.</span> <span class="toc-text">插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">5.</span> <span class="toc-text">目录结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E9%98%B6%E6%AE%B5"><span class="toc-number">6.</span> <span class="toc-text">开发阶段</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6"><span class="toc-number">6.1.</span> <span class="toc-text">安装插件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%BB%84%E4%BB%B6%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">6.2.</span> <span class="toc-text">创建组件配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%BB%84%E4%BB%B6%E9%A1%B9%E5%88%97%E8%A1%A8"><span class="toc-number">6.3.</span> <span class="toc-text">创建组件项列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%8B%96%E6%8B%BD%E5%8C%BA%E5%9F%9F"><span class="toc-number">6.4.</span> <span class="toc-text">创建拖拽区域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%BB%84%E4%BB%B6%E9%9D%A2%E6%9D%BF"><span class="toc-number">6.5.</span> <span class="toc-text">创建组件面板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAvue%E6%A8%A1%E6%9D%BF%E6%96%87%E4%BB%B6"><span class="toc-number">6.6.</span> <span class="toc-text">创建vue模板文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%85%AC%E7%94%A8%E7%BB%84%E4%BB%B6"><span class="toc-number">6.7.</span> <span class="toc-text">创建公用组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-%E4%B8%BB%E7%95%8C%E9%9D%A2"><span class="toc-number">6.8.</span> <span class="toc-text">创建 主界面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-server-%E6%96%87%E4%BB%B6"><span class="toc-number">6.9.</span> <span class="toc-text">创建 server 文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-store-%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86"><span class="toc-number">6.10.</span> <span class="toc-text">创建 store 状态管理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9D%9F"><span class="toc-number">7.</span> <span class="toc-text">结束</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/09/08/inductive/flutter/flutter-dio%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" title="flutter_dio多环境配置"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-1.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" onerror='this.onerror=null,this.src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="flutter_dio多环境配置"></a><div class="content"><a class="title" href="/2023/09/08/inductive/flutter/flutter-dio%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" title="flutter_dio多环境配置">flutter_dio多环境配置</a><time datetime="2023-09-08T09:05:19.000Z" title="发表于 2023-09-08 17:05:19">2023-09-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/07/inductive/flutter/uses-sdk-minSdkVersion-16/" title="Error:uses-sdk:minSdkVersion 16"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-23.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" onerror='this.onerror=null,this.src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="Error:uses-sdk:minSdkVersion 16"></a><div class="content"><a class="title" href="/2023/09/07/inductive/flutter/uses-sdk-minSdkVersion-16/" title="Error:uses-sdk:minSdkVersion 16">Error:uses-sdk:minSdkVersion 16</a><time datetime="2023-09-07T02:39:12.000Z" title="发表于 2023-09-07 10:39:12">2023-09-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/30/inductive/nodejs/mac%E4%B8%8Bnvm%E5%88%87%E6%8D%A2%E7%89%88%E6%9C%AC%E9%97%AE%E9%A2%98/" title="mac下nvm切换版本问题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-11.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" onerror='this.onerror=null,this.src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="mac下nvm切换版本问题"></a><div class="content"><a class="title" href="/2023/08/30/inductive/nodejs/mac%E4%B8%8Bnvm%E5%88%87%E6%8D%A2%E7%89%88%E6%9C%AC%E9%97%AE%E9%A2%98/" title="mac下nvm切换版本问题">mac下nvm切换版本问题</a><time datetime="2023-08-30T08:46:56.000Z" title="发表于 2023-08-30 16:46:56">2023-08-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/30/inductive/nodejs/MacBookM2-nvm-install-14-x%E7%89%88%E6%9C%AC%E6%8A%A5%E9%94%99/" title="MacBookM2 nvm install 14.x版本报错"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-22.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" onerror='this.onerror=null,this.src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="MacBookM2 nvm install 14.x版本报错"></a><div class="content"><a class="title" href="/2023/08/30/inductive/nodejs/MacBookM2-nvm-install-14-x%E7%89%88%E6%9C%AC%E6%8A%A5%E9%94%99/" title="MacBookM2 nvm install 14.x版本报错">MacBookM2 nvm install 14.x版本报错</a><time datetime="2023-08-30T03:42:46.000Z" title="发表于 2023-08-30 11:42:46">2023-08-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/28/inductive/flutter/flutter-%E5%B0%81%E8%A3%85dio/" title="flutter_封装dio"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-29.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" onerror='this.onerror=null,this.src="https://www.msirknightblog.cn/static/images/blog/404.gif"' alt="flutter_封装dio"></a><div class="content"><a class="title" href="/2023/08/28/inductive/flutter/flutter-%E5%B0%81%E8%A3%85dio/" title="flutter_封装dio">flutter_封装dio</a><time datetime="2023-08-28T02:18:02.000Z" title="发表于 2023-08-28 10:18:02">2023-08-28</time></div></div></div></div><div class="card-widget card-cheesy_pick-up_lines"><div class="card-content"><div class="item-headline"><i class="fas fa-heart" style="color:pink"></i><span>土味情话</span></div><div id="cheesy_pick-up_lines-container"></div></div></div><script data-pjax="data-pjax" src="/js/cheesy_pick-up_lines.js"></script></div></div></main><footer id="footer"><div id="footer-wrap"><div id="running-time"></div><div class="copyright">&copy;2022 - 2023 By 啤啤熊</div><div class="icp"><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/"><span>京ICP备2022026194号</span></a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">簡</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="浅色和深色模式转换"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a></div></div><div id="nav-music"><div id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()">播放音乐</div><meting-js id="1708664797" server="tencent" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="fa-solid fa-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="fa-solid fa-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="fa-solid fa-arrow-rotate-right"></i></div><div class="rightMenu-item" id="menu-top"><i class="fa-solid fa-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="fas fa-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="fas fa-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="fas fa-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="fas fa-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="fas fa-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="fas fa-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="fas fa-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-search"><i class="fa-solid fa-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="fa-solid fa-magnifying-glass"></i><span>百度搜索</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="fas fa-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="fas fa-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="fas fa-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item menu-link" href="/privacy/"><i class="fa-solid fa-hand"></i><span>隐私协议</span></a><a class="rightMenu-item menu-link" href="/cc/"><i class="fa-solid fa-closed-captioning"></i><span>版权协议</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><div class="rightMenu-item" id="menu-copy"><i class="fas fa-copy"></i><span>复制地址</span></div><a class="rightMenu-item" id="menu-darkmode" href="javascript:navFn.switchDarkMode();"><i class="fa-solid fa-moon"></i><span class="menu-darkmode-text">显示模式</span></a><div class="rightMenu-item" id="menu-translate"><i class="fas fa-language"></i><span>轉為繁體</span></div></div></div><div id="rightmenu-mask"></div><div><script src="https://www.msirknightblog.cn/static/js/utils.js"></script><script src="https://www.msirknightblog.cn/static/js/main.js"></script><script src="https://www.msirknightblog.cn/static/js/tw_cn.js"></script><script src="https://npm.elemecdn.com/@fancyapps/ui@latest/dist/fancybox.umd.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.js"></script><script src="https://npm.elemecdn.com/algoliasearch@latest/dist/algoliasearch-lite.umd.js"></script><script src="https://npm.elemecdn.com/instantsearch.js@latest/dist/instantsearch.production.min.js"></script><script src="https://www.msirknightblog.cn/static/js/search/algolia.js"></script><script>(()=>{const t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://knight-twikoo.cn/",region:"",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null))};const o=()=>{t()},e=()=>{"object"==typeof twikoo?setTimeout(o,0):getScript("https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/twikoo/1.4.18/twikoo.all.min.js").then(o)};btf.loadComment(document.getElementById("twikoo-wrap"),e)})()</script><script defer src="https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js"></script><script defer src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script><script charset="UTF-8" id="LA_COLLECT" src="https://sdk.51.la/js-sdk-pro.min.js"></script><script src="https://sdk.51.la/perf/js-sdk-perf.min.js" crossorigin="anonymous"></script><script src="/js/random.js"></script><script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script><script>setInterval(()=>{var e=Math.round(new Date("2022-8-22-15:02:54").getTime()/1e3);let t=Math.round(((new Date).getTime()+288e5)/1e3)-e,n=new Array(0,0,0,0,0);31536e3<=t&&(n[0]=parseInt(t/31536e3),t%=31536e3),86400<=t&&(n[1]=parseInt(t/86400),t%=86400),3600<=t&&(n[2]=parseInt(t/3600),t%=3600),60<=t&&(n[3]=parseInt(t/60),t%=60),0<t&&(n[4]=t),currentTimeHtml="小破站已经安全运行 "+n[0]+" 年 "+n[1]+" 天 "+n[2]+" 时 "+n[3]+" 分 "+n[4]+" 秒";e=document.getElementById("running-time");e&&(e.innerHTML=currentTimeHtml)},1e3)</script><script type="text/javascript" defer src="/js/commentBarrage.js"></script><script async data-pjax src="/js/waterfall/waterfall.js"></script><script data-pjax src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/js/swiper.min.js"></script><script defer src="/js/gallery.js?v1"></script><script defer data-pjax src="https://www.msirknightblog.cn/static/js/custom.js"></script><script defer src="https://www.msirknightblog.cn/static/js/anzhiyu.js"></script><script defer data-pjax src="https://www.msirknightblog.cn/static/js/anzhiyufunction.js"></script><script defer data-pjax src="https://www.msirknightblog.cn/static/js/rightMenu2.js"></script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://npm.elemecdn.com/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><canvas id="universe"></canvas><script async src="/js/universe.js"></script></div><script data-pjax>var parent,child;document.getElementById("recent-posts")&&(location.pathname,1)&&(parent=document.getElementById("recent-posts"),child='<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/FrontEnd/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📚 前端 (66)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/Butterlfy/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🎮 Butterlfy (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/Nginx/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">👩‍💻 Nginx (3)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/Linux/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📒 Linux (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/Tools/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">💡 Tools (9)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/移动端/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🐱 移动端 (22)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/地图/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🐱 地图 (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://ppxiong.msirknightblog.cn/categories/Git/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">💡 Git (5)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://ppxiong.msirknightblog.cn/categories/" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>',console.log("已挂载magnet"),parent.insertAdjacentHTML("afterbegin",child))</script><style>#catalog_magnet{flex-wrap:wrap;display:flex;width:100%;justify-content:space-between;padding:10px 10px 0 10px;align-content:flex-start}.magnet_item{flex-basis:calc(50% - 5px);background:#f2f2f2;margin-bottom:10px;border-radius:8px;transition:all .2s ease-in-out}.magnet_item:hover{background:#b30070}.magnet_link_more{color:#555}.magnet_link{color:#000}.magnet_link:hover{color:#fff}@media screen and (max-width:600px){.magnet_item{flex-basis:100%}}.magnet_link_context{display:flex;padding:10px;font-size:16px;transition:all .2s ease-in-out}.magnet_link_context:hover{padding:10px 20px}</style><style></style><script data-pjax>function butterfly_swiper_injector_config(){var i=document.getElementById("head-swiper");console.log("已挂载butterfly_swiper"),i.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/02/07/inductive/javascript/ArryBuffer类型转换为Json/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-22.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-02-07</span><a class="blog-slider__title" href="2023/02/07/inductive/javascript/ArryBuffer类型转换为Json/" alt="">ArryBuffer类型转换为Json</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2023/02/07/inductive/javascript/ArryBuffer类型转换为Json/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/08/07/learning/frontEnd/node/node环境搭建/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-21.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-08-07</span><a class="blog-slider__title" href="2022/08/07/learning/frontEnd/node/node环境搭建/" alt="">Node环境搭建</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2022/08/07/learning/frontEnd/node/node环境搭建/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/08/06/inductive/nodejs/设置仓库地址/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-9.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-08-06</span><a class="blog-slider__title" href="2022/08/06/inductive/nodejs/设置仓库地址/" alt="">设置仓库地址</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2022/08/06/inductive/nodejs/设置仓库地址/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/05/20/inductive/flutter/Flutter常用插件/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-29.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-05-20</span><a class="blog-slider__title" href="2023/05/20/inductive/flutter/Flutter常用插件/" alt="">Flutter常用插件</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2023/05/20/inductive/flutter/Flutter常用插件/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2023/03/05/work/记录下工作开发中遇到的问题/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-39.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-03-05</span><a class="blog-slider__title" href="2023/03/05/work/记录下工作开发中遇到的问题/" alt="">记录下工作开发中遇到的问题!</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2023/03/05/work/记录下工作开发中遇到的问题/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/07/07/inductive/javascript/常用的工具函数/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-8.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-07-07</span><a class="blog-slider__title" href="2022/07/07/inductive/javascript/常用的工具函数/" alt="">JS常用的工具函数</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2022/07/07/inductive/javascript/常用的工具函数/" alt="">详情   </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" href="2022/05/30/inductive/javascript/ArrayBuffer 转 base64/" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.msirknightblog.cn/static/images/blog/sdjklajdiw-12.jpg?imageMogr2/thumbnail/640x640/format/webp/blur/1x0/quality/50" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-05-30</span><a class="blog-slider__title" href="2022/05/30/inductive/javascript/ArrayBuffer 转 base64/" alt="">ArrayBuffer 转 base64</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" href="2022/05/30/inductive/javascript/ArrayBuffer 转 base64/" alt="">详情   </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>')}for(var elist="undefined".split(","),cpage=location.pathname,epage="all",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_swiper_injector_config()</script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><div class="js-pjax"><script async>for(var arr=document.getElementsByClassName("recent-post-item"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__fadeInUp"),arr[i].setAttribute("data-wow-duration",".9s"),arr[i].setAttribute("data-wow-delay","0"),arr[i].setAttribute("data-wow-offset","30"),arr[i].setAttribute("data-wow-iteration","1")</script><script async>for(var arr=document.getElementsByClassName("card-widget"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__fadeInUp"),arr[i].setAttribute("data-wow-duration",".9s"),arr[i].setAttribute("data-wow-delay","0"),arr[i].setAttribute("data-wow-offset","30"),arr[i].setAttribute("data-wow-iteration","")</script><script async>for(var arr=document.getElementsByClassName("article-sort-item"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__fadeIn"),arr[i].setAttribute("data-wow-duration",".9s"),arr[i].setAttribute("data-wow-delay","0"),arr[i].setAttribute("data-wow-offset","30"),arr[i].setAttribute("data-wow-iteration","1")</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script></body></html>